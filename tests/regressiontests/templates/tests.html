<!DOCTYPE html>
<html><head><title>joekychen/django » tests › regressiontests › templates › tests.py

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>tests.py</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div><p>-<em>- coding: utf-8 -</em>-</p></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">absolute_import</span><span class="p">,</span> <span class="n">unicode_literals</span>

<span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>When running this file in isolation, we need to set up the configuration
before importing 'template'.</p></td><td class="code"><div class="highlight"><pre>    <span class="n">settings</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span>

<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">traceback</span>
<span class="kn">from</span> <span class="nn">urlparse</span> <span class="kn">import</span> <span class="n">urljoin</span>

<span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">template</span>
<span class="kn">from</span> <span class="nn">django.template</span> <span class="kn">import</span> <span class="n">base</span> <span class="k">as</span> <span class="n">template_base</span><span class="p">,</span> <span class="n">RequestContext</span><span class="p">,</span> <span class="n">Template</span><span class="p">,</span> <span class="n">Context</span>
<span class="kn">from</span> <span class="nn">django.core</span> <span class="kn">import</span> <span class="n">urlresolvers</span>
<span class="kn">from</span> <span class="nn">django.template</span> <span class="kn">import</span> <span class="n">loader</span>
<span class="kn">from</span> <span class="nn">django.template.loaders</span> <span class="kn">import</span> <span class="n">app_directories</span><span class="p">,</span> <span class="n">filesystem</span><span class="p">,</span> <span class="n">cached</span>
<span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">RequestFactory</span>
<span class="kn">from</span> <span class="nn">django.test.utils</span> <span class="kn">import</span> <span class="p">(</span><span class="n">setup_test_template_loader</span><span class="p">,</span>
    <span class="n">restore_template_loaders</span><span class="p">,</span> <span class="n">override_settings</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">django.utils</span> <span class="kn">import</span> <span class="n">unittest</span>
<span class="kn">from</span> <span class="nn">django.utils.formats</span> <span class="kn">import</span> <span class="n">date_format</span>
<span class="kn">from</span> <span class="nn">django.utils.translation</span> <span class="kn">import</span> <span class="n">activate</span><span class="p">,</span> <span class="n">deactivate</span><span class="p">,</span> <span class="n">ugettext</span> <span class="k">as</span> <span class="n">_</span>
<span class="kn">from</span> <span class="nn">django.utils.safestring</span> <span class="kn">import</span> <span class="n">mark_safe</span>
<span class="kn">from</span> <span class="nn">django.utils.tzinfo</span> <span class="kn">import</span> <span class="n">LocalTimezone</span>

<span class="kn">from</span> <span class="nn">.callables</span> <span class="kn">import</span> <span class="n">CallableVariablesTests</span>
<span class="kn">from</span> <span class="nn">.context</span> <span class="kn">import</span> <span class="n">ContextTests</span>
<span class="kn">from</span> <span class="nn">.custom</span> <span class="kn">import</span> <span class="n">CustomTagTests</span><span class="p">,</span> <span class="n">CustomFilterTests</span>
<span class="kn">from</span> <span class="nn">.parser</span> <span class="kn">import</span> <span class="n">ParserTests</span>
<span class="kn">from</span> <span class="nn">.unicode</span> <span class="kn">import</span> <span class="n">UnicodeTests</span>
<span class="kn">from</span> <span class="nn">.nodelist</span> <span class="kn">import</span> <span class="n">NodelistTest</span><span class="p">,</span> <span class="n">ErrorIndexTest</span>
<span class="kn">from</span> <span class="nn">.smartif</span> <span class="kn">import</span> <span class="n">SmartIfTests</span>
<span class="kn">from</span> <span class="nn">.response</span> <span class="kn">import</span> <span class="p">(</span><span class="n">TemplateResponseTest</span><span class="p">,</span> <span class="n">CacheMiddlewareTest</span><span class="p">,</span>
    <span class="n">SimpleTemplateResponseTest</span><span class="p">,</span> <span class="n">CustomURLConfTest</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">.loaders</span> <span class="kn">import</span> <span class="n">RenderToStringTest</span><span class="p">,</span> <span class="n">EggLoaderTest</span>
<span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">if</span> <span class="s">&quot;pkg_resources&quot;</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">message</span><span class="p">:</span>
        <span class="k">pass</span> <span class="c"># If setuptools isn&#39;t installed, that&#39;s fine. Just move on.</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span>

<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">filters</span></pre></div></td></tr>


<tr id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><h6>#</h6>

<p>Custom template tag for tests #</p>

<h6>#</h6></td><td class="code"><div class="highlight"><pre><span class="n">register</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">Library</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">EchoNode</span><span class="p">(</span><span class="n">template</span><span class="o">.</span><span class="n">Node</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">contents</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contents</span> <span class="o">=</span> <span class="n">contents</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">do_echo</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">EchoNode</span><span class="p">(</span><span class="n">token</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">1</span><span class="p">:])</span>

<span class="k">def</span> <span class="nf">do_upper</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

<span class="n">register</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="s">&quot;echo&quot;</span><span class="p">,</span> <span class="n">do_echo</span><span class="p">)</span>
<span class="n">register</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="s">&quot;other_echo&quot;</span><span class="p">,</span> <span class="n">do_echo</span><span class="p">)</span>
<span class="n">register</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s">&quot;upper&quot;</span><span class="p">,</span> <span class="n">do_upper</span><span class="p">)</span>

<span class="n">template</span><span class="o">.</span><span class="n">libraries</span><span class="p">[</span><span class="s">&#39;testtags&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">register</span></pre></div></td></tr>


<tr id="section-4"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-4">&#182;</a></div><h6>#</h6>

<p>Helper objects for template tests #</p>

<h6>#</h6></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">SomeException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="n">silent_variable_failure</span> <span class="o">=</span> <span class="bp">True</span>

<span class="k">class</span> <span class="nc">SomeOtherException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">class</span> <span class="nc">ContextStackException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">class</span> <span class="nc">ShouldNotExecuteException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">class</span> <span class="nc">SomeClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">otherclass</span> <span class="o">=</span> <span class="n">OtherClass</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&quot;SomeClass.method&quot;</span>

    <span class="k">def</span> <span class="nf">method2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">o</span>

    <span class="k">def</span> <span class="nf">method3</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">SomeException</span>

    <span class="k">def</span> <span class="nf">method4</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">SomeOtherException</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s">&#39;silent_fail_key&#39;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SomeException</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s">&#39;noisy_fail_key&#39;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SomeOtherException</span>
        <span class="k">raise</span> <span class="ne">KeyError</span>

    <span class="k">def</span> <span class="nf">silent_fail_attribute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">SomeException</span>
    <span class="n">silent_fail_attribute</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">silent_fail_attribute</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">noisy_fail_attribute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">SomeOtherException</span>
    <span class="n">noisy_fail_attribute</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">noisy_fail_attribute</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">OtherClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&quot;OtherClass.method&quot;</span>

<span class="k">class</span> <span class="nc">TestObj</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">is_true</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">is_false</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">is_bad</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">ShouldNotExecuteException</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">SilentGetItemClass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">SomeException</span>

<span class="k">class</span> <span class="nc">SilentAttrClass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">b</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">SomeException</span>
    <span class="n">b</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">UTF8Class</span><span class="p">:</span>
    <span class="s">&quot;Class whose __str__ returns non-ASCII data&quot;</span>
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&#39;ŠĐĆŽćžšđ&#39;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;utf-8&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Templates</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_static_url</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">STATIC_URL</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_media_url</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">MEDIA_URL</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">STATIC_URL</span> <span class="o">=</span> <span class="s">&quot;/static/&quot;</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">MEDIA_URL</span> <span class="o">=</span> <span class="s">&quot;/media/&quot;</span>

    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">STATIC_URL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">old_static_url</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">MEDIA_URL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">old_media_url</span>

    <span class="k">def</span> <span class="nf">test_loaders_security</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ad_loader</span> <span class="o">=</span> <span class="n">app_directories</span><span class="o">.</span><span class="n">Loader</span><span class="p">()</span>
        <span class="n">fs_loader</span> <span class="o">=</span> <span class="n">filesystem</span><span class="o">.</span><span class="n">Loader</span><span class="p">()</span>
        <span class="k">def</span> <span class="nf">test_template_sources</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">template_dirs</span><span class="p">,</span> <span class="n">expected_sources</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expected_sources</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span></pre></div></td></tr>


<tr id="section-5"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-5">&#182;</a></div><p>Fix expected sources so they are abspathed</p></td><td class="code"><div class="highlight"><pre>                <span class="n">expected_sources</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">expected_sources</span><span class="p">]</span></pre></div></td></tr>


<tr id="section-6"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-6">&#182;</a></div><p>Test the two loaders (app_directores and filesystem).</p></td><td class="code"><div class="highlight"><pre>            <span class="n">func1</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">p</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">ad_loader</span><span class="o">.</span><span class="n">get_template_sources</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">t</span><span class="p">))</span>
            <span class="n">func2</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">p</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">fs_loader</span><span class="o">.</span><span class="n">get_template_sources</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">t</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">func</span> <span class="ow">in</span> <span class="p">(</span><span class="n">func1</span><span class="p">,</span> <span class="n">func2</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expected_sources</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">template_dirs</span><span class="p">),</span> <span class="n">expected_sources</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">expected_sources</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">template_dirs</span><span class="p">)</span>

        <span class="n">template_dirs</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;/dir1&#39;</span><span class="p">,</span> <span class="s">&#39;/dir2&#39;</span><span class="p">]</span>
        <span class="n">test_template_sources</span><span class="p">(</span><span class="s">&#39;index.html&#39;</span><span class="p">,</span> <span class="n">template_dirs</span><span class="p">,</span>
                              <span class="p">[</span><span class="s">&#39;/dir1/index.html&#39;</span><span class="p">,</span> <span class="s">&#39;/dir2/index.html&#39;</span><span class="p">])</span>
        <span class="n">test_template_sources</span><span class="p">(</span><span class="s">&#39;/etc/passwd&#39;</span><span class="p">,</span> <span class="n">template_dirs</span><span class="p">,</span> <span class="p">[])</span>
        <span class="n">test_template_sources</span><span class="p">(</span><span class="s">&#39;etc/passwd&#39;</span><span class="p">,</span> <span class="n">template_dirs</span><span class="p">,</span>
                              <span class="p">[</span><span class="s">&#39;/dir1/etc/passwd&#39;</span><span class="p">,</span> <span class="s">&#39;/dir2/etc/passwd&#39;</span><span class="p">])</span>
        <span class="n">test_template_sources</span><span class="p">(</span><span class="s">&#39;../etc/passwd&#39;</span><span class="p">,</span> <span class="n">template_dirs</span><span class="p">,</span> <span class="p">[])</span>
        <span class="n">test_template_sources</span><span class="p">(</span><span class="s">&#39;../../../etc/passwd&#39;</span><span class="p">,</span> <span class="n">template_dirs</span><span class="p">,</span> <span class="p">[])</span>
        <span class="n">test_template_sources</span><span class="p">(</span><span class="s">&#39;/dir1/index.html&#39;</span><span class="p">,</span> <span class="n">template_dirs</span><span class="p">,</span>
                              <span class="p">[</span><span class="s">&#39;/dir1/index.html&#39;</span><span class="p">])</span>
        <span class="n">test_template_sources</span><span class="p">(</span><span class="s">&#39;../dir2/index.html&#39;</span><span class="p">,</span> <span class="n">template_dirs</span><span class="p">,</span>
                              <span class="p">[</span><span class="s">&#39;/dir2/index.html&#39;</span><span class="p">])</span>
        <span class="n">test_template_sources</span><span class="p">(</span><span class="s">&#39;/dir1blah&#39;</span><span class="p">,</span> <span class="n">template_dirs</span><span class="p">,</span> <span class="p">[])</span>
        <span class="n">test_template_sources</span><span class="p">(</span><span class="s">&#39;../dir1blah&#39;</span><span class="p">,</span> <span class="n">template_dirs</span><span class="p">,</span> <span class="p">[])</span></pre></div></td></tr>


<tr id="section-7"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-7">&#182;</a></div><p>UTF-8 bytestrings are permitted.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">test_template_sources</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\xc3\x85</span><span class="s">ngstr</span><span class="se">\xc3\xb6</span><span class="s">m&#39;</span><span class="p">,</span> <span class="n">template_dirs</span><span class="p">,</span>
                              <span class="p">[</span><span class="s">&#39;/dir1/Ångström&#39;</span><span class="p">,</span> <span class="s">&#39;/dir2/Ångström&#39;</span><span class="p">])</span></pre></div></td></tr>


<tr id="section-8"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-8">&#182;</a></div><p>Unicode strings are permitted.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">test_template_sources</span><span class="p">(</span><span class="s">&#39;Ångström&#39;</span><span class="p">,</span> <span class="n">template_dirs</span><span class="p">,</span>
                              <span class="p">[</span><span class="s">&#39;/dir1/Ångström&#39;</span><span class="p">,</span> <span class="s">&#39;/dir2/Ångström&#39;</span><span class="p">])</span>
        <span class="n">test_template_sources</span><span class="p">(</span><span class="s">&#39;Ångström&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;/Stra</span><span class="se">\xc3\x9f</span><span class="s">e&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;/Straße/Ångström&#39;</span><span class="p">])</span>
        <span class="n">test_template_sources</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\xc3\x85</span><span class="s">ngstr</span><span class="se">\xc3\xb6</span><span class="s">m&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;/Stra</span><span class="se">\xc3\x9f</span><span class="s">e&#39;</span><span class="p">],</span>
                              <span class="p">[</span><span class="s">&#39;/Straße/Ångström&#39;</span><span class="p">])</span></pre></div></td></tr>


<tr id="section-9"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-9">&#182;</a></div><p>Invalid UTF-8 encoding in bytestrings is not. Should raise a
semi-useful error message.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">test_template_sources</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\xc3\xc3</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">template_dirs</span><span class="p">,</span> <span class="ne">UnicodeDecodeError</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-10"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-10">&#182;</a></div><p>Case insensitive tests (for win32). Not run unless we're on
a case insensitive operating system.</p></td><td class="code"><div class="highlight"><pre>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normcase</span><span class="p">(</span><span class="s">&#39;/TEST&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span><span class="s">&#39;/test&#39;</span><span class="p">):</span>
            <span class="n">template_dirs</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;/dir1&#39;</span><span class="p">,</span> <span class="s">&#39;/DIR2&#39;</span><span class="p">]</span>
            <span class="n">test_template_sources</span><span class="p">(</span><span class="s">&#39;index.html&#39;</span><span class="p">,</span> <span class="n">template_dirs</span><span class="p">,</span>
                                  <span class="p">[</span><span class="s">&#39;/dir1/index.html&#39;</span><span class="p">,</span> <span class="s">&#39;/DIR2/index.html&#39;</span><span class="p">])</span>
            <span class="n">test_template_sources</span><span class="p">(</span><span class="s">&#39;/DIR1/index.HTML&#39;</span><span class="p">,</span> <span class="n">template_dirs</span><span class="p">,</span>
                                  <span class="p">[</span><span class="s">&#39;/DIR1/index.HTML&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">test_loader_debug_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div></td></tr>


<tr id="section-11"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-11">&#182;</a></div><p>Turn TEMPLATE_DEBUG on, so that the origin file name will be kept with
the compiled templates.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">old_td</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_DEBUG</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_DEBUG</span><span class="p">,</span> <span class="bp">True</span>
        <span class="n">old_loaders</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">template_source_loaders</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">loader</span><span class="o">.</span><span class="n">template_source_loaders</span> <span class="o">=</span> <span class="p">(</span><span class="n">filesystem</span><span class="o">.</span><span class="n">Loader</span><span class="p">(),)</span></pre></div></td></tr>


<tr id="section-12"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-12">&#182;</a></div><p>We rely on the fact that runtests.py sets up TEMPLATE<em>DIRS to
point to a directory containing a 404.html file. Also that
the file system and app directories loaders both inherit the
load</em>template method from the BaseLoader class, so we only need
to test one of them.</p></td><td class="code"><div class="highlight"><pre>            <span class="n">load_name</span> <span class="o">=</span> <span class="s">&#39;404.html&#39;</span>
            <span class="n">template</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="n">load_name</span><span class="p">)</span>
            <span class="n">template_name</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">nodelist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">source</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">template_name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">load_name</span><span class="p">),</span>
                <span class="s">&#39;Template loaded by filesystem loader has incorrect name for debug page: </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">template_name</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-13"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-13">&#182;</a></div><p>Aso test the cached loader, since it overrides load_template</p></td><td class="code"><div class="highlight"><pre>            <span class="n">cache_loader</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">Loader</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,))</span>
            <span class="n">cache_loader</span><span class="o">.</span><span class="n">_cached_loaders</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">template_source_loaders</span>
            <span class="n">loader</span><span class="o">.</span><span class="n">template_source_loaders</span> <span class="o">=</span> <span class="p">(</span><span class="n">cache_loader</span><span class="p">,)</span>

            <span class="n">template</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="n">load_name</span><span class="p">)</span>
            <span class="n">template_name</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">nodelist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">source</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">template_name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">load_name</span><span class="p">),</span>
                <span class="s">&#39;Template loaded through cached loader has incorrect name for debug page: </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">template_name</span><span class="p">)</span>

            <span class="n">template</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="n">load_name</span><span class="p">)</span>
            <span class="n">template_name</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">nodelist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">source</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">template_name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">load_name</span><span class="p">),</span>
                <span class="s">&#39;Cached template loaded through cached loader has incorrect name for debug page: </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">template_name</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">loader</span><span class="o">.</span><span class="n">template_source_loaders</span> <span class="o">=</span> <span class="n">old_loaders</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_DEBUG</span> <span class="o">=</span> <span class="n">old_td</span>


    <span class="k">def</span> <span class="nf">test_include_missing_template</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Tests that the correct template is identified as not existing</span>
<span class="sd">        when {% include %} specifies a template that does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span></pre></div></td></tr>


<tr id="section-14"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-14">&#182;</a></div><p>TEMPLATE_DEBUG must be true, otherwise the exception raised
during {% include %} processing will be suppressed.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">old_td</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_DEBUG</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_DEBUG</span><span class="p">,</span> <span class="bp">True</span>
        <span class="n">old_loaders</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">template_source_loaders</span>

        <span class="k">try</span><span class="p">:</span></pre></div></td></tr>


<tr id="section-15"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-15">&#182;</a></div><p>Test the base loader class via the app loader. load_template
from base is used by all shipped loaders excepting cached,
which has its own test.</p></td><td class="code"><div class="highlight"><pre>            <span class="n">loader</span><span class="o">.</span><span class="n">template_source_loaders</span> <span class="o">=</span> <span class="p">(</span><span class="n">app_directories</span><span class="o">.</span><span class="n">Loader</span><span class="p">(),)</span>

            <span class="n">load_name</span> <span class="o">=</span> <span class="s">&#39;test_include_error.html&#39;</span>
            <span class="n">r</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">tmpl</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">select_template</span><span class="p">([</span><span class="n">load_name</span><span class="p">])</span>
                <span class="n">r</span> <span class="o">=</span> <span class="n">tmpl</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">template</span><span class="o">.</span><span class="n">Context</span><span class="p">({}))</span>
            <span class="k">except</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateDoesNotExist</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_DEBUG</span> <span class="o">=</span> <span class="n">old_td</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s">&#39;missing.html&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&#39;Template rendering unexpectedly succeeded, produced: -&gt;</span><span class="si">%r</span><span class="s">&lt;-&#39;</span> <span class="o">%</span> <span class="n">r</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">loader</span><span class="o">.</span><span class="n">template_source_loaders</span> <span class="o">=</span> <span class="n">old_loaders</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_DEBUG</span> <span class="o">=</span> <span class="n">old_td</span>


    <span class="k">def</span> <span class="nf">test_extends_include_missing_baseloader</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Tests that the correct template is identified as not existing</span>
<span class="sd">        when {% extends %} specifies a template that does exist, but</span>
<span class="sd">        that template has an {% include %} of something that does not</span>
<span class="sd">        exist. See #12787.</span>
<span class="sd">        &quot;&quot;&quot;</span></pre></div></td></tr>


<tr id="section-16"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-16">&#182;</a></div><p>TEMPLATE_DEBUG must be true, otherwise the exception raised
during {% include %} processing will be suppressed.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">old_td</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_DEBUG</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_DEBUG</span><span class="p">,</span> <span class="bp">True</span>
        <span class="n">old_loaders</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">template_source_loaders</span>

        <span class="k">try</span><span class="p">:</span></pre></div></td></tr>


<tr id="section-17"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-17">&#182;</a></div><p>Test the base loader class via the app loader. load_template
from base is used by all shipped loaders excepting cached,
which has its own test.</p></td><td class="code"><div class="highlight"><pre>            <span class="n">loader</span><span class="o">.</span><span class="n">template_source_loaders</span> <span class="o">=</span> <span class="p">(</span><span class="n">app_directories</span><span class="o">.</span><span class="n">Loader</span><span class="p">(),)</span>

            <span class="n">load_name</span> <span class="o">=</span> <span class="s">&#39;test_extends_error.html&#39;</span>
            <span class="n">tmpl</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="n">load_name</span><span class="p">)</span>
            <span class="n">r</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">r</span> <span class="o">=</span> <span class="n">tmpl</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">template</span><span class="o">.</span><span class="n">Context</span><span class="p">({}))</span>
            <span class="k">except</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateDoesNotExist</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_DEBUG</span> <span class="o">=</span> <span class="n">old_td</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s">&#39;missing.html&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&#39;Template rendering unexpectedly succeeded, produced: -&gt;</span><span class="si">%r</span><span class="s">&lt;-&#39;</span> <span class="o">%</span> <span class="n">r</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">loader</span><span class="o">.</span><span class="n">template_source_loaders</span> <span class="o">=</span> <span class="n">old_loaders</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_DEBUG</span> <span class="o">=</span> <span class="n">old_td</span>

    <span class="k">def</span> <span class="nf">test_extends_include_missing_cachedloader</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Same as test_extends_include_missing_baseloader, only tests</span>
<span class="sd">        behavior of the cached loader instead of BaseLoader.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">old_td</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_DEBUG</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_DEBUG</span><span class="p">,</span> <span class="bp">True</span>
        <span class="n">old_loaders</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">template_source_loaders</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">cache_loader</span> <span class="o">=</span> <span class="n">cached</span><span class="o">.</span><span class="n">Loader</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,))</span>
            <span class="n">cache_loader</span><span class="o">.</span><span class="n">_cached_loaders</span> <span class="o">=</span> <span class="p">(</span><span class="n">app_directories</span><span class="o">.</span><span class="n">Loader</span><span class="p">(),)</span>
            <span class="n">loader</span><span class="o">.</span><span class="n">template_source_loaders</span> <span class="o">=</span> <span class="p">(</span><span class="n">cache_loader</span><span class="p">,)</span>

            <span class="n">load_name</span> <span class="o">=</span> <span class="s">&#39;test_extends_error.html&#39;</span>
            <span class="n">tmpl</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="n">load_name</span><span class="p">)</span>
            <span class="n">r</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">r</span> <span class="o">=</span> <span class="n">tmpl</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">template</span><span class="o">.</span><span class="n">Context</span><span class="p">({}))</span>
            <span class="k">except</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateDoesNotExist</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s">&#39;missing.html&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&#39;Template rendering unexpectedly succeeded, produced: -&gt;</span><span class="si">%r</span><span class="s">&lt;-&#39;</span> <span class="o">%</span> <span class="n">r</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-18"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-18">&#182;</a></div><p>For the cached loader, repeat the test, to ensure the first attempt did not cache a
result that behaves incorrectly on subsequent attempts.</p></td><td class="code"><div class="highlight"><pre>            <span class="n">tmpl</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="n">load_name</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">tmpl</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">template</span><span class="o">.</span><span class="n">Context</span><span class="p">({}))</span>
            <span class="k">except</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateDoesNotExist</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s">&#39;missing.html&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&#39;Template rendering unexpectedly succeeded, produced: -&gt;</span><span class="si">%r</span><span class="s">&lt;-&#39;</span> <span class="o">%</span> <span class="n">r</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">loader</span><span class="o">.</span><span class="n">template_source_loaders</span> <span class="o">=</span> <span class="n">old_loaders</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_DEBUG</span> <span class="o">=</span> <span class="n">old_td</span>

    <span class="k">def</span> <span class="nf">test_token_smart_split</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div></td></tr>


<tr id="section-19"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-19">&#182;</a></div><p>Regression test for #7027</p></td><td class="code"><div class="highlight"><pre>        <span class="n">token</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">Token</span><span class="p">(</span><span class="n">template</span><span class="o">.</span><span class="n">TOKEN_BLOCK</span><span class="p">,</span> <span class="s">&#39;sometag _(&quot;Page not found&quot;) value|yesno:_(&quot;yes,no&quot;)&#39;</span><span class="p">)</span>
        <span class="n">split</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">split_contents</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">split</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;sometag&quot;</span><span class="p">,</span> <span class="s">&#39;_(&quot;Page not found&quot;)&#39;</span><span class="p">,</span> <span class="s">&#39;value|yesno:_(&quot;yes,no&quot;)&#39;</span><span class="p">])</span>

    <span class="nd">@override_settings</span><span class="p">(</span><span class="n">SETTINGS_MODULE</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">TEMPLATE_DEBUG</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_url_reverse_no_settings_module</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div></td></tr>


<tr id="section-20"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-20">&#182;</a></div><p>Regression test for #9005</p></td><td class="code"><div class="highlight"><pre>        <span class="kn">from</span> <span class="nn">django.template</span> <span class="kn">import</span> <span class="n">Template</span><span class="p">,</span> <span class="n">Context</span>

        <span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl will_not_match %}&#39;</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Context</span><span class="p">()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">urlresolvers</span><span class="o">.</span><span class="n">NoReverseMatch</span><span class="p">):</span>
            <span class="n">t</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>

    <span class="nd">@override_settings</span><span class="p">(</span><span class="n">DEBUG</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">TEMPLATE_DEBUG</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_no_wrapped_exception</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The template system doesn&#39;t wrap exceptions, but annotates them.</span>
<span class="sd">        Refs #16770</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Context</span><span class="p">({</span><span class="s">&quot;coconuts&quot;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="mi">42</span> <span class="o">/</span> <span class="mi">0</span><span class="p">})</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s">&quot;{{ coconuts }}&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">exception</span><span class="o">.</span><span class="n">django_template_source</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">14</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test_invalid_block_suggestion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div></td></tr>


<tr id="section-21"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-21">&#182;</a></div><p>See #7876</p></td><td class="code"><div class="highlight"><pre>        <span class="kn">from</span> <span class="nn">django.template</span> <span class="kn">import</span> <span class="n">Template</span><span class="p">,</span> <span class="n">TemplateSyntaxError</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f 1 %}lala{</span><span class="si">% e</span><span class="s">ndblock %}{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">TemplateSyntaxError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s">&quot;Invalid block tag: &#39;endblock&#39;, expected &#39;elif&#39;, &#39;else&#39; or &#39;endif&#39;&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_templates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">template_tests</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_template_tests</span><span class="p">()</span>
        <span class="n">filter_tests</span> <span class="o">=</span> <span class="n">filters</span><span class="o">.</span><span class="n">get_filter_tests</span><span class="p">()</span></pre></div></td></tr>


<tr id="section-22"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-22">&#182;</a></div><p>Quickly check that we aren't accidentally using a name in both
template and filter tests.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">overlapping_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">filter_tests</span> <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">template_tests</span><span class="p">]</span>
        <span class="k">assert</span> <span class="ow">not</span> <span class="n">overlapping_names</span><span class="p">,</span> <span class="s">&#39;Duplicate test name(s): </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="s">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">overlapping_names</span><span class="p">)</span>

        <span class="n">template_tests</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">filter_tests</span><span class="p">)</span>

        <span class="n">cache_loader</span> <span class="o">=</span> <span class="n">setup_test_template_loader</span><span class="p">(</span>
            <span class="nb">dict</span><span class="p">([(</span><span class="n">name</span><span class="p">,</span> <span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">template_tests</span><span class="o">.</span><span class="n">iteritems</span><span class="p">()]),</span>
            <span class="n">use_cached_loader</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">failures</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">tests</span> <span class="o">=</span> <span class="n">template_tests</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="n">tests</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span></pre></div></td></tr>


<tr id="section-23"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-23">&#182;</a></div><p>Turn TEMPLATE_DEBUG off, because tests assume that.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">old_td</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_DEBUG</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_DEBUG</span><span class="p">,</span> <span class="bp">False</span></pre></div></td></tr>


<tr id="section-24"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-24">&#182;</a></div><p>Set TEMPLATE<em>STRING</em>IF_INVALID to a known string.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">old_invalid</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_STRING_IF_INVALID</span>
        <span class="n">expected_invalid_str</span> <span class="o">=</span> <span class="s">&#39;INVALID&#39;</span></pre></div></td></tr>


<tr id="section-25"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-25">&#182;</a></div><p>Set ALLOWED<em>INCLUDE</em>ROOTS so that ssi works.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">old_allowed_include_roots</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">ALLOWED_INCLUDE_ROOTS</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">ALLOWED_INCLUDE_ROOTS</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">__file__</span><span class="p">)),</span>
        <span class="p">)</span></pre></div></td></tr>


<tr id="section-26"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-26">&#182;</a></div><p>Warm the URL reversing cache. This ensures we don't pay the cost
warming the cache during one of the tests.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">urlresolvers</span><span class="o">.</span><span class="n">reverse</span><span class="p">(</span><span class="s">&#39;regressiontests.templates.views.client_action&#39;</span><span class="p">,</span>
                             <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;id&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;action&#39;</span><span class="p">:</span><span class="s">&quot;update&quot;</span><span class="p">})</span>

        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">vals</span> <span class="ow">in</span> <span class="n">tests</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">vals</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="n">normal_string_result</span> <span class="o">=</span> <span class="n">vals</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">invalid_string_result</span> <span class="o">=</span> <span class="n">vals</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">invalid_string_result</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                    <span class="n">expected_invalid_str</span> <span class="o">=</span> <span class="s">&#39;INVALID </span><span class="si">%s</span><span class="s">&#39;</span>
                    <span class="n">invalid_string_result</span> <span class="o">=</span> <span class="n">invalid_string_result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">%</span> <span class="n">invalid_string_result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">template_base</span><span class="o">.</span><span class="n">invalid_var_format_string</span> <span class="o">=</span> <span class="bp">True</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="n">template_debug_result</span> <span class="o">=</span> <span class="n">vals</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
                <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
                    <span class="n">template_debug_result</span> <span class="o">=</span> <span class="n">normal_string_result</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">normal_string_result</span> <span class="o">=</span> <span class="n">vals</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">invalid_string_result</span> <span class="o">=</span> <span class="n">vals</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">template_debug_result</span> <span class="o">=</span> <span class="n">vals</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

            <span class="k">if</span> <span class="s">&#39;LANGUAGE_CODE&#39;</span> <span class="ow">in</span> <span class="n">vals</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">activate</span><span class="p">(</span><span class="n">vals</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s">&#39;LANGUAGE_CODE&#39;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">activate</span><span class="p">(</span><span class="s">&#39;en-us&#39;</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">invalid_str</span><span class="p">,</span> <span class="n">template_debug</span><span class="p">,</span> <span class="n">result</span> <span class="ow">in</span> <span class="p">[</span>
                    <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">normal_string_result</span><span class="p">),</span>
                    <span class="p">(</span><span class="n">expected_invalid_str</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">invalid_string_result</span><span class="p">),</span>
                    <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="n">template_debug_result</span><span class="p">)</span>
                <span class="p">]:</span>
                <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_STRING_IF_INVALID</span> <span class="o">=</span> <span class="n">invalid_str</span>
                <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_DEBUG</span> <span class="o">=</span> <span class="n">template_debug</span>
                <span class="k">for</span> <span class="n">is_cached</span> <span class="ow">in</span> <span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">):</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="n">test_template</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                        <span class="k">except</span> <span class="n">ShouldNotExecuteException</span><span class="p">:</span>
                            <span class="n">failures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;Template test (Cached=&#39;</span><span class="si">%s</span><span class="s">&#39;, TEMPLATE_STRING_IF_INVALID=&#39;</span><span class="si">%s</span><span class="s">&#39;, TEMPLATE_DEBUG=</span><span class="si">%s</span><span class="s">): </span><span class="si">%s</span><span class="s"> -- FAILED. Template loading invoked method that shouldn&#39;t have been invoked.&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">is_cached</span><span class="p">,</span> <span class="n">invalid_str</span><span class="p">,</span> <span class="n">template_debug</span><span class="p">,</span> <span class="n">name</span><span class="p">))</span>

                        <span class="k">try</span><span class="p">:</span>
                            <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">test_template</span><span class="p">,</span> <span class="n">vals</span><span class="p">)</span>
                        <span class="k">except</span> <span class="n">ShouldNotExecuteException</span><span class="p">:</span>
                            <span class="n">failures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;Template test (Cached=&#39;</span><span class="si">%s</span><span class="s">&#39;, TEMPLATE_STRING_IF_INVALID=&#39;</span><span class="si">%s</span><span class="s">&#39;, TEMPLATE_DEBUG=</span><span class="si">%s</span><span class="s">): </span><span class="si">%s</span><span class="s"> -- FAILED. Template rendering invoked method that shouldn&#39;t have been invoked.&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">is_cached</span><span class="p">,</span> <span class="n">invalid_str</span><span class="p">,</span> <span class="n">template_debug</span><span class="p">,</span> <span class="n">name</span><span class="p">))</span>
                    <span class="k">except</span> <span class="n">ContextStackException</span><span class="p">:</span>
                        <span class="n">failures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;Template test (Cached=&#39;</span><span class="si">%s</span><span class="s">&#39;, TEMPLATE_STRING_IF_INVALID=&#39;</span><span class="si">%s</span><span class="s">&#39;, TEMPLATE_DEBUG=</span><span class="si">%s</span><span class="s">): </span><span class="si">%s</span><span class="s"> -- FAILED. Context stack was left imbalanced&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">is_cached</span><span class="p">,</span> <span class="n">invalid_str</span><span class="p">,</span> <span class="n">template_debug</span><span class="p">,</span> <span class="n">name</span><span class="p">))</span>
                        <span class="k">continue</span>
                    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                        <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_tb</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
                        <span class="k">if</span> <span class="n">exc_type</span> <span class="o">!=</span> <span class="n">result</span><span class="p">:</span>
                            <span class="n">tb</span> <span class="o">=</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">traceback</span><span class="o">.</span><span class="n">format_exception</span><span class="p">(</span><span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">))</span>
                            <span class="n">failures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;Template test (Cached=&#39;</span><span class="si">%s</span><span class="s">&#39;, TEMPLATE_STRING_IF_INVALID=&#39;</span><span class="si">%s</span><span class="s">&#39;, TEMPLATE_DEBUG=</span><span class="si">%s</span><span class="s">): </span><span class="si">%s</span><span class="s"> -- FAILED. Got </span><span class="si">%s</span><span class="s">, exception: </span><span class="si">%s</span><span class="se">\n</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">is_cached</span><span class="p">,</span> <span class="n">invalid_str</span><span class="p">,</span> <span class="n">template_debug</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">tb</span><span class="p">))</span>
                        <span class="k">continue</span>
                    <span class="k">if</span> <span class="n">output</span> <span class="o">!=</span> <span class="n">result</span><span class="p">:</span>
                        <span class="n">failures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;Template test (Cached=&#39;</span><span class="si">%s</span><span class="s">&#39;, TEMPLATE_STRING_IF_INVALID=&#39;</span><span class="si">%s</span><span class="s">&#39;, TEMPLATE_DEBUG=</span><span class="si">%s</span><span class="s">): </span><span class="si">%s</span><span class="s"> -- FAILED. Expected </span><span class="si">%r</span><span class="s">, got </span><span class="si">%r</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">is_cached</span><span class="p">,</span> <span class="n">invalid_str</span><span class="p">,</span> <span class="n">template_debug</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">output</span><span class="p">))</span>
                <span class="n">cache_loader</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>

            <span class="k">if</span> <span class="s">&#39;LANGUAGE_CODE&#39;</span> <span class="ow">in</span> <span class="n">vals</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">deactivate</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">template_base</span><span class="o">.</span><span class="n">invalid_var_format_string</span><span class="p">:</span>
                <span class="n">expected_invalid_str</span> <span class="o">=</span> <span class="s">&#39;INVALID&#39;</span>
                <span class="n">template_base</span><span class="o">.</span><span class="n">invalid_var_format_string</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="n">restore_template_loaders</span><span class="p">()</span>
        <span class="n">deactivate</span><span class="p">()</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_DEBUG</span> <span class="o">=</span> <span class="n">old_td</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">TEMPLATE_STRING_IF_INVALID</span> <span class="o">=</span> <span class="n">old_invalid</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">ALLOWED_INCLUDE_ROOTS</span> <span class="o">=</span> <span class="n">old_allowed_include_roots</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">failures</span><span class="p">,</span> <span class="p">[],</span> <span class="s">&quot;Tests failed:</span><span class="se">\n</span><span class="si">%s</span><span class="se">\n</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span>
            <span class="p">(</span><span class="s">&#39;-&#39;</span><span class="o">*</span><span class="mi">70</span><span class="p">,</span> <span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s">&#39;-&#39;</span><span class="o">*</span><span class="mi">70</span><span class="p">))</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">failures</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">test_template</span><span class="p">,</span> <span class="n">vals</span><span class="p">):</span>
        <span class="n">context</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span><span class="n">vals</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">before_stack_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">dicts</span><span class="p">)</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">test_template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">dicts</span><span class="p">)</span> <span class="o">!=</span> <span class="n">before_stack_size</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ContextStackException</span>
        <span class="k">return</span> <span class="n">output</span>

    <span class="k">def</span> <span class="nf">get_template_tests</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div></td></tr>


<tr id="section-27"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-27">&#182;</a></div><p>SYNTAX --
'template_name': ('template contents', 'context dict', 'expected string output' or Exception class)</p></td><td class="code"><div class="highlight"><pre>        <span class="n">basedir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">__file__</span><span class="p">))</span>
        <span class="n">tests</span> <span class="o">=</span> <span class="p">{</span></pre></div></td></tr>


<tr id="section-28"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-28">&#182;</a></div><h2>BASIC SYNTAX</h2></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-29"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-29">&#182;</a></div><p>Plain text should go through the template parser untouched</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;something cool&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;something cool&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-30"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-30">&#182;</a></div><p>Variables should be replaced with their value in the current
context</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ headline }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;headline&#39;</span><span class="p">:</span><span class="s">&#39;Success&#39;</span><span class="p">},</span> <span class="s">&quot;Success&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-31"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-31">&#182;</a></div><p>More than one replacement variable is allowed in a template</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ first }} --- {{ second }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;first&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;second&quot;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s">&quot;1 --- 2&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-32"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-32">&#182;</a></div><p>Fail silently when a variable is not found in the current context</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;as{{ missing }}df&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="p">(</span><span class="s">&quot;asdf&quot;</span><span class="p">,</span><span class="s">&quot;asINVALIDdf&quot;</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-33"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-33">&#182;</a></div><p>A variable may not contain more than one word</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ multi word variable }}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-34"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-34">&#182;</a></div><p>Raise TemplateSyntaxError for empty variable tags</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ }}&quot;</span><span class="p">,</span>        <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;basic-syntax08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{        }}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-35"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-35">&#182;</a></div><p>Attribute syntax allows a template to call an object's attribute</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ var.method }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="n">SomeClass</span><span class="p">()},</span> <span class="s">&quot;SomeClass.method&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-36"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-36">&#182;</a></div><p>Multiple levels of attribute access are allowed</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ var.otherclass.method }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="n">SomeClass</span><span class="p">()},</span> <span class="s">&quot;OtherClass.method&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-37"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-37">&#182;</a></div><p>Fail silently when a variable's attribute isn't found</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ var.blech }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="n">SomeClass</span><span class="p">()},</span> <span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="s">&quot;INVALID&quot;</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-38"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-38">&#182;</a></div><p>Raise TemplateSyntaxError when trying to access a variable beginning with an underscore</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax12&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ var.__dict__ }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="n">SomeClass</span><span class="p">()},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-39"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-39">&#182;</a></div><p>Raise TemplateSyntaxError when trying to access a variable containing an illegal character</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax13&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ va&gt;r }}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;basic-syntax14&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ (var.r) }}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;basic-syntax15&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ sp%am }}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;basic-syntax16&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ eggs! }}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;basic-syntax17&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ moo? }}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-40"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-40">&#182;</a></div><p>Attribute syntax allows a template to call a dictionary key's value</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax18&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ foo.bar }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;foo&quot;</span> <span class="p">:</span> <span class="p">{</span><span class="s">&quot;bar&quot;</span> <span class="p">:</span> <span class="s">&quot;baz&quot;</span><span class="p">}},</span> <span class="s">&quot;baz&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-41"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-41">&#182;</a></div><p>Fail silently when a variable's dictionary key isn't found</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax19&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ foo.spam }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;foo&quot;</span> <span class="p">:</span> <span class="p">{</span><span class="s">&quot;bar&quot;</span> <span class="p">:</span> <span class="s">&quot;baz&quot;</span><span class="p">}},</span> <span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="s">&quot;INVALID&quot;</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-42"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-42">&#182;</a></div><p>Fail silently when accessing a non-simple method</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax20&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ var.method2 }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="n">SomeClass</span><span class="p">()},</span> <span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="s">&quot;INVALID&quot;</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-43"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-43">&#182;</a></div><p>Don't get confused when parsing something that is almost, but not
quite, a template tag.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax21&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;a {{ moo %} b&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;a {{ moo %} b&quot;</span><span class="p">),</span>
            <span class="s">&#39;basic-syntax22&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ moo #}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;{{ moo #}&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-44"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-44">&#182;</a></div><p>Will try to treat "moo #} {{ cow" as the variable. Not ideal, but
costly to work around, so this triggers an error.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax23&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ moo #} {{ cow }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;cow&quot;</span><span class="p">:</span> <span class="s">&quot;cow&quot;</span><span class="p">},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-45"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-45">&#182;</a></div><p>Embedded newlines make it not-a-tag.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax24&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ moo</span><span class="se">\n</span><span class="s"> }}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;{{ moo</span><span class="se">\n</span><span class="s"> }}&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-46"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-46">&#182;</a></div><p>Literal strings are permitted inside variables, mostly for i18n
purposes.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax25&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ &quot;fred&quot; }}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;fred&quot;</span><span class="p">),</span>
            <span class="s">&#39;basic-syntax26&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ &quot;\&quot;fred\&quot;&quot; }}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;</span><span class="se">\&quot;</span><span class="s">fred</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="p">),</span>
            <span class="s">&#39;basic-syntax27&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ _(&quot;\&quot;fred\&quot;&quot;) }}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;</span><span class="se">\&quot;</span><span class="s">fred</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-47"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-47">&#182;</a></div><p>regression test for ticket #12554
make sure a silent<em>variable</em>failure Exception is supressed
on dictionary and attribute lookup</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax28&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ a.b }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">SilentGetItemClass</span><span class="p">()},</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;INVALID&#39;</span><span class="p">)),</span>
            <span class="s">&#39;basic-syntax29&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ a.b }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">SilentAttrClass</span><span class="p">()},</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;INVALID&#39;</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-48"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-48">&#182;</a></div><p>Something that starts like a number but has an extra lookup works as a lookup.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax30&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ 1.2.3 }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;1&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s">&quot;2&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s">&quot;3&quot;</span><span class="p">:</span> <span class="s">&quot;d&quot;</span><span class="p">}}},</span> <span class="s">&quot;d&quot;</span><span class="p">),</span>
            <span class="s">&#39;basic-syntax31&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ 1.2.3 }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;1&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s">&quot;2&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">,</span> <span class="s">&quot;c&quot;</span><span class="p">,</span> <span class="s">&quot;d&quot;</span><span class="p">)}},</span> <span class="s">&quot;d&quot;</span><span class="p">),</span>
            <span class="s">&#39;basic-syntax32&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ 1.2.3 }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;1&quot;</span><span class="p">:</span> <span class="p">((</span><span class="s">&quot;x&quot;</span><span class="p">,</span> <span class="s">&quot;x&quot;</span><span class="p">,</span> <span class="s">&quot;x&quot;</span><span class="p">,</span> <span class="s">&quot;x&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s">&quot;y&quot;</span><span class="p">,</span> <span class="s">&quot;y&quot;</span><span class="p">,</span> <span class="s">&quot;y&quot;</span><span class="p">,</span> <span class="s">&quot;y&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">,</span> <span class="s">&quot;c&quot;</span><span class="p">,</span> <span class="s">&quot;d&quot;</span><span class="p">))},</span> <span class="s">&quot;d&quot;</span><span class="p">),</span>
            <span class="s">&#39;basic-syntax33&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ 1.2.3 }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;1&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;xxxx&quot;</span><span class="p">,</span> <span class="s">&quot;yyyy&quot;</span><span class="p">,</span> <span class="s">&quot;abcd&quot;</span><span class="p">)},</span> <span class="s">&quot;d&quot;</span><span class="p">),</span>
            <span class="s">&#39;basic-syntax34&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ 1.2.3 }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;1&quot;</span><span class="p">:</span> <span class="p">({</span><span class="s">&quot;x&quot;</span><span class="p">:</span> <span class="s">&quot;x&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s">&quot;y&quot;</span><span class="p">:</span> <span class="s">&quot;y&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s">&quot;z&quot;</span><span class="p">:</span> <span class="s">&quot;z&quot;</span><span class="p">,</span> <span class="s">&quot;3&quot;</span><span class="p">:</span> <span class="s">&quot;d&quot;</span><span class="p">})},</span> <span class="s">&quot;d&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-49"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-49">&#182;</a></div><p>Numbers are numbers even if their digits are in the context.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax35&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ 1 }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;1&quot;</span><span class="p">:</span> <span class="s">&quot;abc&quot;</span><span class="p">},</span> <span class="s">&quot;1&quot;</span><span class="p">),</span>
            <span class="s">&#39;basic-syntax36&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ 1.2 }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;1&quot;</span><span class="p">:</span> <span class="s">&quot;abc&quot;</span><span class="p">},</span> <span class="s">&quot;1.2&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-50"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-50">&#182;</a></div><p>Call methods in the top level of the context</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax37&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ callable }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;callable&quot;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="s">&quot;foo bar&quot;</span><span class="p">},</span> <span class="s">&quot;foo bar&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-51"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-51">&#182;</a></div><p>Call methods returned from dictionary lookups</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;basic-syntax38&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ var.callable }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s">&quot;callable&quot;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="s">&quot;foo bar&quot;</span><span class="p">}},</span> <span class="s">&quot;foo bar&quot;</span><span class="p">),</span>

            <span class="s">&#39;builtins01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ True }}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;True&quot;</span><span class="p">),</span>
            <span class="s">&#39;builtins02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ False }}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;False&quot;</span><span class="p">),</span>
            <span class="s">&#39;builtins03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ None }}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;None&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-52"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-52">&#182;</a></div><p>List-index syntax allows a template to access a certain item of a subscriptable object.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;list-index01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ var.1 }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;first item&quot;</span><span class="p">,</span> <span class="s">&quot;second item&quot;</span><span class="p">]},</span> <span class="s">&quot;second item&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-53"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-53">&#182;</a></div><p>Fail silently when the list index is out of range.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;list-index02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ var.5 }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;first item&quot;</span><span class="p">,</span> <span class="s">&quot;second item&quot;</span><span class="p">]},</span> <span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;INVALID&quot;</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-54"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-54">&#182;</a></div><p>Fail silently when the variable is not a subscriptable object.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;list-index03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ var.1 }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">},</span> <span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;INVALID&quot;</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-55"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-55">&#182;</a></div><p>Fail silently when variable is a dict without the specified key.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;list-index04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ var.1 }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="p">{}},</span> <span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;INVALID&quot;</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-56"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-56">&#182;</a></div><p>Dictionary lookup wins out when dict's key is a string.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;list-index05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ var.1 }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;1&#39;</span><span class="p">:</span> <span class="s">&quot;hello&quot;</span><span class="p">}},</span> <span class="s">&quot;hello&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-57"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-57">&#182;</a></div><p>But list-index lookup wins out when dict's key is an int, which
behind the scenes is really a dictionary lookup (for a dict)
after converting the key to an int.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;list-index06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ var.1 }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s">&quot;hello&quot;</span><span class="p">}},</span> <span class="s">&quot;hello&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-58"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-58">&#182;</a></div><p>Dictionary lookup wins out when there is a string and int version of the key.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;list-index07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ var.1 }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;1&#39;</span><span class="p">:</span> <span class="s">&quot;hello&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s">&quot;world&quot;</span><span class="p">}},</span> <span class="s">&quot;hello&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-59"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-59">&#182;</a></div><p>Basic filter usage</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ var|upper }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="s">&quot;Django is the greatest!&quot;</span><span class="p">},</span> <span class="s">&quot;DJANGO IS THE GREATEST!&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-60"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-60">&#182;</a></div><p>Chained filters</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ var|upper|lower }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="s">&quot;Django is the greatest!&quot;</span><span class="p">},</span> <span class="s">&quot;django is the greatest!&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-61"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-61">&#182;</a></div><p>Allow spaces before the filter pipe</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ var |upper }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="s">&quot;Django is the greatest!&quot;</span><span class="p">},</span> <span class="s">&quot;DJANGO IS THE GREATEST!&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-62"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-62">&#182;</a></div><p>Allow spaces after the filter pipe</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ var| upper }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="s">&quot;Django is the greatest!&quot;</span><span class="p">},</span> <span class="s">&quot;DJANGO IS THE GREATEST!&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-63"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-63">&#182;</a></div><p>Raise TemplateSyntaxError for a nonexistent filter</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ var|does_not_exist }}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-64"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-64">&#182;</a></div><p>Raise TemplateSyntaxError when trying to access a filter containing an illegal character</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ var|fil(ter) }}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-65"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-65">&#182;</a></div><p>Raise TemplateSyntaxError for invalid block tags</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% nothing_to_see_here %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-66"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-66">&#182;</a></div><p>Raise TemplateSyntaxError for empty block tags</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% %</span><span class="s">}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-67"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-67">&#182;</a></div><p>Chained filters, with an argument to the first one</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ var|removetags:&quot;b i&quot;|upper|lower }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;b&gt;&lt;i&gt;Yes&lt;/i&gt;&lt;/b&gt;&quot;</span><span class="p">},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-68"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-68">&#182;</a></div><p>Literal string as argument is always "safe" from auto-escaping..</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ var|default_if_none:&quot; endquote\&quot; hah&quot; }}&#39;</span><span class="p">,</span>
                    <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">},</span> <span class="s">&#39; endquote&quot; hah&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-69"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-69">&#182;</a></div><p>Variable as argument</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ var|default_if_none:var2 }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&quot;var2&quot;</span><span class="p">:</span> <span class="s">&quot;happy&quot;</span><span class="p">},</span> <span class="s">&#39;happy&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-70"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-70">&#182;</a></div><p>Default argument testing</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax12&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ var|yesno:&quot;yup,nup,mup&quot; }} {{ var|yesno }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;yup yes&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-71"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-71">&#182;</a></div><p>Fail silently for methods that raise an exception with a
"silent<em>variable</em>failure" attribute</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax13&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;1{{ var.method3 }}2&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="n">SomeClass</span><span class="p">()},</span> <span class="p">(</span><span class="s">&quot;12&quot;</span><span class="p">,</span> <span class="s">&quot;1INVALID2&quot;</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-72"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-72">&#182;</a></div><p>In methods that raise an exception without a
"silent<em>variable</em>attribute" set to True, the exception propagates</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax14&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;1{{ var.method4 }}2&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="n">SomeClass</span><span class="p">()},</span> <span class="p">(</span><span class="n">SomeOtherException</span><span class="p">,</span> <span class="n">SomeOtherException</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-73"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-73">&#182;</a></div><p>Escaped backslash in argument</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax15&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ var|default_if_none:&quot;foo\bar&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">},</span> <span class="s">r&#39;foo\bar&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-74"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-74">&#182;</a></div><p>Escaped backslash using known escape char</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax16&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ var|default_if_none:&quot;foo\now&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">},</span> <span class="s">r&#39;foo\now&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-75"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-75">&#182;</a></div><p>Empty strings can be passed as arguments to filters</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax17&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ var|join:&quot;&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;var&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">]},</span> <span class="s">&#39;abc&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-76"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-76">&#182;</a></div><p>Make sure that any unicode strings are converted to bytestrings
in the final output.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax18&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ var }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;var&#39;</span><span class="p">:</span> <span class="n">UTF8Class</span><span class="p">()},</span> <span class="s">&#39;</span><span class="se">\u0160\u0110\u0106\u017d\u0107\u017e\u0161\u0111</span><span class="s">&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-77"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-77">&#182;</a></div><p>Numbers as filter arguments should work</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax19&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ var|truncatewords:1 }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="s">&quot;hello world&quot;</span><span class="p">},</span> <span class="s">&quot;hello ...&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-78"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-78">&#182;</a></div><p>filters should accept empty string constants</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax20&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ &quot;&quot;|default_if_none:&quot;was none&quot; }}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-79"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-79">&#182;</a></div><p>Fail silently for non-callable attribute and dict lookups which
raise an exception with a "silent<em>variable</em>failure" attribute</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax21&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;1{{ var.silent_fail_key }}2&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="n">SomeClass</span><span class="p">()},</span> <span class="p">(</span><span class="s">&quot;12&quot;</span><span class="p">,</span> <span class="s">&quot;1INVALID2&quot;</span><span class="p">)),</span>
            <span class="s">&#39;filter-syntax22&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;1{{ var.silent_fail_attribute }}2&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="n">SomeClass</span><span class="p">()},</span> <span class="p">(</span><span class="s">&quot;12&quot;</span><span class="p">,</span> <span class="s">&quot;1INVALID2&quot;</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-80"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-80">&#182;</a></div><p>In attribute and dict lookups that raise an unexpected exception
without a "silent<em>variable</em>attribute" set to True, the exception
propagates</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter-syntax23&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;1{{ var.noisy_fail_key }}2&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="n">SomeClass</span><span class="p">()},</span> <span class="p">(</span><span class="n">SomeOtherException</span><span class="p">,</span> <span class="n">SomeOtherException</span><span class="p">)),</span>
            <span class="s">&#39;filter-syntax24&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;1{{ var.noisy_fail_attribute }}2&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="n">SomeClass</span><span class="p">()},</span> <span class="p">(</span><span class="n">SomeOtherException</span><span class="p">,</span> <span class="n">SomeOtherException</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-81"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-81">&#182;</a></div><h2>COMMENT SYNTAX</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;comment-syntax01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{# this is hidden #}hello&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;hello&quot;</span><span class="p">),</span>
            <span class="s">&#39;comment-syntax02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{# this is hidden #}hello{# foo #}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;hello&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-82"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-82">&#182;</a></div><p>Comments can contain invalid stuff.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;comment-syntax03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;foo{#  {</span><span class="si">% i</span><span class="s">f %}  #}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;foo&quot;</span><span class="p">),</span>
            <span class="s">&#39;comment-syntax04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;foo{#  {</span><span class="si">% e</span><span class="s">ndblock %}  #}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;foo&quot;</span><span class="p">),</span>
            <span class="s">&#39;comment-syntax05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;foo{#  {</span><span class="si">% s</span><span class="s">omerandomtag %}  #}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;foo&quot;</span><span class="p">),</span>
            <span class="s">&#39;comment-syntax06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;foo{# {% #}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;foo&quot;</span><span class="p">),</span>
            <span class="s">&#39;comment-syntax07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;foo{# %} #}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;foo&quot;</span><span class="p">),</span>
            <span class="s">&#39;comment-syntax08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;foo{# %} #}bar&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;foobar&quot;</span><span class="p">),</span>
            <span class="s">&#39;comment-syntax09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;foo{# {{ #}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;foo&quot;</span><span class="p">),</span>
            <span class="s">&#39;comment-syntax10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;foo{# }} #}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;foo&quot;</span><span class="p">),</span>
            <span class="s">&#39;comment-syntax11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;foo{# { #}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;foo&quot;</span><span class="p">),</span>
            <span class="s">&#39;comment-syntax12&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;foo{# } #}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;foo&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-83"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-83">&#182;</a></div><h2>COMMENT TAG</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;comment-tag01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% c</span><span class="s">omment %}this is hidden{</span><span class="si">% e</span><span class="s">ndcomment %}hello&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;hello&quot;</span><span class="p">),</span>
            <span class="s">&#39;comment-tag02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% c</span><span class="s">omment %}this is hidden{</span><span class="si">% e</span><span class="s">ndcomment %}hello{</span><span class="si">% c</span><span class="s">omment %}foo{</span><span class="si">% e</span><span class="s">ndcomment %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;hello&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-84"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-84">&#182;</a></div><p>Comment tag can contain invalid stuff.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;comment-tag03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;foo{</span><span class="si">% c</span><span class="s">omment %} {</span><span class="si">% i</span><span class="s">f %} {</span><span class="si">% e</span><span class="s">ndcomment %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;foo&quot;</span><span class="p">),</span>
            <span class="s">&#39;comment-tag04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;foo{</span><span class="si">% c</span><span class="s">omment %} {</span><span class="si">% e</span><span class="s">ndblock %} {</span><span class="si">% e</span><span class="s">ndcomment %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;foo&quot;</span><span class="p">),</span>
            <span class="s">&#39;comment-tag05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;foo{</span><span class="si">% c</span><span class="s">omment %} {</span><span class="si">% s</span><span class="s">omerandomtag %} {</span><span class="si">% e</span><span class="s">ndcomment %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;foo&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-85"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-85">&#182;</a></div><h2>CYCLE TAG</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;cycle01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% c</span><span class="s">ycle a %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;cycle02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% c</span><span class="s">ycle a,b,c as abc %}{</span><span class="si">% c</span><span class="s">ycle abc %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;ab&#39;</span><span class="p">),</span>
            <span class="s">&#39;cycle03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% c</span><span class="s">ycle a,b,c as abc %}{</span><span class="si">% c</span><span class="s">ycle abc %}{</span><span class="si">% c</span><span class="s">ycle abc %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;abc&#39;</span><span class="p">),</span>
            <span class="s">&#39;cycle04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% c</span><span class="s">ycle a,b,c as abc %}{</span><span class="si">% c</span><span class="s">ycle abc %}{</span><span class="si">% c</span><span class="s">ycle abc %}{</span><span class="si">% c</span><span class="s">ycle abc %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;abca&#39;</span><span class="p">),</span>
            <span class="s">&#39;cycle05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% c</span><span class="s">ycle %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;cycle06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% c</span><span class="s">ycle a %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;cycle07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% c</span><span class="s">ycle a,b,c as foo %}{</span><span class="si">% c</span><span class="s">ycle bar %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;cycle08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% c</span><span class="s">ycle a,b,c as foo %}{</span><span class="si">% c</span><span class="s">ycle foo %}{{ foo }}{{ foo }}{</span><span class="si">% c</span><span class="s">ycle foo %}{{ foo }}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;abbbcc&#39;</span><span class="p">),</span>
            <span class="s">&#39;cycle09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or i in test %}{</span><span class="si">% c</span><span class="s">ycle a,b %}{{ i }},{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;test&#39;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)},</span> <span class="s">&#39;a0,b1,a2,b3,a4,&#39;</span><span class="p">),</span>
            <span class="s">&#39;cycle10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% c</span><span class="s">ycle &#39;a&#39; &#39;b&#39; &#39;c&#39; as abc %}{</span><span class="si">% c</span><span class="s">ycle abc %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;ab&#39;</span><span class="p">),</span>
            <span class="s">&#39;cycle11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% c</span><span class="s">ycle &#39;a&#39; &#39;b&#39; &#39;c&#39; as abc %}{</span><span class="si">% c</span><span class="s">ycle abc %}{</span><span class="si">% c</span><span class="s">ycle abc %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;abc&#39;</span><span class="p">),</span>
            <span class="s">&#39;cycle12&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% c</span><span class="s">ycle &#39;a&#39; &#39;b&#39; &#39;c&#39; as abc %}{</span><span class="si">% c</span><span class="s">ycle abc %}{</span><span class="si">% c</span><span class="s">ycle abc %}{</span><span class="si">% c</span><span class="s">ycle abc %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;abca&#39;</span><span class="p">),</span>
            <span class="s">&#39;cycle13&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or i in test %}{</span><span class="si">% c</span><span class="s">ycle &#39;a&#39; &#39;b&#39; %}{{ i }},{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;test&#39;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)},</span> <span class="s">&#39;a0,b1,a2,b3,a4,&#39;</span><span class="p">),</span>
            <span class="s">&#39;cycle14&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% c</span><span class="s">ycle one two as foo %}{</span><span class="si">% c</span><span class="s">ycle foo %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;one&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">,</span><span class="s">&#39;two&#39;</span><span class="p">:</span> <span class="s">&#39;2&#39;</span><span class="p">},</span> <span class="s">&#39;12&#39;</span><span class="p">),</span>
            <span class="s">&#39;cycle15&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or i in test %}{</span><span class="si">% c</span><span class="s">ycle aye bee %}{{ i }},{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;test&#39;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="s">&#39;aye&#39;</span><span class="p">:</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;bee&#39;</span><span class="p">:</span> <span class="s">&#39;b&#39;</span><span class="p">},</span> <span class="s">&#39;a0,b1,a2,b3,a4,&#39;</span><span class="p">),</span>
            <span class="s">&#39;cycle16&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% c</span><span class="s">ycle one|lower two as foo %}{</span><span class="si">% c</span><span class="s">ycle foo %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;one&#39;</span><span class="p">:</span> <span class="s">&#39;A&#39;</span><span class="p">,</span><span class="s">&#39;two&#39;</span><span class="p">:</span> <span class="s">&#39;2&#39;</span><span class="p">},</span> <span class="s">&#39;a2&#39;</span><span class="p">),</span>
            <span class="s">&#39;cycle17&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% c</span><span class="s">ycle &#39;a&#39; &#39;b&#39; &#39;c&#39; as abc silent %}{</span><span class="si">% c</span><span class="s">ycle abc %}{</span><span class="si">% c</span><span class="s">ycle abc %}{</span><span class="si">% c</span><span class="s">ycle abc %}{</span><span class="si">% c</span><span class="s">ycle abc %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;&quot;</span><span class="p">),</span>
            <span class="s">&#39;cycle18&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% c</span><span class="s">ycle &#39;a&#39; &#39;b&#39; &#39;c&#39; as foo invalid_flag %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;cycle19&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% c</span><span class="s">ycle &#39;a&#39; &#39;b&#39; as silent %}{</span><span class="si">% c</span><span class="s">ycle silent %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;ab&quot;</span><span class="p">),</span>
            <span class="s">&#39;cycle20&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% c</span><span class="s">ycle one two as foo %} &amp;amp; {</span><span class="si">% c</span><span class="s">ycle foo %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;one&#39;</span> <span class="p">:</span> <span class="s">&#39;A &amp; B&#39;</span><span class="p">,</span> <span class="s">&#39;two&#39;</span> <span class="p">:</span> <span class="s">&#39;C &amp; D&#39;</span><span class="p">},</span> <span class="s">&quot;A &amp; B &amp;amp; C &amp; D&quot;</span><span class="p">),</span>
            <span class="s">&#39;cycle21&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">ilter force_escape %}{</span><span class="si">% c</span><span class="s">ycle one two as foo %} &amp; {</span><span class="si">% c</span><span class="s">ycle foo %}{</span><span class="si">% e</span><span class="s">ndfilter %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;one&#39;</span> <span class="p">:</span> <span class="s">&#39;A &amp; B&#39;</span><span class="p">,</span> <span class="s">&#39;two&#39;</span> <span class="p">:</span> <span class="s">&#39;C &amp; D&#39;</span><span class="p">},</span> <span class="s">&quot;A &amp;amp; B &amp;amp; C &amp;amp; D&quot;</span><span class="p">),</span>
            <span class="s">&#39;cycle22&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or x in values %}{</span><span class="si">% c</span><span class="s">ycle &#39;a&#39; &#39;b&#39; &#39;c&#39; as abc silent %}{{ x }}{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]},</span> <span class="s">&quot;1234&quot;</span><span class="p">),</span>
            <span class="s">&#39;cycle23&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or x in values %}{</span><span class="si">% c</span><span class="s">ycle &#39;a&#39; &#39;b&#39; &#39;c&#39; as abc silent %}{{ abc }}{{ x }}{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]},</span> <span class="s">&quot;a1b2c3a4&quot;</span><span class="p">),</span>
            <span class="s">&#39;included-cycle&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ abc }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;abc&#39;</span><span class="p">:</span> <span class="s">&#39;xxx&#39;</span><span class="p">},</span> <span class="s">&#39;xxx&#39;</span><span class="p">),</span>
            <span class="s">&#39;cycle24&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or x in values %}{</span><span class="si">% c</span><span class="s">ycle &#39;a&#39; &#39;b&#39; &#39;c&#39; as abc silent %}{</span><span class="si">% i</span><span class="s">nclude &#39;included-cycle&#39; %}{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]},</span> <span class="s">&quot;abca&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-86"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-86">&#182;</a></div><h2>EXCEPTIONS</h2></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-87"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-87">&#182;</a></div><p>Raise exception for invalid template name</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;exception01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;nonexistent&#39; %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="p">(</span><span class="n">template</span><span class="o">.</span><span class="n">TemplateDoesNotExist</span><span class="p">,</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateDoesNotExist</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-88"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-88">&#182;</a></div><p>Raise exception for invalid template name (in variable)</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;exception02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends nonexistent %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="p">(</span><span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">,</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateDoesNotExist</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-89"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-89">&#182;</a></div><p>Raise exception for extra {% extends %} tags</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;exception03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance01&#39; %}{% block first %}2{</span><span class="si">% e</span><span class="s">ndblock %}{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance16&#39; %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-90"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-90">&#182;</a></div><p>Raise exception for custom tags used in child with {% load %} tag in parent, not in child</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;exception04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance17&#39; %}{% block first %}{</span><span class="si">% e</span><span class="s">cho 400 %}5678{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-91"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-91">&#182;</a></div><h2>FILTER TAG</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;filter01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">ilter upper %}{</span><span class="si">% e</span><span class="s">ndfilter %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
            <span class="s">&#39;filter02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">ilter upper %}django{</span><span class="si">% e</span><span class="s">ndfilter %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;DJANGO&#39;</span><span class="p">),</span>
            <span class="s">&#39;filter03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">ilter upper|lower %}django{</span><span class="si">% e</span><span class="s">ndfilter %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;django&#39;</span><span class="p">),</span>
            <span class="s">&#39;filter04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">ilter cut:remove %}djangospam{</span><span class="si">% e</span><span class="s">ndfilter %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;remove&#39;</span><span class="p">:</span> <span class="s">&#39;spam&#39;</span><span class="p">},</span> <span class="s">&#39;django&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-92"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-92">&#182;</a></div><h2>FIRSTOF TAG</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;firstof01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">irstof a b c %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
            <span class="s">&#39;firstof02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">irstof a b c %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span> <span class="s">&#39;1&#39;</span><span class="p">),</span>
            <span class="s">&#39;firstof03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">irstof a b c %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span> <span class="s">&#39;2&#39;</span><span class="p">),</span>
            <span class="s">&#39;firstof04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">irstof a b c %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">:</span><span class="mi">3</span><span class="p">},</span> <span class="s">&#39;3&#39;</span><span class="p">),</span>
            <span class="s">&#39;firstof05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">irstof a b c %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">:</span><span class="mi">3</span><span class="p">},</span> <span class="s">&#39;1&#39;</span><span class="p">),</span>
            <span class="s">&#39;firstof06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">irstof a b c %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">:</span><span class="mi">3</span><span class="p">},</span> <span class="s">&#39;3&#39;</span><span class="p">),</span>
            <span class="s">&#39;firstof07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">irstof a b &quot;c&quot; %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span> <span class="s">&#39;c&#39;</span><span class="p">),</span>
            <span class="s">&#39;firstof08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">irstof a b &quot;c and d&quot; %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span> <span class="s">&#39;c and d&#39;</span><span class="p">),</span>
            <span class="s">&#39;firstof09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">irstof %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;firstof10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">irstof a %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&#39;&lt;&#39;</span><span class="p">},</span> <span class="s">&#39;&lt;&#39;</span><span class="p">),</span> <span class="c"># Variables are NOT auto-escaped.</span></pre></div></td></tr>


<tr id="section-93"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-93">&#182;</a></div><h2>FOR TAG</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;for-tag01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or val in values %}{{ val }}{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]},</span> <span class="s">&quot;123&quot;</span><span class="p">),</span>
            <span class="s">&#39;for-tag02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or val in values reversed %}{{ val }}{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]},</span> <span class="s">&quot;321&quot;</span><span class="p">),</span>
            <span class="s">&#39;for-tag-vars01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or val in values %}{{ forloop.counter }}{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">]},</span> <span class="s">&quot;123&quot;</span><span class="p">),</span>
            <span class="s">&#39;for-tag-vars02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or val in values %}{{ forloop.counter0 }}{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">]},</span> <span class="s">&quot;012&quot;</span><span class="p">),</span>
            <span class="s">&#39;for-tag-vars03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or val in values %}{{ forloop.revcounter }}{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">]},</span> <span class="s">&quot;321&quot;</span><span class="p">),</span>
            <span class="s">&#39;for-tag-vars04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or val in values %}{{ forloop.revcounter0 }}{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">]},</span> <span class="s">&quot;210&quot;</span><span class="p">),</span>
            <span class="s">&#39;for-tag-vars05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or val in values %}{</span><span class="si">% i</span><span class="s">f forloop.first %}f{</span><span class="si">% e</span><span class="s">lse %}x{</span><span class="si">% e</span><span class="s">ndif %}{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">]},</span> <span class="s">&quot;fxx&quot;</span><span class="p">),</span>
            <span class="s">&#39;for-tag-vars06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or val in values %}{</span><span class="si">% i</span><span class="s">f forloop.last %}l{</span><span class="si">% e</span><span class="s">lse %}x{</span><span class="si">% e</span><span class="s">ndif %}{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">]},</span> <span class="s">&quot;xxl&quot;</span><span class="p">),</span>
            <span class="s">&#39;for-tag-unpack01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or key,value in items %}{{ key }}:{{ value }}/{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;items&quot;</span><span class="p">:</span> <span class="p">((</span><span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;two&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))},</span> <span class="s">&quot;one:1/two:2/&quot;</span><span class="p">),</span>
            <span class="s">&#39;for-tag-unpack03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or key, value in items %}{{ key }}:{{ value }}/{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;items&quot;</span><span class="p">:</span> <span class="p">((</span><span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;two&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))},</span> <span class="s">&quot;one:1/two:2/&quot;</span><span class="p">),</span>
            <span class="s">&#39;for-tag-unpack04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or key , value in items %}{{ key }}:{{ value }}/{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;items&quot;</span><span class="p">:</span> <span class="p">((</span><span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;two&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))},</span> <span class="s">&quot;one:1/two:2/&quot;</span><span class="p">),</span>
            <span class="s">&#39;for-tag-unpack05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or key ,value in items %}{{ key }}:{{ value }}/{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;items&quot;</span><span class="p">:</span> <span class="p">((</span><span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;two&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))},</span> <span class="s">&quot;one:1/two:2/&quot;</span><span class="p">),</span>
            <span class="s">&#39;for-tag-unpack06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or key value in items %}{{ key }}:{{ value }}/{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;items&quot;</span><span class="p">:</span> <span class="p">((</span><span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;two&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;for-tag-unpack07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or key,,value in items %}{{ key }}:{{ value }}/{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;items&quot;</span><span class="p">:</span> <span class="p">((</span><span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;two&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;for-tag-unpack08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or key,value, in items %}{{ key }}:{{ value }}/{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;items&quot;</span><span class="p">:</span> <span class="p">((</span><span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;two&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-94"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-94">&#182;</a></div><p>Ensure that a single loopvar doesn't truncate the list in val.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;for-tag-unpack09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or val in items %}{{ val.0 }}:{{ val.1 }}/{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;items&quot;</span><span class="p">:</span> <span class="p">((</span><span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;two&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))},</span> <span class="s">&quot;one:1/two:2/&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-95"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-95">&#182;</a></div><p>Otherwise, silently truncate if the length of loopvars differs to the length of each set of items.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;for-tag-unpack10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or x,y in items %}{{ x }}:{{ y }}/{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;items&quot;</span><span class="p">:</span> <span class="p">((</span><span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;carrot&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;two&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;orange&#39;</span><span class="p">))},</span> <span class="s">&quot;one:1/two:2/&quot;</span><span class="p">),</span>
            <span class="s">&#39;for-tag-unpack11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or x,y,z in items %}{{ x }}:{{ y }},{{ z }}/{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;items&quot;</span><span class="p">:</span> <span class="p">((</span><span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;two&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))},</span> <span class="p">(</span><span class="s">&quot;one:1,/two:2,/&quot;</span><span class="p">,</span> <span class="s">&quot;one:1,INVALID/two:2,INVALID/&quot;</span><span class="p">)),</span>
            <span class="s">&#39;for-tag-unpack12&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or x,y,z in items %}{{ x }}:{{ y }},{{ z }}/{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;items&quot;</span><span class="p">:</span> <span class="p">((</span><span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;carrot&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;two&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))},</span> <span class="p">(</span><span class="s">&quot;one:1,carrot/two:2,/&quot;</span><span class="p">,</span> <span class="s">&quot;one:1,carrot/two:2,INVALID/&quot;</span><span class="p">)),</span>
            <span class="s">&#39;for-tag-unpack13&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or x,y,z in items %}{{ x }}:{{ y }},{{ z }}/{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;items&quot;</span><span class="p">:</span> <span class="p">((</span><span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;carrot&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;two&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;cheese&#39;</span><span class="p">))},</span> <span class="p">(</span><span class="s">&quot;one:1,carrot/two:2,cheese/&quot;</span><span class="p">,</span> <span class="s">&quot;one:1,carrot/two:2,cheese/&quot;</span><span class="p">)),</span>
            <span class="s">&#39;for-tag-unpack14&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or x,y in items %}{{ x }}:{{ y }}/{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;items&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)},</span> <span class="p">(</span><span class="s">&quot;:/:/&quot;</span><span class="p">,</span> <span class="s">&quot;INVALID:INVALID/INVALID:INVALID/&quot;</span><span class="p">)),</span>
            <span class="s">&#39;for-tag-empty01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or val in values %}{{ val }}{</span><span class="si">% e</span><span class="s">mpty %}empty text{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]},</span> <span class="s">&quot;123&quot;</span><span class="p">),</span>
            <span class="s">&#39;for-tag-empty02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or val in values %}{{ val }}{</span><span class="si">% e</span><span class="s">mpty %}values array empty{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;values&quot;</span><span class="p">:</span> <span class="p">[]},</span> <span class="s">&quot;values array empty&quot;</span><span class="p">),</span>
            <span class="s">&#39;for-tag-empty03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or val in values %}{{ val }}{</span><span class="si">% e</span><span class="s">mpty %}values array not found{</span><span class="si">% e</span><span class="s">ndfor %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;values array not found&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-96"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-96">&#182;</a></div><h2>IF TAG</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;if-tag01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;foo&quot;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;foo&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span>

            <span class="s">&#39;if-tag04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo %}foo{</span><span class="si">% e</span><span class="s">lif bar %}bar{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&quot;foo&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo %}foo{</span><span class="si">% e</span><span class="s">lif bar %}bar{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&quot;bar&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo %}foo{</span><span class="si">% e</span><span class="s">lif bar %}bar{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo %}foo{</span><span class="si">% e</span><span class="s">lif bar %}bar{</span><span class="si">% e</span><span class="s">lse %}nothing{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&quot;foo&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo %}foo{</span><span class="si">% e</span><span class="s">lif bar %}bar{</span><span class="si">% e</span><span class="s">lse %}nothing{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&quot;bar&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo %}foo{</span><span class="si">% e</span><span class="s">lif bar %}bar{</span><span class="si">% e</span><span class="s">lse %}nothing{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;nothing&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo %}foo{</span><span class="si">% e</span><span class="s">lif bar %}bar{</span><span class="si">% e</span><span class="s">lif baz %}baz{</span><span class="si">% e</span><span class="s">lse %}nothing{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&quot;foo&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo %}foo{</span><span class="si">% e</span><span class="s">lif bar %}bar{</span><span class="si">% e</span><span class="s">lif baz %}baz{</span><span class="si">% e</span><span class="s">lse %}nothing{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&quot;bar&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag12&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo %}foo{</span><span class="si">% e</span><span class="s">lif bar %}bar{</span><span class="si">% e</span><span class="s">lif baz %}baz{</span><span class="si">% e</span><span class="s">lse %}nothing{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;baz&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&quot;baz&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag13&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo %}foo{</span><span class="si">% e</span><span class="s">lif bar %}bar{</span><span class="si">% e</span><span class="s">lif baz %}baz{</span><span class="si">% e</span><span class="s">lse %}nothing{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;nothing&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-97"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-97">&#182;</a></div><p>Filters</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;if-tag-filter01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo|length == 5 %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="s">&#39;abcde&#39;</span><span class="p">},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-filter02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo|upper == &#39;ABC&#39; %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-98"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-98">&#182;</a></div><p>Equality</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;if-tag-eq01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo == bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-eq02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo == bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-eq03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo == bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-eq04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo == bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-eq05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo == &#39;&#39; %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-99"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-99">&#182;</a></div><p>Comparison</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;if-tag-gt-01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f 2 &gt; 1 %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-gt-02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f 1 &gt; 1 %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-gte-01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f 1 &gt;= 1 %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-gte-02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f 1 &gt;= 2 %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-lt-01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f 1 &lt; 2 %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-lt-02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f 1 &lt; 1 %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-lte-01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f 1 &lt;= 1 %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-lte-02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f 2 &lt;= 1 %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-100"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-100">&#182;</a></div><p>Contains</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;if-tag-in-01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f 1 in x %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">]},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-in-02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f 2 in x %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">]},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not-in-01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f 1 not in x %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">]},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not-in-02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f 2 not in x %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">]},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-101"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-101">&#182;</a></div><p>AND</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;if-tag-and01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo and bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-and02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo and bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-and03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo and bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-and04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo and bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-and05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo and bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-and06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo and bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-and07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo and bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-and08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo and bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-102"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-102">&#182;</a></div><p>OR</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;if-tag-or01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo or bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-or02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo or bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-or03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo or bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-or04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo or bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-or05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo or bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-or06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo or bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-or07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo or bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-or08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo or bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-103"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-103">&#182;</a></div><p>multiple ORs</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;if-tag-or09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo or bar or baz %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;baz&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-104"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-104">&#182;</a></div><p>NOT</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;if-tag-not01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo %}no{</span><span class="si">% e</span><span class="s">lse %}yes{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not not foo %}no{</span><span class="si">% e</span><span class="s">lse %}yes{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-105"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-105">&#182;</a></div><p>not03 to not05 removed, now TemplateSyntaxErrors</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;if-tag-not06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo and not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo and not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo and not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo and not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo and not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>

            <span class="s">&#39;if-tag-not11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo and bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not12&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo and bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not13&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo and bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not14&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo and bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not15&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo and bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>

            <span class="s">&#39;if-tag-not16&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo or not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not17&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo or not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not18&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo or not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not19&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo or not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not20&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo or not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>

            <span class="s">&#39;if-tag-not21&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo or bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not22&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo or bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not23&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo or bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not24&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo or bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not25&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo or bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>

            <span class="s">&#39;if-tag-not26&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo and not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not27&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo and not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not28&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo and not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not29&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo and not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not30&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo and not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>

            <span class="s">&#39;if-tag-not31&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo or not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not32&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo or not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not33&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo or not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not34&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo or not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-not35&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo or not bar %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-106"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-106">&#182;</a></div><p>Various syntax errors</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;if-tag-error01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f %}yes{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;if-tag-error02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo and %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;if-tag-error03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f foo or %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;if-tag-error04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo and %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;if-tag-error05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not foo or %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;if-tag-error06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f abc def %}yes{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;if-tag-error07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f not %}yes{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;if-tag-error08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f and %}yes{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;if-tag-error09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f or %}yes{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;if-tag-error10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f == %}yes{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;if-tag-error11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f 1 == %}yes{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;if-tag-error12&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f a not b %}yes{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-107"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-107">&#182;</a></div><p>If evaluations are shortcircuited where possible
If is_bad is invoked, it will raise a ShouldNotExecuteException</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;if-tag-shortcircuit01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">f x.is_true or x.is_bad %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="n">TestObj</span><span class="p">()},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-shortcircuit02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">f x.is_false and x.is_bad %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="n">TestObj</span><span class="p">()},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-108"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-108">&#182;</a></div><p>Non-existent args</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;if-tag-badarg01&#39;</span><span class="p">:(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f x|default_if_none:y %}yes{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-badarg02&#39;</span><span class="p">:(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f x|default_if_none:y %}yes{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;y&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-badarg03&#39;</span><span class="p">:(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f x|default_if_none:y %}yes{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;y&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;if-tag-badarg04&#39;</span><span class="p">:(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">f x|default_if_none:y %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndif %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;no&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-109"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-109">&#182;</a></div><p>Additional, more precise parsing tests are in SmartIfTests</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-110"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-110">&#182;</a></div><h2>IFCHANGED TAG</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;ifchanged01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or n in num %}{</span><span class="si">% i</span><span class="s">fchanged %}{{ n }}{</span><span class="si">% e</span><span class="s">ndifchanged %}{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;num&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)},</span> <span class="s">&#39;123&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifchanged02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or n in num %}{</span><span class="si">% i</span><span class="s">fchanged %}{{ n }}{</span><span class="si">% e</span><span class="s">ndifchanged %}{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;num&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)},</span> <span class="s">&#39;13&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifchanged03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or n in num %}{</span><span class="si">% i</span><span class="s">fchanged %}{{ n }}{</span><span class="si">% e</span><span class="s">ndifchanged %}{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;num&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)},</span> <span class="s">&#39;1&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifchanged04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or n in num %}{</span><span class="si">% i</span><span class="s">fchanged %}{{ n }}{</span><span class="si">% e</span><span class="s">ndifchanged %}{</span><span class="si">% f</span><span class="s">or x in numx %}{</span><span class="si">% i</span><span class="s">fchanged %}{{ x }}{</span><span class="si">% e</span><span class="s">ndifchanged %}{</span><span class="si">% e</span><span class="s">ndfor %}{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;num&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="s">&#39;numx&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)},</span> <span class="s">&#39;122232&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifchanged05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or n in num %}{</span><span class="si">% i</span><span class="s">fchanged %}{{ n }}{</span><span class="si">% e</span><span class="s">ndifchanged %}{</span><span class="si">% f</span><span class="s">or x in numx %}{</span><span class="si">% i</span><span class="s">fchanged %}{{ x }}{</span><span class="si">% e</span><span class="s">ndifchanged %}{</span><span class="si">% e</span><span class="s">ndfor %}{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;num&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s">&#39;numx&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)},</span> <span class="s">&#39;1123123123&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifchanged06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or n in num %}{</span><span class="si">% i</span><span class="s">fchanged %}{{ n }}{</span><span class="si">% e</span><span class="s">ndifchanged %}{</span><span class="si">% f</span><span class="s">or x in numx %}{</span><span class="si">% i</span><span class="s">fchanged %}{{ x }}{</span><span class="si">% e</span><span class="s">ndifchanged %}{</span><span class="si">% e</span><span class="s">ndfor %}{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;num&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s">&#39;numx&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)},</span> <span class="s">&#39;1222&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifchanged07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or n in num %}{</span><span class="si">% i</span><span class="s">fchanged %}{{ n }}{</span><span class="si">% e</span><span class="s">ndifchanged %}{</span><span class="si">% f</span><span class="s">or x in numx %}{</span><span class="si">% i</span><span class="s">fchanged %}{{ x }}{</span><span class="si">% e</span><span class="s">ndifchanged %}{</span><span class="si">% f</span><span class="s">or y in numy %}{</span><span class="si">% i</span><span class="s">fchanged %}{{ y }}{</span><span class="si">% e</span><span class="s">ndifchanged %}{</span><span class="si">% e</span><span class="s">ndfor %}{</span><span class="si">% e</span><span class="s">ndfor %}{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;num&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s">&#39;numx&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="s">&#39;numy&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)},</span> <span class="s">&#39;1233323332333&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifchanged08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or data in datalist %}{</span><span class="si">% f</span><span class="s">or c,d in data %}{</span><span class="si">% i</span><span class="s">f c %}{</span><span class="si">% i</span><span class="s">fchanged %}{{ d }}{</span><span class="si">% e</span><span class="s">ndifchanged %}{</span><span class="si">% e</span><span class="s">ndif %}{</span><span class="si">% e</span><span class="s">ndfor %}{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;datalist&#39;</span><span class="p">:</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">)],</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;e&#39;</span><span class="p">)]]},</span> <span class="s">&#39;accd&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-111"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-111">&#182;</a></div><p>Test one parameter given to ifchanged.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;ifchanged-param01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or n in num %}{</span><span class="si">% i</span><span class="s">fchanged n %}..{</span><span class="si">% e</span><span class="s">ndifchanged %}{{ n }}{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s">&#39;num&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="p">},</span> <span class="s">&#39;..1..2..3&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifchanged-param02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or n in num %}{</span><span class="si">% f</span><span class="s">or x in numx %}{</span><span class="si">% i</span><span class="s">fchanged n %}..{</span><span class="si">% e</span><span class="s">ndifchanged %}{{ x }}{</span><span class="si">% e</span><span class="s">ndfor %}{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s">&#39;num&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="s">&#39;numx&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span> <span class="p">},</span> <span class="s">&#39;..567..567..567&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-112"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-112">&#182;</a></div><p>Test multiple parameters to ifchanged.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;ifchanged-param03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or n in num %}{{ n }}{</span><span class="si">% f</span><span class="s">or x in numx %}{</span><span class="si">% i</span><span class="s">fchanged x n %}{{ x }}{</span><span class="si">% e</span><span class="s">ndifchanged %}{</span><span class="si">% e</span><span class="s">ndfor %}{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s">&#39;num&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="s">&#39;numx&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="p">},</span> <span class="s">&#39;156156256&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-113"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-113">&#182;</a></div><p>Test a date+hour like construct, where the hour of the last day
is the same but the date had changed, so print the hour anyway.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;ifchanged-param04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or d in days %}{</span><span class="si">% i</span><span class="s">fchanged %}{{ d.day }}{</span><span class="si">% e</span><span class="s">ndifchanged %}{</span><span class="si">% f</span><span class="s">or h in d.hours %}{</span><span class="si">% i</span><span class="s">fchanged d h %}{{ h }}{</span><span class="si">% e</span><span class="s">ndifchanged %}{</span><span class="si">% e</span><span class="s">ndfor %}{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;days&#39;</span><span class="p">:[{</span><span class="s">&#39;day&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;hours&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]},{</span><span class="s">&#39;day&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;hours&#39;</span><span class="p">:[</span><span class="mi">3</span><span class="p">]},]</span> <span class="p">},</span> <span class="s">&#39;112323&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-114"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-114">&#182;</a></div><p>Logically the same as above, just written with explicit
ifchanged for the day.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;ifchanged-param05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or d in days %}{</span><span class="si">% i</span><span class="s">fchanged d.day %}{{ d.day }}{</span><span class="si">% e</span><span class="s">ndifchanged %}{</span><span class="si">% f</span><span class="s">or h in d.hours %}{</span><span class="si">% i</span><span class="s">fchanged d.day h %}{{ h }}{</span><span class="si">% e</span><span class="s">ndifchanged %}{</span><span class="si">% e</span><span class="s">ndfor %}{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;days&#39;</span><span class="p">:[{</span><span class="s">&#39;day&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;hours&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]},{</span><span class="s">&#39;day&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;hours&#39;</span><span class="p">:[</span><span class="mi">3</span><span class="p">]},]</span> <span class="p">},</span> <span class="s">&#39;112323&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-115"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-115">&#182;</a></div><p>Test the else clause of ifchanged.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;ifchanged-else01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or id in ids %}{{ id }}{</span><span class="si">% i</span><span class="s">fchanged id %}-first{</span><span class="si">% e</span><span class="s">lse %}-other{</span><span class="si">% e</span><span class="s">ndifchanged %},{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;ids&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]},</span> <span class="s">&#39;1-first,1-other,2-first,2-other,2-other,3-first,&#39;</span><span class="p">),</span>

            <span class="s">&#39;ifchanged-else02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or id in ids %}{{ id }}-{</span><span class="si">% i</span><span class="s">fchanged id %}{</span><span class="si">% c</span><span class="s">ycle red,blue %}{</span><span class="si">% e</span><span class="s">lse %}grey{</span><span class="si">% e</span><span class="s">ndifchanged %},{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;ids&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]},</span> <span class="s">&#39;1-red,1-grey,2-blue,2-grey,2-grey,3-red,&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifchanged-else03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or id in ids %}{{ id }}{</span><span class="si">% i</span><span class="s">fchanged id %}-{</span><span class="si">% c</span><span class="s">ycle red,blue %}{</span><span class="si">% e</span><span class="s">lse %}{</span><span class="si">% e</span><span class="s">ndifchanged %},{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;ids&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]},</span> <span class="s">&#39;1-red,1,2-blue,2,2,3-red,&#39;</span><span class="p">),</span>

            <span class="s">&#39;ifchanged-else04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or id in ids %}{</span><span class="si">% i</span><span class="s">fchanged %}***{{ id }}*{</span><span class="si">% e</span><span class="s">lse %}...{</span><span class="si">% e</span><span class="s">ndifchanged %}{{ forloop.counter }}{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;ids&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]},</span> <span class="s">&#39;***1*1...2***2*3...4...5***3*6***4*7&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-116"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-116">&#182;</a></div><h2>IFEQUAL TAG</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;ifequal01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">fequal a b %}yes{</span><span class="si">% e</span><span class="s">ndifequal %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s">&quot;&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifequal02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">fequal a b %}yes{</span><span class="si">% e</span><span class="s">ndifequal %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifequal03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">fequal a b %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifequal %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifequal04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">fequal a b %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifequal %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifequal05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">fequal a &#39;test&#39; %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifequal %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;test&quot;</span><span class="p">},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifequal06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">fequal a &#39;test&#39; %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifequal %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;no&quot;</span><span class="p">},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifequal07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal a &quot;test&quot; %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;test&quot;</span><span class="p">},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifequal08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal a &quot;test&quot; %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;no&quot;</span><span class="p">},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifequal09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal a &quot;test&quot; %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifequal10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal a b %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-117"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-117">&#182;</a></div><p>SMART SPLITTING</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;ifequal-split01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal a &quot;test man&quot; %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-split02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal a &quot;test man&quot; %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&#39;foo&#39;</span><span class="p">},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-split03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal a &quot;test man&quot; %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&#39;test man&#39;</span><span class="p">},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-split04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">fequal a &#39;test man&#39; %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifequal %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&#39;test man&#39;</span><span class="p">},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-split05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">fequal a &#39;i </span><span class="se">\&quot;</span><span class="s">love</span><span class="se">\&quot;</span><span class="s"> you&#39; %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifequal %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-split06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">fequal a &#39;i </span><span class="se">\&quot;</span><span class="s">love</span><span class="se">\&quot;</span><span class="s"> you&#39; %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifequal %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&#39;i &quot;love&quot; you&#39;</span><span class="p">},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-split07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">fequal a &#39;i </span><span class="se">\&quot;</span><span class="s">love</span><span class="se">\&quot;</span><span class="s"> you&#39; %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifequal %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&#39;i love you&#39;</span><span class="p">},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-split08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&quot;{</span><span class="si">% i</span><span class="s">fequal a &#39;I\&#39;m happy&#39; %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifequal %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&quot;I&#39;m happy&quot;</span><span class="p">},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-split09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&quot;{</span><span class="si">% i</span><span class="s">fequal a &#39;slash\man&#39; %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifequal %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">r&quot;slash\man&quot;</span><span class="p">},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-split10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&quot;{</span><span class="si">% i</span><span class="s">fequal a &#39;slash\man&#39; %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifequal %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">r&quot;slashman&quot;</span><span class="p">},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-118"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-118">&#182;</a></div><p>NUMERIC RESOLUTION</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;ifequal-numeric01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal x 5 %}yes{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="s">&#39;5&#39;</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-numeric02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal x 5 %}yes{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-numeric03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal x 5.2 %}yes{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-numeric04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal x 5.2 %}yes{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="mf">5.2</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-numeric05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal x 0.2 %}yes{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="o">.</span><span class="mi">2</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-numeric06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal x .2 %}yes{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="o">.</span><span class="mi">2</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-numeric07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal x 2. %}yes{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-numeric08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal x &quot;5&quot; %}yes{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-numeric09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal x &quot;5&quot; %}yes{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="s">&#39;5&#39;</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-numeric10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal x -5 %}yes{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">5</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-numeric11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal x -5.2 %}yes{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">5.2</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-numeric12&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal x +5 %}yes{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="s">&#39;yes&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-119"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-119">&#182;</a></div><p>FILTER EXPRESSIONS AS ARGUMENTS</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;ifequal-filter01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal a|upper &quot;A&quot; %}x{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&#39;a&#39;</span><span class="p">},</span> <span class="s">&#39;x&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-filter02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal &quot;A&quot; a|upper %}x{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&#39;a&#39;</span><span class="p">},</span> <span class="s">&#39;x&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-filter03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal a|upper b|upper %}x{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="s">&#39;X&#39;</span><span class="p">},</span> <span class="s">&#39;x&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-filter04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal x|slice:&quot;1&quot; &quot;a&quot; %}x{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="s">&#39;aaa&#39;</span><span class="p">},</span> <span class="s">&#39;x&#39;</span><span class="p">),</span>
            <span class="s">&#39;ifequal-filter05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal x|slice:&quot;1&quot;|upper &quot;A&quot; %}x{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="s">&#39;aaa&#39;</span><span class="p">},</span> <span class="s">&#39;x&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-120"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-120">&#182;</a></div><h2>IFNOTEQUAL TAG</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;ifnotequal01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">fnotequal a b %}yes{</span><span class="si">% e</span><span class="s">ndifnotequal %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifnotequal02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">fnotequal a b %}yes{</span><span class="si">% e</span><span class="s">ndifnotequal %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s">&quot;&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifnotequal03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">fnotequal a b %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifnotequal %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span>
            <span class="s">&#39;ifnotequal04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% i</span><span class="s">fnotequal a b %}yes{</span><span class="si">% e</span><span class="s">lse %}no{</span><span class="si">% e</span><span class="s">ndifnotequal %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s">&quot;no&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-121"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-121">&#182;</a></div><h1>INCLUDE TAG</h1></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;include01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude &quot;basic-syntax01&quot; %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;something cool&quot;</span><span class="p">),</span>
            <span class="s">&#39;include02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude &quot;basic-syntax02&quot; %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;headline&#39;</span><span class="p">:</span> <span class="s">&#39;Included&#39;</span><span class="p">},</span> <span class="s">&quot;Included&quot;</span><span class="p">),</span>
            <span class="s">&#39;include03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude template_name %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;template_name&#39;</span><span class="p">:</span> <span class="s">&#39;basic-syntax02&#39;</span><span class="p">,</span> <span class="s">&#39;headline&#39;</span><span class="p">:</span> <span class="s">&#39;Included&#39;</span><span class="p">},</span> <span class="s">&quot;Included&quot;</span><span class="p">),</span>
            <span class="s">&#39;include04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;a{</span><span class="si">% i</span><span class="s">nclude &quot;nonexistent&quot; %}b&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="p">(</span><span class="s">&quot;ab&quot;</span><span class="p">,</span> <span class="s">&quot;ab&quot;</span><span class="p">,</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateDoesNotExist</span><span class="p">)),</span>
            <span class="s">&#39;include 05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;template with a space&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;template with a space&#39;</span><span class="p">),</span>
            <span class="s">&#39;include06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude &quot;include 05&quot;%}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;template with a space&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-122"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-122">&#182;</a></div><p>extra inline context</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;include07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude &quot;basic-syntax02&quot; with headline=&quot;Inline&quot; %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;headline&#39;</span><span class="p">:</span> <span class="s">&#39;Included&#39;</span><span class="p">},</span> <span class="s">&#39;Inline&#39;</span><span class="p">),</span>
            <span class="s">&#39;include08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude headline with headline=&quot;Dynamic&quot; %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;headline&#39;</span><span class="p">:</span> <span class="s">&#39;basic-syntax02&#39;</span><span class="p">},</span> <span class="s">&#39;Dynamic&#39;</span><span class="p">),</span>
            <span class="s">&#39;include09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ first }}--{</span><span class="si">% i</span><span class="s">nclude &quot;basic-syntax03&quot; with first=second|lower|upper second=first|upper %}--{{ second }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;first&#39;</span><span class="p">:</span> <span class="s">&#39;Ul&#39;</span><span class="p">,</span> <span class="s">&#39;second&#39;</span><span class="p">:</span> <span class="s">&#39;lU&#39;</span><span class="p">},</span> <span class="s">&#39;Ul--LU --- UL--lU&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-123"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-123">&#182;</a></div><p>isolated context</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;include10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude &quot;basic-syntax03&quot; only %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;first&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">},</span> <span class="p">(</span><span class="s">&#39; --- &#39;</span><span class="p">,</span> <span class="s">&#39;INVALID --- INVALID&#39;</span><span class="p">)),</span>
            <span class="s">&#39;include11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude &quot;basic-syntax03&quot; only with second=2 %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;first&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">},</span> <span class="p">(</span><span class="s">&#39; --- 2&#39;</span><span class="p">,</span> <span class="s">&#39;INVALID --- 2&#39;</span><span class="p">)),</span>
            <span class="s">&#39;include12&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude &quot;basic-syntax03&quot; with first=1 only %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;second&#39;</span><span class="p">:</span> <span class="s">&#39;2&#39;</span><span class="p">},</span> <span class="p">(</span><span class="s">&#39;1 --- &#39;</span><span class="p">,</span> <span class="s">&#39;1 --- INVALID&#39;</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-124"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-124">&#182;</a></div><p>autoescape context</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;include13&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{</span><span class="si">% i</span><span class="s">nclude &quot;basic-syntax03&quot; %}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;first&#39;</span><span class="p">:</span> <span class="s">&#39;&amp;&#39;</span><span class="p">},</span> <span class="p">(</span><span class="s">&#39;&amp; --- &#39;</span><span class="p">,</span> <span class="s">&#39;&amp; --- INVALID&#39;</span><span class="p">)),</span>
            <span class="s">&#39;include14&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{</span><span class="si">% i</span><span class="s">nclude &quot;basic-syntax03&quot; with first=var1 only %}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;var1&#39;</span><span class="p">:</span> <span class="s">&#39;&amp;&#39;</span><span class="p">},</span> <span class="p">(</span><span class="s">&#39;&amp; --- &#39;</span><span class="p">,</span> <span class="s">&#39;&amp; --- INVALID&#39;</span><span class="p">)),</span>

            <span class="s">&#39;include-error01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude &quot;basic-syntax01&quot; with %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;include-error02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude &quot;basic-syntax01&quot; with &quot;no key&quot; %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;include-error03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude &quot;basic-syntax01&quot; with dotted.arg=&quot;error&quot; %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;include-error04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude &quot;basic-syntax01&quot; something_random %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;include-error05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude &quot;basic-syntax01&quot; foo=&quot;duplicate&quot; foo=&quot;key&quot; %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;include-error06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude &quot;basic-syntax01&quot; only only %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-125"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-125">&#182;</a></div><h2>INCLUSION ERROR REPORTING</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;include-fail1&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad bad_tag %}{% badtag %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="ne">RuntimeError</span><span class="p">),</span>
            <span class="s">&#39;include-fail2&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad broken_tag %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;include-error07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude &quot;include-fail1&quot; %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">RuntimeError</span><span class="p">)),</span>
            <span class="s">&#39;include-error08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude &quot;include-fail2&quot; %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">)),</span>
            <span class="s">&#39;include-error09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude failed_include %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;failed_include&#39;</span><span class="p">:</span> <span class="s">&#39;include-fail1&#39;</span><span class="p">},</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">RuntimeError</span><span class="p">)),</span>
            <span class="s">&#39;include-error10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude failed_include %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;failed_include&#39;</span><span class="p">:</span> <span class="s">&#39;include-fail2&#39;</span><span class="p">},</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-126"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-126">&#182;</a></div><h2>NAMED ENDBLOCKS</h2></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-127"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-127">&#182;</a></div><p>Basic test</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;namedendblocks01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;1{% block first %}_{% block second %}2{</span><span class="si">% e</span><span class="s">ndblock second %}_{</span><span class="si">% e</span><span class="s">ndblock first %}3&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1_2_3&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-128"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-128">&#182;</a></div><p>Unbalanced blocks</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;namedendblocks02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;1{% block first %}_{% block second %}2{</span><span class="si">% e</span><span class="s">ndblock first %}_{</span><span class="si">% e</span><span class="s">ndblock second %}3&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;namedendblocks03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;1{% block first %}_{% block second %}2{</span><span class="si">% e</span><span class="s">ndblock %}_{</span><span class="si">% e</span><span class="s">ndblock second %}3&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;namedendblocks04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;1{% block first %}_{% block second %}2{</span><span class="si">% e</span><span class="s">ndblock second %}_{</span><span class="si">% e</span><span class="s">ndblock third %}3&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;namedendblocks05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;1{% block first %}_{% block second %}2{</span><span class="si">% e</span><span class="s">ndblock first %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-129"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-129">&#182;</a></div><p>Mixed named and unnamed endblocks</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;namedendblocks06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;1{% block first %}_{% block second %}2{</span><span class="si">% e</span><span class="s">ndblock %}_{</span><span class="si">% e</span><span class="s">ndblock first %}3&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1_2_3&#39;</span><span class="p">),</span>
            <span class="s">&#39;namedendblocks07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;1{% block first %}_{% block second %}2{</span><span class="si">% e</span><span class="s">ndblock second %}_{</span><span class="si">% e</span><span class="s">ndblock %}3&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1_2_3&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-130"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-130">&#182;</a></div><h2>INHERITANCE</h2></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-131"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-131">&#182;</a></div><p>Standard template with no inheritance</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;1{% block first %}&amp;{</span><span class="si">% e</span><span class="s">ndblock %}3{% block second %}_{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1&amp;3_&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-132"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-132">&#182;</a></div><p>Standard two-level inheritance</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance01&#39; %}{% block first %}2{</span><span class="si">% e</span><span class="s">ndblock %}{% block second %}4{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1234&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-133"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-133">&#182;</a></div><p>Three-level with no redefinitions on third level</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance02&#39; %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1234&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-134"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-134">&#182;</a></div><p>Two-level with no redefinitions on second level</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance01&#39; %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1&amp;3_&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-135"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-135">&#182;</a></div><p>Two-level with double quotes instead of single quotes</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% e</span><span class="s">xtends &quot;inheritance02&quot; %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1234&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-136"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-136">&#182;</a></div><p>Three-level with variable parent-template name</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends foo %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="s">&#39;inheritance02&#39;</span><span class="p">},</span> <span class="s">&#39;1234&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-137"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-137">&#182;</a></div><p>Two-level with one block defined, one block not defined</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance01&#39; %}{% block second %}5{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1&amp;35&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-138"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-138">&#182;</a></div><p>Three-level with one block defined on this level, two blocks defined next level</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance02&#39; %}{% block second %}5{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1235&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-139"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-139">&#182;</a></div><p>Three-level with second and third levels blank</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance04&#39; %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1&amp;3_&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-140"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-140">&#182;</a></div><p>Three-level with space NOT in a block -- should be ignored</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance04&#39; %}      &quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1&amp;3_&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-141"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-141">&#182;</a></div><p>Three-level with both blocks defined on this level, but none on second level</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance04&#39; %}{% block first %}2{</span><span class="si">% e</span><span class="s">ndblock %}{% block second %}4{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1234&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-142"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-142">&#182;</a></div><p>Three-level with this level providing one and second level providing the other</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance12&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance07&#39; %}{% block first %}2{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1235&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-143"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-143">&#182;</a></div><p>Three-level with this level overriding second level</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance13&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance02&#39; %}{% block first %}a{</span><span class="si">% e</span><span class="s">ndblock %}{% block second %}b{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1a3b&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-144"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-144">&#182;</a></div><p>A block defined only in a child template shouldn't be displayed</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance14&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance01&#39; %}{% block newblock %}NO DISPLAY{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1&amp;3_&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-145"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-145">&#182;</a></div><p>A block within another block</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance15&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance01&#39; %}{% block first %}2{% block inner %}inner{</span><span class="si">% e</span><span class="s">ndblock %}{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;12inner3_&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-146"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-146">&#182;</a></div><p>A block within another block (level 2)</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance16&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance15&#39; %}{% block inner %}out{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;12out3_&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-147"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-147">&#182;</a></div><p>{% load %} tag (parent -- setup for exception04)</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance17&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad testtags %}{% block first %}1234{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1234&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-148"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-148">&#182;</a></div><p>{% load %} tag (standard usage, without inheritance)</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance18&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad testtags %}{</span><span class="si">% e</span><span class="s">cho this that theother %}5678&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;this that theother5678&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-149"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-149">&#182;</a></div><p>{% load %} tag (within a child template)</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance19&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance01&#39; %}{% block first %}{</span><span class="si">% lo</span><span class="s">ad testtags %}{</span><span class="si">% e</span><span class="s">cho 400 %}5678{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;140056783_&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-150"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-150">&#182;</a></div><p>Two-level inheritance with {{ block.super }}</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance20&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance01&#39; %}{% block first %}{{ block.super }}a{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1&amp;a3_&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-151"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-151">&#182;</a></div><p>Three-level inheritance with {{ block.super }} from parent</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance21&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance02&#39; %}{% block first %}{{ block.super }}a{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;12a34&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-152"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-152">&#182;</a></div><p>Three-level inheritance with {{ block.super }} from grandparent</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance22&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance04&#39; %}{% block first %}{{ block.super }}a{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1&amp;a3_&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-153"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-153">&#182;</a></div><p>Three-level inheritance with {{ block.super }} from parent and grandparent</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance23&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance20&#39; %}{% block first %}{{ block.super }}b{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1&amp;ab3_&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-154"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-154">&#182;</a></div><p>Inheritance from local context without use of template loader</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance24&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends context_template %}{% block first %}2{</span><span class="si">% e</span><span class="s">ndblock %}{% block second %}4{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;context_template&#39;</span><span class="p">:</span> <span class="n">template</span><span class="o">.</span><span class="n">Template</span><span class="p">(</span><span class="s">&quot;1{% block first %}_{</span><span class="si">% e</span><span class="s">ndblock %}3{% block second %}_{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">)},</span> <span class="s">&#39;1234&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-155"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-155">&#182;</a></div><p>Inheritance from local context with variable parent template</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance25&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends context_template.1 %}{% block first %}2{</span><span class="si">% e</span><span class="s">ndblock %}{% block second %}4{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;context_template&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">template</span><span class="o">.</span><span class="n">Template</span><span class="p">(</span><span class="s">&quot;Wrong&quot;</span><span class="p">),</span> <span class="n">template</span><span class="o">.</span><span class="n">Template</span><span class="p">(</span><span class="s">&quot;1{% block first %}_{</span><span class="si">% e</span><span class="s">ndblock %}3{% block second %}_{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">)]},</span> <span class="s">&#39;1234&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-156"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-156">&#182;</a></div><p>Set up a base template to extend</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance26&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;no tags&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;no tags&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-157"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-157">&#182;</a></div><p>Inheritance from a template that doesn't have any blocks</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance27&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance26&#39; %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;no tags&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-158"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-158">&#182;</a></div><p>Set up a base template with a space in it.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance 28&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% block first %}!{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;!&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-159"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-159">&#182;</a></div><p>Inheritance from a template with a space in its name should work.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance29&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance 28&#39; %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;!&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-160"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-160">&#182;</a></div><p>Base template, putting block in a conditional {% if %} tag</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance30&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;1{</span><span class="si">% i</span><span class="s">f optional %}{% block opt %}2{</span><span class="si">% e</span><span class="s">ndblock %}{</span><span class="si">% e</span><span class="s">ndif %}3&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;optional&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;123&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-161"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-161">&#182;</a></div><p>Inherit from a template with block wrapped in an {% if %} tag (in parent), still gets overridden</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance31&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance30&#39; %}{% block opt %}two{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;optional&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;1two3&#39;</span><span class="p">),</span>
            <span class="s">&#39;inheritance32&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance30&#39; %}{% block opt %}two{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;13&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-162"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-162">&#182;</a></div><p>Base template, putting block in a conditional {% ifequal %} tag</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance33&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;1{</span><span class="si">% i</span><span class="s">fequal optional 1 %}{% block opt %}2{</span><span class="si">% e</span><span class="s">ndblock %}{</span><span class="si">% e</span><span class="s">ndifequal %}3&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;optional&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s">&#39;123&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-163"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-163">&#182;</a></div><p>Inherit from a template with block wrapped in an {% ifequal %} tag (in parent), still gets overridden</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance34&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance33&#39; %}{% block opt %}two{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;optional&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s">&#39;1two3&#39;</span><span class="p">),</span>
            <span class="s">&#39;inheritance35&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance33&#39; %}{% block opt %}two{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;optional&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s">&#39;13&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-164"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-164">&#182;</a></div><p>Base template, putting block in a {% for %} tag</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance36&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% f</span><span class="s">or n in numbers %}_{% block opt %}{{ n }}{</span><span class="si">% e</span><span class="s">ndblock %}{</span><span class="si">% e</span><span class="s">ndfor %}_&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;numbers&#39;</span><span class="p">:</span> <span class="s">&#39;123&#39;</span><span class="p">},</span> <span class="s">&#39;_1_2_3_&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-165"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-165">&#182;</a></div><p>Inherit from a template with block wrapped in an {% for %} tag (in parent), still gets overridden</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance37&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance36&#39; %}{% block opt %}X{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;numbers&#39;</span><span class="p">:</span> <span class="s">&#39;123&#39;</span><span class="p">},</span> <span class="s">&#39;_X_X_X_&#39;</span><span class="p">),</span>
            <span class="s">&#39;inheritance38&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance36&#39; %}{% block opt %}X{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;_&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-166"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-166">&#182;</a></div><p>The super block will still be found.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance39&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance30&#39; %}{% block opt %}new{{ block.super }}{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;optional&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;1new23&#39;</span><span class="p">),</span>
            <span class="s">&#39;inheritance40&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance33&#39; %}{% block opt %}new{{ block.super }}{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;optional&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s">&#39;1new23&#39;</span><span class="p">),</span>
            <span class="s">&#39;inheritance41&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance36&#39; %}{% block opt %}new{{ block.super }}{</span><span class="si">% e</span><span class="s">ndblock %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;numbers&#39;</span><span class="p">:</span> <span class="s">&#39;123&#39;</span><span class="p">},</span> <span class="s">&#39;_new1_new2_new3_&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-167"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-167">&#182;</a></div><p>Expression starting and ending with a quote</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;inheritance42&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% e</span><span class="s">xtends &#39;inheritance02&#39;|cut:&#39; &#39; %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;1234&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-168"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-168">&#182;</a></div><h2>LOADING TAG LIBRARIES</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;load01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad testtags subpackage.echo %}{</span><span class="si">% e</span><span class="s">cho test %} {</span><span class="si">% e</span><span class="s">cho2 </span><span class="se">\&quot;</span><span class="s">test</span><span class="se">\&quot;</span><span class="s"> %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;test test&quot;</span><span class="p">),</span>
            <span class="s">&#39;load02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad subpackage.echo %}{</span><span class="si">% e</span><span class="s">cho2 </span><span class="se">\&quot;</span><span class="s">test</span><span class="se">\&quot;</span><span class="s"> %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;test&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-169"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-169">&#182;</a></div><p>{% load %} tag, importing individual tags</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;load03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad echo from testtags %}{</span><span class="si">% e</span><span class="s">cho this that theother %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;this that theother&#39;</span><span class="p">),</span>
            <span class="s">&#39;load04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad echo other_echo from testtags %}{</span><span class="si">% e</span><span class="s">cho this that theother %} {</span><span class="si">% o</span><span class="s">ther_echo and another thing %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;this that theother and another thing&#39;</span><span class="p">),</span>
            <span class="s">&#39;load05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad echo upper from testtags %}{</span><span class="si">% e</span><span class="s">cho this that theother %} {{ statement|upper }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;statement&#39;</span><span class="p">:</span> <span class="s">&#39;not shouting&#39;</span><span class="p">},</span> <span class="s">&#39;this that theother NOT SHOUTING&#39;</span><span class="p">),</span>
            <span class="s">&#39;load06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad echo2 from subpackage.echo %}{</span><span class="si">% e</span><span class="s">cho2 </span><span class="se">\&quot;</span><span class="s">test</span><span class="se">\&quot;</span><span class="s"> %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;test&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-170"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-170">&#182;</a></div><p>{% load %} tag errors</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;load07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad echo other_echo bad_tag from testtags %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;load08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad echo other_echo bad_tag from %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;load09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad from testtags %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;load10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad echo from bad_library %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;load11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad subpackage.echo_invalid %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;load12&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad subpackage.missing %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-171"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-171">&#182;</a></div><h2>I18N</h2></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-172"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-172">&#182;</a></div><p>{% spaceless %} tag</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;spaceless01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% s</span><span class="s">paceless %} &lt;b&gt;    &lt;i&gt; text &lt;/i&gt;    &lt;/b&gt; {</span><span class="si">% e</span><span class="s">ndspaceless %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;&lt;b&gt;&lt;i&gt; text &lt;/i&gt;&lt;/b&gt;&quot;</span><span class="p">),</span>
            <span class="s">&#39;spaceless02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% s</span><span class="s">paceless %} &lt;b&gt; </span><span class="se">\n</span><span class="s"> &lt;i&gt; text &lt;/i&gt; </span><span class="se">\n</span><span class="s"> &lt;/b&gt; {</span><span class="si">% e</span><span class="s">ndspaceless %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;&lt;b&gt;&lt;i&gt; text &lt;/i&gt;&lt;/b&gt;&quot;</span><span class="p">),</span>
            <span class="s">&#39;spaceless03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% s</span><span class="s">paceless %}&lt;b&gt;&lt;i&gt;text&lt;/i&gt;&lt;/b&gt;{</span><span class="si">% e</span><span class="s">ndspaceless %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;&lt;b&gt;&lt;i&gt;text&lt;/i&gt;&lt;/b&gt;&quot;</span><span class="p">),</span>
            <span class="s">&#39;spaceless04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% s</span><span class="s">paceless %}&lt;b&gt;   &lt;i&gt;{{ text }}&lt;/i&gt;  &lt;/b&gt;{</span><span class="si">% e</span><span class="s">ndspaceless %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;text&#39;</span> <span class="p">:</span> <span class="s">&#39;This &amp; that&#39;</span><span class="p">},</span> <span class="s">&quot;&lt;b&gt;&lt;i&gt;This &amp;amp; that&lt;/i&gt;&lt;/b&gt;&quot;</span><span class="p">),</span>
            <span class="s">&#39;spaceless05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% autoescape off %}{</span><span class="si">% s</span><span class="s">paceless %}&lt;b&gt;   &lt;i&gt;{{ text }}&lt;/i&gt;  &lt;/b&gt;{</span><span class="si">% e</span><span class="s">ndspaceless %}{</span><span class="si">% e</span><span class="s">ndautoescape %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;text&#39;</span> <span class="p">:</span> <span class="s">&#39;This &amp; that&#39;</span><span class="p">},</span> <span class="s">&quot;&lt;b&gt;&lt;i&gt;This &amp; that&lt;/i&gt;&lt;/b&gt;&quot;</span><span class="p">),</span>
            <span class="s">&#39;spaceless06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% s</span><span class="s">paceless %}&lt;b&gt;   &lt;i&gt;{{ text|safe }}&lt;/i&gt;  &lt;/b&gt;{</span><span class="si">% e</span><span class="s">ndspaceless %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;text&#39;</span> <span class="p">:</span> <span class="s">&#39;This &amp; that&#39;</span><span class="p">},</span> <span class="s">&quot;&lt;b&gt;&lt;i&gt;This &amp; that&lt;/i&gt;&lt;/b&gt;&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-173"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-173">&#182;</a></div><p>simple translation of a string delimited by '</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% trans &#39;xxxyyyxxx&#39; %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;xxxyyyxxx&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-174"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-174">&#182;</a></div><p>simple translation of a string delimited by "</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% trans &quot;xxxyyyxxx&quot; %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;xxxyyyxxx&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-175"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-175">&#182;</a></div><p>simple translation of a variable</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans %}{{ anton }}{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;anton&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\xc3\x85</span><span class="s">&#39;</span><span class="p">},</span> <span class="s">&quot;Å&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-176"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-176">&#182;</a></div><p>simple translation of a variable and filter</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans with berta=anton|lower %}{{ berta }}{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;anton&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\xc3\x85</span><span class="s">&#39;</span><span class="p">},</span> <span class="s">&#39;å&#39;</span><span class="p">),</span>
            <span class="s">&#39;legacyi18n04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans with anton|lower as berta %}{{ berta }}{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;anton&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\xc3\x85</span><span class="s">&#39;</span><span class="p">},</span> <span class="s">&#39;å&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-177"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-177">&#182;</a></div><p>simple translation of a string with interpolation</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans %}xxx{{ anton }}xxx{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;anton&#39;</span><span class="p">:</span> <span class="s">&#39;yyy&#39;</span><span class="p">},</span> <span class="s">&quot;xxxyyyxxx&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-178"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-178">&#182;</a></div><p>simple translation of a string to german</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% trans &quot;Page not found&quot; %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;LANGUAGE_CODE&#39;</span><span class="p">:</span> <span class="s">&#39;de&#39;</span><span class="p">},</span> <span class="s">&quot;Seite nicht gefunden&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-179"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-179">&#182;</a></div><p>translation of singular form</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans count counter=number %}singular{% plural %}{{ counter }} plural{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;number&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s">&quot;singular&quot;</span><span class="p">),</span>
            <span class="s">&#39;legacyi18n07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans count number as counter %}singular{% plural %}{{ counter }} plural{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;number&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s">&quot;singular&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-180"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-180">&#182;</a></div><p>translation of plural form</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans count number as counter %}singular{% plural %}{{ counter }} plural{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;number&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s">&quot;2 plural&quot;</span><span class="p">),</span>
            <span class="s">&#39;legacyi18n08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans count counter=number %}singular{% plural %}{{ counter }} plural{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;number&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s">&quot;2 plural&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-181"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-181">&#182;</a></div><p>simple non-translation (only marking) of a string to german</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% trans &quot;Page not found&quot; noop %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;LANGUAGE_CODE&#39;</span><span class="p">:</span> <span class="s">&#39;de&#39;</span><span class="p">},</span> <span class="s">&quot;Page not found&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-182"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-182">&#182;</a></div><p>translation of a variable with a translated filter</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ bool|yesno:_(&quot;yes,no,maybe&quot;) }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;bool&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;LANGUAGE_CODE&#39;</span><span class="p">:</span> <span class="s">&#39;de&#39;</span><span class="p">},</span> <span class="s">&#39;Ja&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-183"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-183">&#182;</a></div><p>translation of a variable with a non-translated filter</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ bool|yesno:&quot;ja,nein&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;bool&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">},</span> <span class="s">&#39;ja&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-184"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-184">&#182;</a></div><p>usage of the get<em>available</em>languages tag</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n12&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{</span><span class="si">% g</span><span class="s">et_available_languages as langs %}{</span><span class="si">% f</span><span class="s">or lang in langs %}{</span><span class="si">% i</span><span class="s">fequal lang.0 &quot;de&quot; %}{{ lang.0 }}{</span><span class="si">% e</span><span class="s">ndifequal %}{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;de&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-185"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-185">&#182;</a></div><p>translation of constant strings</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n13&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ _(&quot;Password&quot;) }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;LANGUAGE_CODE&#39;</span><span class="p">:</span> <span class="s">&#39;de&#39;</span><span class="p">},</span> <span class="s">&#39;Passwort&#39;</span><span class="p">),</span>
            <span class="s">&#39;i18n14&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% c</span><span class="s">ycle &quot;foo&quot; _(&quot;Password&quot;) _(</span><span class="se">\&#39;</span><span class="s">Password</span><span class="se">\&#39;</span><span class="s">) as c %} {</span><span class="si">% c</span><span class="s">ycle c %} {</span><span class="si">% c</span><span class="s">ycle c %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;LANGUAGE_CODE&#39;</span><span class="p">:</span> <span class="s">&#39;de&#39;</span><span class="p">},</span> <span class="s">&#39;foo Passwort Passwort&#39;</span><span class="p">),</span>
            <span class="s">&#39;i18n15&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ absent|default:_(&quot;Password&quot;) }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;LANGUAGE_CODE&#39;</span><span class="p">:</span> <span class="s">&#39;de&#39;</span><span class="p">,</span> <span class="s">&#39;absent&#39;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">},</span> <span class="s">&#39;Passwort&#39;</span><span class="p">),</span>
            <span class="s">&#39;i18n16&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ _(&quot;&lt;&quot;) }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;LANGUAGE_CODE&#39;</span><span class="p">:</span> <span class="s">&#39;de&#39;</span><span class="p">},</span> <span class="s">&#39;&lt;&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-186"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-186">&#182;</a></div><p>Escaping inside blocktrans and trans works as if it was directly in the
template.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n17&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans with berta=anton|escape %}{{ berta }}{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;anton&#39;</span><span class="p">:</span> <span class="s">&#39;α &amp; β&#39;</span><span class="p">},</span> <span class="s">&#39;α &amp;amp; β&#39;</span><span class="p">),</span>
            <span class="s">&#39;i18n18&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans with berta=anton|force_escape %}{{ berta }}{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;anton&#39;</span><span class="p">:</span> <span class="s">&#39;α &amp; β&#39;</span><span class="p">},</span> <span class="s">&#39;α &amp;amp; β&#39;</span><span class="p">),</span>
            <span class="s">&#39;i18n19&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans %}{{ andrew }}{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;andrew&#39;</span><span class="p">:</span> <span class="s">&#39;a &amp; b&#39;</span><span class="p">},</span> <span class="s">&#39;a &amp;amp; b&#39;</span><span class="p">),</span>
            <span class="s">&#39;i18n20&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% trans andrew %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;andrew&#39;</span><span class="p">:</span> <span class="s">&#39;a &amp; b&#39;</span><span class="p">},</span> <span class="s">&#39;a &amp;amp; b&#39;</span><span class="p">),</span>
            <span class="s">&#39;i18n21&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans %}{{ andrew }}{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;andrew&#39;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&#39;a &amp; b&#39;</span><span class="p">)},</span> <span class="s">&#39;a &amp; b&#39;</span><span class="p">),</span>
            <span class="s">&#39;i18n22&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% trans andrew %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;andrew&#39;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&#39;a &amp; b&#39;</span><span class="p">)},</span> <span class="s">&#39;a &amp; b&#39;</span><span class="p">),</span>
            <span class="s">&#39;legacyi18n17&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans with anton|escape as berta %}{{ berta }}{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;anton&#39;</span><span class="p">:</span> <span class="s">&#39;α &amp; β&#39;</span><span class="p">},</span> <span class="s">&#39;α &amp;amp; β&#39;</span><span class="p">),</span>
            <span class="s">&#39;legacyi18n18&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans with anton|force_escape as berta %}{{ berta }}{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;anton&#39;</span><span class="p">:</span> <span class="s">&#39;α &amp; β&#39;</span><span class="p">},</span> <span class="s">&#39;α &amp;amp; β&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-187"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-187">&#182;</a></div><p>Use filters with the {% trans %} tag, #5972</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n23&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% trans &quot;Page not found&quot;|capfirst|slice:&quot;6:&quot; %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;LANGUAGE_CODE&#39;</span><span class="p">:</span> <span class="s">&#39;de&#39;</span><span class="p">},</span> <span class="s">&#39;nicht gefunden&#39;</span><span class="p">),</span>
            <span class="s">&#39;i18n24&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% trans &#39;Page not found&#39;|upper %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;LANGUAGE_CODE&#39;</span><span class="p">:</span> <span class="s">&#39;de&#39;</span><span class="p">},</span> <span class="s">&#39;SEITE NICHT GEFUNDEN&#39;</span><span class="p">),</span>
            <span class="s">&#39;i18n25&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% trans somevar|upper %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;somevar&#39;</span><span class="p">:</span> <span class="s">&#39;Page not found&#39;</span><span class="p">,</span> <span class="s">&#39;LANGUAGE_CODE&#39;</span><span class="p">:</span> <span class="s">&#39;de&#39;</span><span class="p">},</span> <span class="s">&#39;SEITE NICHT GEFUNDEN&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-188"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-188">&#182;</a></div><p>translation of plural form with extra field in singular form (#13568)</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n26&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans with extra_field=myextra_field count counter=number %}singular {{ extra_field }}{% plural %}plural{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;number&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;myextra_field&#39;</span><span class="p">:</span> <span class="s">&#39;test&#39;</span><span class="p">},</span> <span class="s">&quot;singular test&quot;</span><span class="p">),</span>
            <span class="s">&#39;legacyi18n26&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans with myextra_field as extra_field count number as counter %}singular {{ extra_field }}{% plural %}plural{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;number&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;myextra_field&#39;</span><span class="p">:</span> <span class="s">&#39;test&#39;</span><span class="p">},</span> <span class="s">&quot;singular test&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-189"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-189">&#182;</a></div><p>translation of singular form in russian (#14126)</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n27&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans count counter=number %}{{ counter }} result{% plural %}{{ counter }} results{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;number&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;LANGUAGE_CODE&#39;</span><span class="p">:</span> <span class="s">&#39;ru&#39;</span><span class="p">},</span> <span class="s">&#39;1 </span><span class="se">\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442</span><span class="s">&#39;</span><span class="p">),</span>
            <span class="s">&#39;legacyi18n27&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans count number as counter %}{{ counter }} result{% plural %}{{ counter }} results{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;number&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;LANGUAGE_CODE&#39;</span><span class="p">:</span> <span class="s">&#39;ru&#39;</span><span class="p">},</span> <span class="s">&#39;1 </span><span class="se">\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442</span><span class="s">&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-190"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-190">&#182;</a></div><p>simple translation of multiple variables</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n28&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans with a=anton b=berta %}{{ a }} + {{ b }}{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;anton&#39;</span><span class="p">:</span> <span class="s">&#39;α&#39;</span><span class="p">,</span> <span class="s">&#39;berta&#39;</span><span class="p">:</span> <span class="s">&#39;β&#39;</span><span class="p">},</span> <span class="s">&#39;α + β&#39;</span><span class="p">),</span>
            <span class="s">&#39;legacyi18n28&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans with anton as a and berta as b %}{{ a }} + {{ b }}{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;anton&#39;</span><span class="p">:</span> <span class="s">&#39;α&#39;</span><span class="p">,</span> <span class="s">&#39;berta&#39;</span><span class="p">:</span> <span class="s">&#39;β&#39;</span><span class="p">},</span> <span class="s">&#39;α + β&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-191"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-191">&#182;</a></div><p>retrieving language information</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n28_2&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{</span><span class="si">% g</span><span class="s">et_language_info for &quot;de&quot; as l %}{{ l.code }}: {{ l.name }}/{{ l.name_local }} bidi={{ l.bidi }}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;de: German/Deutsch bidi=False&#39;</span><span class="p">),</span>
            <span class="s">&#39;i18n29&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{</span><span class="si">% g</span><span class="s">et_language_info for LANGUAGE_CODE as l %}{{ l.code }}: {{ l.name }}/{{ l.name_local }} bidi={{ l.bidi }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;LANGUAGE_CODE&#39;</span><span class="p">:</span> <span class="s">&#39;fi&#39;</span><span class="p">},</span> <span class="s">&#39;fi: Finnish/suomi bidi=False&#39;</span><span class="p">),</span>
            <span class="s">&#39;i18n30&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{</span><span class="si">% g</span><span class="s">et_language_info_list for langcodes as langs %}{</span><span class="si">% f</span><span class="s">or l in langs %}{{ l.code }}: {{ l.name }}/{{ l.name_local }} bidi={{ l.bidi }}; {</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;langcodes&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;it&#39;</span><span class="p">,</span> <span class="s">&#39;no&#39;</span><span class="p">]},</span> <span class="s">&#39;it: Italian/italiano bidi=False; no: Norwegian/Norsk bidi=False; &#39;</span><span class="p">),</span>
            <span class="s">&#39;i18n31&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{</span><span class="si">% g</span><span class="s">et_language_info_list for langcodes as langs %}{</span><span class="si">% f</span><span class="s">or l in langs %}{{ l.code }}: {{ l.name }}/{{ l.name_local }} bidi={{ l.bidi }}; {</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;langcodes&#39;</span><span class="p">:</span> <span class="p">((</span><span class="s">&#39;sl&#39;</span><span class="p">,</span> <span class="s">&#39;Slovenian&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;fa&#39;</span><span class="p">,</span> <span class="s">&#39;Persian&#39;</span><span class="p">))},</span> <span class="s">&#39;sl: Slovenian/Sloven</span><span class="se">\u0161\u010d</span><span class="s">ina bidi=False; fa: Persian/</span><span class="se">\u0641\u0627\u0631\u0633\u06cc</span><span class="s"> bidi=True; &#39;</span><span class="p">),</span>
            <span class="s">&#39;i18n32&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{{ &quot;hu&quot;|language_name }} {{ &quot;hu&quot;|language_name_local }} {{ &quot;hu&quot;|language_bidi }}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;Hungarian Magyar False&#39;</span><span class="p">),</span>
            <span class="s">&#39;i18n33&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{{ langcode|language_name }} {{ langcode|language_name_local }} {{ langcode|language_bidi }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;langcode&#39;</span><span class="p">:</span> <span class="s">&#39;nl&#39;</span><span class="p">},</span> <span class="s">&#39;Dutch Nederlands False&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-192"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-192">&#182;</a></div><p>blocktrans handling of variables which are not in the context.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n34&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% blocktrans %}{{ missing }}{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-193"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-193">&#182;</a></div><p>trans tag with as var</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;i18n35&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% trans &quot;Page not found&quot; as page_not_found %}{{ page_not_found }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;LANGUAGE_CODE&#39;</span><span class="p">:</span> <span class="s">&#39;de&#39;</span><span class="p">},</span> <span class="s">&quot;Seite nicht gefunden&quot;</span><span class="p">),</span>
            <span class="s">&#39;i18n36&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% trans &quot;Page not found&quot; noop as page_not_found %}{{ page_not_found }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;LANGUAGE_CODE&#39;</span><span class="p">:</span> <span class="s">&#39;de&#39;</span><span class="p">},</span> <span class="s">&quot;Page not found&quot;</span><span class="p">),</span>
            <span class="s">&#39;i18n36&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% trans &quot;Page not found&quot; as page_not_found noop %}{{ page_not_found }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;LANGUAGE_CODE&#39;</span><span class="p">:</span> <span class="s">&#39;de&#39;</span><span class="p">},</span> <span class="s">&quot;Page not found&quot;</span><span class="p">),</span>
            <span class="s">&#39;i18n37&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad i18n %}{% trans &quot;Page not found&quot; as page_not_found %}{% blocktrans %}Error: {{ page_not_found }}{</span><span class="si">% e</span><span class="s">ndblocktrans %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;LANGUAGE_CODE&#39;</span><span class="p">:</span> <span class="s">&#39;de&#39;</span><span class="p">},</span> <span class="s">&quot;Error: Seite nicht gefunden&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-194"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-194">&#182;</a></div><h2>HANDLING OF TEMPLATE<em>STRING</em>IF_INVALID</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;invalidstr01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ var|default:&quot;Foo&quot; }}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="p">(</span><span class="s">&#39;Foo&#39;</span><span class="p">,</span><span class="s">&#39;INVALID&#39;</span><span class="p">)),</span>
            <span class="s">&#39;invalidstr02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ var|default_if_none:&quot;Foo&quot; }}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;INVALID&#39;</span><span class="p">)),</span>
            <span class="s">&#39;invalidstr03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or v in var %}({{ v }}){</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
            <span class="s">&#39;invalidstr04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">f var %}Yes{</span><span class="si">% e</span><span class="s">lse %}No{</span><span class="si">% e</span><span class="s">ndif %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;No&#39;</span><span class="p">),</span>
            <span class="s">&#39;invalidstr04_2&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">f var|default:&quot;Foo&quot; %}Yes{</span><span class="si">% e</span><span class="s">lse %}No{</span><span class="si">% e</span><span class="s">ndif %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;Yes&#39;</span><span class="p">),</span>
            <span class="s">&#39;invalidstr05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ var }}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;INVALID </span><span class="si">%s</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;var&#39;</span><span class="p">))),</span>
            <span class="s">&#39;invalidstr06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ var.prop }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;var&#39;</span><span class="p">:</span> <span class="p">{}},</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;INVALID </span><span class="si">%s</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;var.prop&#39;</span><span class="p">))),</span></pre></div></td></tr>


<tr id="section-195"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-195">&#182;</a></div><h2>MULTILINE</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;multiline01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">                            Hello,</span>
<span class="s">                            boys.</span>
<span class="s">                            How</span>
<span class="s">                            are</span>
<span class="s">                            you</span>
<span class="s">                            gentlemen.</span>
<span class="s">                            &quot;&quot;&quot;</span><span class="p">,</span>
                            <span class="p">{},</span>
                            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">                            Hello,</span>
<span class="sd">                            boys.</span>
<span class="sd">                            How</span>
<span class="sd">                            are</span>
<span class="sd">                            you</span>
<span class="sd">                            gentlemen.</span>
<span class="sd">                            &quot;&quot;&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-196"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-196">&#182;</a></div><h2>REGROUP TAG</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;regroup01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% r</span><span class="s">egroup data by bar as grouped %}&#39;</span>
                          <span class="s">&#39;{</span><span class="si">% f</span><span class="s">or group in grouped %}&#39;</span>
                          <span class="s">&#39;{{ group.grouper }}:&#39;</span>
                          <span class="s">&#39;{</span><span class="si">% f</span><span class="s">or item in group.list %}&#39;</span>
                          <span class="s">&#39;{{ item.foo }}&#39;</span>
                          <span class="s">&#39;{</span><span class="si">% e</span><span class="s">ndfor %},&#39;</span>
                          <span class="s">&#39;{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span>
                          <span class="p">{</span><span class="s">&#39;data&#39;</span><span class="p">:</span> <span class="p">[</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span>
                                     <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span><span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span>
                                     <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">},</span>
                                     <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">},</span>
                                     <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>  <span class="p">]},</span>
                          <span class="s">&#39;1:cd,2:ab,3:x,&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-197"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-197">&#182;</a></div><p>Test for silent failure when target variable isn't found</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;regroup02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% r</span><span class="s">egroup data by bar as grouped %}&#39;</span>
                          <span class="s">&#39;{</span><span class="si">% f</span><span class="s">or group in grouped %}&#39;</span>
                          <span class="s">&#39;{{ group.grouper }}:&#39;</span>
                          <span class="s">&#39;{</span><span class="si">% f</span><span class="s">or item in group.list %}&#39;</span>
                          <span class="s">&#39;{{ item.foo }}&#39;</span>
                          <span class="s">&#39;{</span><span class="si">% e</span><span class="s">ndfor %},&#39;</span>
                          <span class="s">&#39;{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span>
                          <span class="p">{},</span> <span class="s">&#39;&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-198"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-198">&#182;</a></div><p>Regression tests for #17675
The date template filter has expects_localtime = True</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;regroup03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% r</span><span class="s">egroup data by at|date:&quot;m&quot; as grouped %}&#39;</span>
                          <span class="s">&#39;{</span><span class="si">% f</span><span class="s">or group in grouped %}&#39;</span>
                          <span class="s">&#39;{{ group.grouper }}:&#39;</span>
                          <span class="s">&#39;{</span><span class="si">% f</span><span class="s">or item in group.list %}&#39;</span>
                          <span class="s">&#39;{{ item.at|date:&quot;d&quot; }}&#39;</span>
                          <span class="s">&#39;{</span><span class="si">% e</span><span class="s">ndfor %},&#39;</span>
                          <span class="s">&#39;{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span>
                          <span class="p">{</span><span class="s">&#39;data&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s">&#39;at&#39;</span><span class="p">:</span> <span class="n">date</span><span class="p">(</span><span class="mi">2012</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">14</span><span class="p">)},</span>
                                    <span class="p">{</span><span class="s">&#39;at&#39;</span><span class="p">:</span> <span class="n">date</span><span class="p">(</span><span class="mi">2012</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">28</span><span class="p">)},</span>
                                    <span class="p">{</span><span class="s">&#39;at&#39;</span><span class="p">:</span> <span class="n">date</span><span class="p">(</span><span class="mi">2012</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">)}]},</span>
                          <span class="s">&#39;02:1428,07:04,&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-199"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-199">&#182;</a></div><p>The join template filter has needs_autoescape = True</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;regroup04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% r</span><span class="s">egroup data by bar|join:&quot;&quot; as grouped %}&#39;</span>
                          <span class="s">&#39;{</span><span class="si">% f</span><span class="s">or group in grouped %}&#39;</span>
                          <span class="s">&#39;{{ group.grouper }}:&#39;</span>
                          <span class="s">&#39;{</span><span class="si">% f</span><span class="s">or item in group.list %}&#39;</span>
                          <span class="s">&#39;{{ item.foo|first }}&#39;</span>
                          <span class="s">&#39;{</span><span class="si">% e</span><span class="s">ndfor %},&#39;</span>
                          <span class="s">&#39;{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span>
                          <span class="p">{</span><span class="s">&#39;data&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;ab&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">]},</span>
                                    <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;bc&#39;</span><span class="p">]},</span>
                                    <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="s">&#39;z&#39;</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">]}]},</span>
                          <span class="s">&#39;abc:xy,ad:z,&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-200"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-200">&#182;</a></div><h2>SSI TAG</h2></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-201"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-201">&#182;</a></div><p>Test normal behavior</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;ssi01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">%%</span><span class="s"> ssi &quot;</span><span class="si">%s</span><span class="s">&quot; </span><span class="si">%%</span><span class="s">}&#39;</span> <span class="o">%</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">basedir</span><span class="p">,</span> <span class="s">&#39;templates&#39;</span><span class="p">,</span> <span class="s">&#39;ssi_include.html&#39;</span><span class="p">),</span> <span class="p">{},</span> <span class="s">&#39;This is for testing an ssi include. {{ test }}</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">),</span>
            <span class="s">&#39;ssi02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">%%</span><span class="s"> ssi &quot;</span><span class="si">%s</span><span class="s">&quot; </span><span class="si">%%</span><span class="s">}&#39;</span> <span class="o">%</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">basedir</span><span class="p">,</span> <span class="s">&#39;not_here&#39;</span><span class="p">),</span> <span class="p">{},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
            <span class="s">&#39;ssi03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">%%</span><span class="s"> ssi &#39;</span><span class="si">%s</span><span class="s">&#39; </span><span class="si">%%</span><span class="s">}&quot;</span> <span class="o">%</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">basedir</span><span class="p">,</span> <span class="s">&#39;not_here&#39;</span><span class="p">),</span> <span class="p">{},</span> <span class="s">&#39;&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-202"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-202">&#182;</a></div><p>Test passing as a variable</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;ssi04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad ssi from future %}{</span><span class="si">% s</span><span class="s">si ssi_file %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;ssi_file&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">basedir</span><span class="p">,</span> <span class="s">&#39;templates&#39;</span><span class="p">,</span> <span class="s">&#39;ssi_include.html&#39;</span><span class="p">)},</span> <span class="s">&#39;This is for testing an ssi include. {{ test }}</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">),</span>
            <span class="s">&#39;ssi05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad ssi from future %}{</span><span class="si">% s</span><span class="s">si ssi_file %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;ssi_file&#39;</span><span class="p">:</span> <span class="s">&#39;no_file&#39;</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-203"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-203">&#182;</a></div><p>Test parsed output</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;ssi06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">%%</span><span class="s"> ssi &quot;</span><span class="si">%s</span><span class="s">&quot; parsed </span><span class="si">%%</span><span class="s">}&#39;</span> <span class="o">%</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">basedir</span><span class="p">,</span> <span class="s">&#39;templates&#39;</span><span class="p">,</span> <span class="s">&#39;ssi_include.html&#39;</span><span class="p">),</span> <span class="p">{</span><span class="s">&#39;test&#39;</span><span class="p">:</span> <span class="s">&#39;Look ma! It parsed!&#39;</span><span class="p">},</span> <span class="s">&#39;This is for testing an ssi include. Look ma! It parsed!</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">),</span>
            <span class="s">&#39;ssi07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">%%</span><span class="s"> ssi &quot;</span><span class="si">%s</span><span class="s">&quot; parsed </span><span class="si">%%</span><span class="s">}&#39;</span> <span class="o">%</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">basedir</span><span class="p">,</span> <span class="s">&#39;not_here&#39;</span><span class="p">),</span> <span class="p">{</span><span class="s">&#39;test&#39;</span><span class="p">:</span> <span class="s">&#39;Look ma! It parsed!&#39;</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-204"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-204">&#182;</a></div><p>Test space in file name</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;ssi08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">%%</span><span class="s"> ssi &quot;</span><span class="si">%s</span><span class="s">&quot; </span><span class="si">%%</span><span class="s">}&#39;</span> <span class="o">%</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">basedir</span><span class="p">,</span> <span class="s">&#39;templates&#39;</span><span class="p">,</span> <span class="s">&#39;ssi include with spaces.html&#39;</span><span class="p">),</span> <span class="p">{},</span> <span class="s">&#39;This is for testing an ssi include with spaces in its name. {{ test }}</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">),</span>
            <span class="s">&#39;ssi09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">%%</span><span class="s"> ssi &quot;</span><span class="si">%s</span><span class="s">&quot; parsed </span><span class="si">%%</span><span class="s">}&#39;</span> <span class="o">%</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">basedir</span><span class="p">,</span> <span class="s">&#39;templates&#39;</span><span class="p">,</span> <span class="s">&#39;ssi include with spaces.html&#39;</span><span class="p">),</span> <span class="p">{</span><span class="s">&#39;test&#39;</span><span class="p">:</span> <span class="s">&#39;Look ma! It parsed!&#39;</span><span class="p">},</span> <span class="s">&#39;This is for testing an ssi include with spaces in its name. Look ma! It parsed!</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-205"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-205">&#182;</a></div><h2>TEMPLATETAG TAG</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;templatetag01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% templatetag openblock %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;{%&#39;</span><span class="p">),</span>
            <span class="s">&#39;templatetag02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% templatetag closeblock %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;%}&#39;</span><span class="p">),</span>
            <span class="s">&#39;templatetag03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% templatetag openvariable %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;{{&#39;</span><span class="p">),</span>
            <span class="s">&#39;templatetag04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% templatetag closevariable %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;}}&#39;</span><span class="p">),</span>
            <span class="s">&#39;templatetag05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% templatetag %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;templatetag06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% templatetag foo %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;templatetag07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% templatetag openbrace %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;{&#39;</span><span class="p">),</span>
            <span class="s">&#39;templatetag08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% templatetag closebrace %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;}&#39;</span><span class="p">),</span>
            <span class="s">&#39;templatetag09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% templatetag openbrace %}{% templatetag openbrace %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;{{&#39;</span><span class="p">),</span>
            <span class="s">&#39;templatetag10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% templatetag closebrace %}{% templatetag closebrace %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;}}&#39;</span><span class="p">),</span>
            <span class="s">&#39;templatetag11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% templatetag opencomment %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;{#&#39;</span><span class="p">),</span>
            <span class="s">&#39;templatetag12&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% templatetag closecomment %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;#}&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-206"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-206">&#182;</a></div><p>Simple tags with customized names</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;simpletag-renamed01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad custom %}{% minusone 7 %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;6&#39;</span><span class="p">),</span>
            <span class="s">&#39;simpletag-renamed02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad custom %}{% minustwo 7 %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;5&#39;</span><span class="p">),</span>
            <span class="s">&#39;simpletag-renamed03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad custom %}{% minustwo_overridden_name 7 %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-207"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-207">&#182;</a></div><h2>WIDTHRATIO TAG</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;widthratio01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% widthratio a b 0 %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="mi">100</span><span class="p">},</span> <span class="s">&#39;0&#39;</span><span class="p">),</span>
            <span class="s">&#39;widthratio02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% widthratio a b 100 %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span> <span class="s">&#39;0&#39;</span><span class="p">),</span>
            <span class="s">&#39;widthratio03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% widthratio a b 100 %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="mi">100</span><span class="p">},</span> <span class="s">&#39;0&#39;</span><span class="p">),</span>
            <span class="s">&#39;widthratio04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% widthratio a b 100 %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="mi">100</span><span class="p">},</span> <span class="s">&#39;50&#39;</span><span class="p">),</span>
            <span class="s">&#39;widthratio05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% widthratio a b 100 %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="mi">100</span><span class="p">},</span> <span class="s">&#39;100&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-208"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-208">&#182;</a></div><p>62.5 should round to 63</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;widthratio06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% widthratio a b 100 %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="mi">80</span><span class="p">},</span> <span class="s">&#39;63&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-209"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-209">&#182;</a></div><p>71.4 should round to 71</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;widthratio07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% widthratio a b 100 %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="mi">70</span><span class="p">},</span> <span class="s">&#39;71&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-210"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-210">&#182;</a></div><p>Raise exception if we don't have 3 args, last one an integer</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;widthratio08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% widthratio %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;widthratio09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% widthratio a b %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="mi">100</span><span class="p">},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;widthratio10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% widthratio a b 100.0 %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="mi">100</span><span class="p">},</span> <span class="s">&#39;50&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-211"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-211">&#182;</a></div><h1>10043: widthratio should allow max_width to be a variable</h1></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;widthratio11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% widthratio a b c %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span> <span class="s">&#39;50&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-212"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-212">&#182;</a></div><h2>WITH TAG</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;with01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% with key=dict.key %}{{ key }}{</span><span class="si">% e</span><span class="s">ndwith %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;dict&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;key&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">}},</span> <span class="s">&#39;50&#39;</span><span class="p">),</span>
            <span class="s">&#39;legacywith01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% with dict.key as key %}{{ key }}{</span><span class="si">% e</span><span class="s">ndwith %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;dict&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;key&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">}},</span> <span class="s">&#39;50&#39;</span><span class="p">),</span>

            <span class="s">&#39;with02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ key }}{% with key=dict.key %}{{ key }}-{{ dict.key }}-{{ key }}{</span><span class="si">% e</span><span class="s">ndwith %}{{ key }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;dict&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;key&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">}},</span> <span class="p">(</span><span class="s">&#39;50-50-50&#39;</span><span class="p">,</span> <span class="s">&#39;INVALID50-50-50INVALID&#39;</span><span class="p">)),</span>
            <span class="s">&#39;legacywith02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ key }}{% with dict.key as key %}{{ key }}-{{ dict.key }}-{{ key }}{</span><span class="si">% e</span><span class="s">ndwith %}{{ key }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;dict&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;key&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">}},</span> <span class="p">(</span><span class="s">&#39;50-50-50&#39;</span><span class="p">,</span> <span class="s">&#39;INVALID50-50-50INVALID&#39;</span><span class="p">)),</span>

            <span class="s">&#39;with03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% with a=alpha b=beta %}{{ a }}{{ b }}{</span><span class="si">% e</span><span class="s">ndwith %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;alpha&#39;</span><span class="p">:</span> <span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;beta&#39;</span><span class="p">:</span> <span class="s">&#39;B&#39;</span><span class="p">},</span> <span class="s">&#39;AB&#39;</span><span class="p">),</span>

            <span class="s">&#39;with-error01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% with dict.key xx key %}{{ key }}{</span><span class="si">% e</span><span class="s">ndwith %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;dict&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;key&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">}},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;with-error02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% with dict.key as %}{{ key }}{</span><span class="si">% e</span><span class="s">ndwith %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;dict&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;key&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">}},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-213"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-213">&#182;</a></div><h2>NOW TAG</h2>

<p>Simple case</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;now01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% now &quot;j n Y&quot; %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;</span><span class="si">%d</span><span class="s"> </span><span class="si">%d</span><span class="s"> </span><span class="si">%d</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">day</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-214"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-214">&#182;</a></div><p>Check parsing of locale strings</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;now02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% now &quot;DATE_FORMAT&quot; %}&#39;</span><span class="p">,</span> <span class="p">{},</span>  <span class="n">date_format</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">())),</span></pre></div></td></tr>


<tr id="section-215"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-215">&#182;</a></div><p>Also accept simple quotes - #15092</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;now03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% now &#39;j n Y&#39; %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;</span><span class="si">%d</span><span class="s"> </span><span class="si">%d</span><span class="s"> </span><span class="si">%d</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">day</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">)),</span>
            <span class="s">&#39;now04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% now &#39;DATE_FORMAT&#39; %}&quot;</span><span class="p">,</span> <span class="p">{},</span>  <span class="n">date_format</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">())),</span>
            <span class="s">&#39;now05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;&#39;&#39;{% now &#39;j &quot;n&quot; Y&#39;%}&#39;&#39;&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;&#39;&#39;</span><span class="si">%d</span><span class="s"> &quot;</span><span class="si">%d</span><span class="s">&quot; </span><span class="si">%d</span><span class="s">&#39;&#39;&#39;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">day</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">)),</span>
            <span class="s">&#39;now06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;&#39;&#39;{% now &quot;j &#39;n&#39; Y&quot;%}&#39;&#39;&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;&#39;&#39;</span><span class="si">%d</span><span class="s"> &#39;</span><span class="si">%d</span><span class="s">&#39; </span><span class="si">%d</span><span class="s">&#39;&#39;&#39;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">day</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-216"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-216">&#182;</a></div><h2>URL TAG</h2>

<p>Successes</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;url01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;regressiontests.templates.views.client&quot; client.id %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;client&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}},</span> <span class="s">&#39;/url_tag/client/1/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;regressiontests.templates.views.client_action&quot; id=client.id action=&quot;update&quot; %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;client&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}},</span> <span class="s">&#39;/url_tag/client/1/update/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url02a&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;regressiontests.templates.views.client_action&quot; client.id &quot;update&quot; %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;client&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}},</span> <span class="s">&#39;/url_tag/client/1/update/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url02b&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% u</span><span class="s">rl &#39;regressiontests.templates.views.client_action&#39; id=client.id action=&#39;update&#39; %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;client&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}},</span> <span class="s">&#39;/url_tag/client/1/update/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url02c&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{</span><span class="si">% u</span><span class="s">rl &#39;regressiontests.templates.views.client_action&#39; client.id &#39;update&#39; %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;client&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}},</span> <span class="s">&#39;/url_tag/client/1/update/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;regressiontests.templates.views.index&quot; %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;/url_tag/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;named.client&quot; client.id %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;client&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}},</span> <span class="s">&#39;/url_tag/named-client/1/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;метка_оператора&quot; v %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;v&#39;</span><span class="p">:</span> <span class="s">&#39;Ω&#39;</span><span class="p">},</span> <span class="s">&#39;/url_tag/%D0%AE%D0%BD%D0%B8%D0%BA%D0%BE%D0%B4/%CE%A9/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;метка_оператора_2&quot; tag=v %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;v&#39;</span><span class="p">:</span> <span class="s">&#39;Ω&#39;</span><span class="p">},</span> <span class="s">&#39;/url_tag/%D0%AE%D0%BD%D0%B8%D0%BA%D0%BE%D0%B4/%CE%A9/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;regressiontests.templates.views.client2&quot; tag=v %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;v&#39;</span><span class="p">:</span> <span class="s">&#39;Ω&#39;</span><span class="p">},</span> <span class="s">&#39;/url_tag/%D0%AE%D0%BD%D0%B8%D0%BA%D0%BE%D0%B4/%CE%A9/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;метка_оператора&quot; v %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;v&#39;</span><span class="p">:</span> <span class="s">&#39;Ω&#39;</span><span class="p">},</span> <span class="s">&#39;/url_tag/%D0%AE%D0%BD%D0%B8%D0%BA%D0%BE%D0%B4/%CE%A9/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;метка_оператора_2&quot; tag=v %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;v&#39;</span><span class="p">:</span> <span class="s">&#39;Ω&#39;</span><span class="p">},</span> <span class="s">&#39;/url_tag/%D0%AE%D0%BD%D0%B8%D0%BA%D0%BE%D0%B4/%CE%A9/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;regressiontests.templates.views.client_action&quot; id=client.id action=&quot;two words&quot; %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;client&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}},</span> <span class="s">&#39;/url_tag/client/1/two%20words/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;regressiontests.templates.views.client_action&quot; id=client.id action=&quot;==&quot; %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;client&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}},</span> <span class="s">&#39;/url_tag/client/1/==/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url12&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;regressiontests.templates.views.client_action&quot; id=client.id action=&quot;,&quot; %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;client&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}},</span> <span class="s">&#39;/url_tag/client/1/,/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url13&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;regressiontests.templates.views.client_action&quot; id=client.id action=arg|join:&quot;-&quot; %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;client&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s">&#39;arg&#39;</span><span class="p">:[</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">]},</span> <span class="s">&#39;/url_tag/client/1/a-b/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url14&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;regressiontests.templates.views.client_action&quot; client.id arg|join:&quot;-&quot; %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;client&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s">&#39;arg&#39;</span><span class="p">:[</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">]},</span> <span class="s">&#39;/url_tag/client/1/a-b/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url15&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;regressiontests.templates.views.client_action&quot; 12 &quot;test&quot; %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;/url_tag/client/12/test/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url18&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;regressiontests.templates.views.client&quot; &quot;1,2&quot; %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;/url_tag/client/1,2/&#39;</span><span class="p">),</span>

            <span class="s">&#39;url19&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl named_url client.id %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;named_url&#39;</span><span class="p">:</span> <span class="s">&#39;regressiontests.templates.views.client&#39;</span><span class="p">,</span> <span class="s">&#39;client&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}},</span> <span class="s">&#39;/url_tag/client/1/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url20&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl url_name_in_var client.id %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;url_name_in_var&#39;</span><span class="p">:</span> <span class="s">&#39;named.client&#39;</span><span class="p">,</span> <span class="s">&#39;client&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}},</span> <span class="s">&#39;/url_tag/named-client/1/&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-217"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-217">&#182;</a></div><p>Failures</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;url-fail01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;url-fail02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;no_such_view&quot; %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="p">(</span><span class="n">urlresolvers</span><span class="o">.</span><span class="n">NoReverseMatch</span><span class="p">,</span> <span class="n">urlresolvers</span><span class="o">.</span><span class="n">NoReverseMatch</span><span class="p">)),</span>
            <span class="s">&#39;url-fail03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;regressiontests.templates.views.client&quot; %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="p">(</span><span class="n">urlresolvers</span><span class="o">.</span><span class="n">NoReverseMatch</span><span class="p">,</span> <span class="n">urlresolvers</span><span class="o">.</span><span class="n">NoReverseMatch</span><span class="p">)),</span>
            <span class="s">&#39;url-fail04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;view&quot; id, %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;url-fail05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;view&quot; id= %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;url-fail06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;view&quot; a.id=id %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;url-fail07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;view&quot; a.id!id %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;url-fail08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;view&quot; id=&quot;unterminatedstring %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;url-fail09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;view&quot; id=&quot;, %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>

            <span class="s">&#39;url-fail11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl named_url %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="p">(</span><span class="n">urlresolvers</span><span class="o">.</span><span class="n">NoReverseMatch</span><span class="p">,</span> <span class="n">urlresolvers</span><span class="o">.</span><span class="n">NoReverseMatch</span><span class="p">)),</span>
            <span class="s">&#39;url-fail12&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl named_url %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;named_url&#39;</span><span class="p">:</span> <span class="s">&#39;no_such_view&#39;</span><span class="p">},</span> <span class="p">(</span><span class="n">urlresolvers</span><span class="o">.</span><span class="n">NoReverseMatch</span><span class="p">,</span> <span class="n">urlresolvers</span><span class="o">.</span><span class="n">NoReverseMatch</span><span class="p">)),</span>
            <span class="s">&#39;url-fail13&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl named_url %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;named_url&#39;</span><span class="p">:</span> <span class="s">&#39;regressiontests.templates.views.client&#39;</span><span class="p">},</span> <span class="p">(</span><span class="n">urlresolvers</span><span class="o">.</span><span class="n">NoReverseMatch</span><span class="p">,</span> <span class="n">urlresolvers</span><span class="o">.</span><span class="n">NoReverseMatch</span><span class="p">)),</span>
            <span class="s">&#39;url-fail14&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl named_url id, %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;named_url&#39;</span><span class="p">:</span> <span class="s">&#39;view&#39;</span><span class="p">},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;url-fail15&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl named_url id= %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;named_url&#39;</span><span class="p">:</span> <span class="s">&#39;view&#39;</span><span class="p">},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;url-fail16&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl named_url a.id=id %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;named_url&#39;</span><span class="p">:</span> <span class="s">&#39;view&#39;</span><span class="p">},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;url-fail17&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl named_url a.id!id %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;named_url&#39;</span><span class="p">:</span> <span class="s">&#39;view&#39;</span><span class="p">},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;url-fail18&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl named_url id=&quot;unterminatedstring %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;named_url&#39;</span><span class="p">:</span> <span class="s">&#39;view&#39;</span><span class="p">},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;url-fail19&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl named_url id=&quot;, %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;named_url&#39;</span><span class="p">:</span> <span class="s">&#39;view&#39;</span><span class="p">},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-218"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-218">&#182;</a></div><p>{% url ... as var %}</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;url-asvar01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;regressiontests.templates.views.index&quot; as url %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
            <span class="s">&#39;url-asvar02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;regressiontests.templates.views.index&quot; as url %}{{ url }}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;/url_tag/&#39;</span><span class="p">),</span>
            <span class="s">&#39;url-asvar03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% u</span><span class="s">rl &quot;no_such_view&quot; as url %}{{ url }}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-219"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-219">&#182;</a></div><h2>CACHE TAG</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;cache03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad cache %}{</span><span class="si">% c</span><span class="s">ache 2 test %}cache03{</span><span class="si">% e</span><span class="s">ndcache %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;cache03&#39;</span><span class="p">),</span>
            <span class="s">&#39;cache04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad cache %}{</span><span class="si">% c</span><span class="s">ache 2 test %}cache04{</span><span class="si">% e</span><span class="s">ndcache %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;cache03&#39;</span><span class="p">),</span>
            <span class="s">&#39;cache05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad cache %}{</span><span class="si">% c</span><span class="s">ache 2 test foo %}cache05{</span><span class="si">% e</span><span class="s">ndcache %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s">&#39;cache05&#39;</span><span class="p">),</span>
            <span class="s">&#39;cache06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad cache %}{</span><span class="si">% c</span><span class="s">ache 2 test foo %}cache06{</span><span class="si">% e</span><span class="s">ndcache %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s">&#39;cache06&#39;</span><span class="p">),</span>
            <span class="s">&#39;cache07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad cache %}{</span><span class="si">% c</span><span class="s">ache 2 test foo %}cache07{</span><span class="si">% e</span><span class="s">ndcache %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s">&#39;cache05&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-220"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-220">&#182;</a></div><p>Allow first argument to be a variable.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;cache08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad cache %}{</span><span class="si">% c</span><span class="s">ache time test foo %}cache08{</span><span class="si">% e</span><span class="s">ndcache %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;time&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s">&#39;cache06&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-221"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-221">&#182;</a></div><p>Raise exception if we don't have at least 2 args, first one integer.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;cache11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad cache %}{</span><span class="si">% c</span><span class="s">ache %}{</span><span class="si">% e</span><span class="s">ndcache %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;cache12&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad cache %}{</span><span class="si">% c</span><span class="s">ache 1 %}{</span><span class="si">% e</span><span class="s">ndcache %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;cache13&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad cache %}{</span><span class="si">% c</span><span class="s">ache foo bar %}{</span><span class="si">% e</span><span class="s">ndcache %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;cache14&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad cache %}{</span><span class="si">% c</span><span class="s">ache foo bar %}{</span><span class="si">% e</span><span class="s">ndcache %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="s">&#39;fail&#39;</span><span class="p">},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;cache15&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad cache %}{</span><span class="si">% c</span><span class="s">ache foo bar %}{</span><span class="si">% e</span><span class="s">ndcache %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="p">[]},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-222"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-222">&#182;</a></div><p>Regression test for #7460.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;cache16&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad cache %}{</span><span class="si">% c</span><span class="s">ache 1 foo bar %}{</span><span class="si">% e</span><span class="s">ndcache %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="s">&#39;with spaces&#39;</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-223"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-223">&#182;</a></div><p>Regression test for #11270.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;cache17&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad cache %}{</span><span class="si">% c</span><span class="s">ache 10 long_cache_key poem %}Some Content{</span><span class="si">% e</span><span class="s">ndcache %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;poem&#39;</span><span class="p">:</span> <span class="s">&#39;Oh freddled gruntbuggly/Thy micturations are to me/As plurdled gabbleblotchits/On a lurgid bee/That mordiously hath bitled out/Its earted jurtles/Into a rancid festering/Or else I shall rend thee in the gobberwarts with my blurglecruncheon/See if I dont.&#39;</span><span class="p">},</span> <span class="s">&#39;Some Content&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-224"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-224">&#182;</a></div><h2>AUTOESCAPE TAG</h2></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;autoescape-tag01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% autoescape off %}hello{</span><span class="si">% e</span><span class="s">ndautoescape %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;hello&quot;</span><span class="p">),</span>
            <span class="s">&#39;autoescape-tag02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% autoescape off %}{{ first }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;first&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;b&gt;hello&lt;/b&gt;&quot;</span><span class="p">},</span> <span class="s">&quot;&lt;b&gt;hello&lt;/b&gt;&quot;</span><span class="p">),</span>
            <span class="s">&#39;autoescape-tag03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% autoescape on %}{{ first }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;first&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;b&gt;hello&lt;/b&gt;&quot;</span><span class="p">},</span> <span class="s">&quot;&amp;lt;b&amp;gt;hello&amp;lt;/b&amp;gt;&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-225"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-225">&#182;</a></div><p>Autoescape disabling and enabling nest in a predictable way.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;autoescape-tag04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% autoescape off %}{{ first }} {% autoescape  on%}{{ first }}{</span><span class="si">% e</span><span class="s">ndautoescape %}{</span><span class="si">% e</span><span class="s">ndautoescape %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;first&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;a&gt;&quot;</span><span class="p">},</span> <span class="s">&quot;&lt;a&gt; &amp;lt;a&amp;gt;&quot;</span><span class="p">),</span>

            <span class="s">&#39;autoescape-tag05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% autoescape on %}{{ first }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;first&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;b&gt;first&lt;/b&gt;&quot;</span><span class="p">},</span> <span class="s">&quot;&amp;lt;b&amp;gt;first&amp;lt;/b&amp;gt;&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-226"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-226">&#182;</a></div><p>Strings (ASCII or unicode) already marked as "safe" are not
auto-escaped</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;autoescape-tag06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ first }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;first&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;&lt;b&gt;first&lt;/b&gt;&quot;</span><span class="p">)},</span> <span class="s">&quot;&lt;b&gt;first&lt;/b&gt;&quot;</span><span class="p">),</span>
            <span class="s">&#39;autoescape-tag07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% autoescape on %}{{ first }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;first&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;&lt;b&gt;Apple&lt;/b&gt;&quot;</span><span class="p">)},</span> <span class="s">&quot;&lt;b&gt;Apple&lt;/b&gt;&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-227"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-227">&#182;</a></div><p>Literal string arguments to filters, if used in the result, are
safe.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;autoescape-tag08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{% autoescape on %}{{ var|default_if_none:&quot; endquote\&quot; hah&quot; }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">},</span> <span class="s">&#39; endquote&quot; hah&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-228"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-228">&#182;</a></div><p>Objects which return safe strings as their <strong>unicode</strong> method
won't get double-escaped.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;autoescape-tag09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ unsafe }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;unsafe&#39;</span><span class="p">:</span> <span class="n">filters</span><span class="o">.</span><span class="n">UnsafeClass</span><span class="p">()},</span> <span class="s">&#39;you &amp;amp; me&#39;</span><span class="p">),</span>
            <span class="s">&#39;autoescape-tag10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ safe }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;safe&#39;</span><span class="p">:</span> <span class="n">filters</span><span class="o">.</span><span class="n">SafeClass</span><span class="p">()},</span> <span class="s">&#39;you &amp;gt; me&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-229"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-229">&#182;</a></div><p>The "safe" and "escape" filters cannot work due to internal
implementation details (fortunately, the (no)autoescape block
tags can be used in those cases)</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;autoescape-filtertag01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ first }}{</span><span class="si">% f</span><span class="s">ilter safe %}{{ first }} x&lt;y{</span><span class="si">% e</span><span class="s">ndfilter %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;first&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;a&gt;&quot;</span><span class="p">},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-230"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-230">&#182;</a></div><p>ifqeual compares unescaped vales.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;autoescape-ifequal01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">fequal var &quot;this &amp; that&quot; %}yes{</span><span class="si">% e</span><span class="s">ndifequal %}&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="s">&quot;this &amp; that&quot;</span> <span class="p">},</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-231"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-231">&#182;</a></div><p>Arguments to filters are 'safe' and manipulate their input unescaped.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;autoescape-filters01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ var|cut:&quot;&amp;&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="s">&quot;this &amp; that&quot;</span> <span class="p">},</span> <span class="s">&quot;this  that&quot;</span> <span class="p">),</span>
            <span class="s">&#39;autoescape-filters02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ var|join:&quot; &amp; </span><span class="se">\&quot;</span><span class="s"> }}&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;Tom&quot;</span><span class="p">,</span> <span class="s">&quot;Dick&quot;</span><span class="p">,</span> <span class="s">&quot;Harry&quot;</span><span class="p">)</span> <span class="p">},</span> <span class="s">&quot;Tom &amp; Dick &amp; Harry&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-232"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-232">&#182;</a></div><p>Literal strings are safe.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;autoescape-literals01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ &quot;this &amp; that&quot; }}&#39;</span><span class="p">,{},</span> <span class="s">&quot;this &amp; that&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-233"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-233">&#182;</a></div><p>Iterating over strings outputs safe characters.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;autoescape-stringiterations01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% f</span><span class="s">or l in var %}{{ l }},{</span><span class="si">% e</span><span class="s">ndfor %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;var&#39;</span><span class="p">:</span> <span class="s">&#39;K&amp;R&#39;</span><span class="p">},</span> <span class="s">&quot;K,&amp;amp;,R,&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-234"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-234">&#182;</a></div><p>Escape requirement survives lookup.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;autoescape-lookup01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ var.key }}&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s">&quot;var&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s">&quot;key&quot;</span><span class="p">:</span> <span class="s">&quot;this &amp; that&quot;</span> <span class="p">}},</span> <span class="s">&quot;this &amp;amp; that&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-235"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-235">&#182;</a></div><p>Static template tags</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;static-prefixtag01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad static %}{</span><span class="si">% g</span><span class="s">et_static_prefix %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">settings</span><span class="o">.</span><span class="n">STATIC_URL</span><span class="p">),</span>
            <span class="s">&#39;static-prefixtag02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad static %}{</span><span class="si">% g</span><span class="s">et_static_prefix as static_prefix %}{{ static_prefix }}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">settings</span><span class="o">.</span><span class="n">STATIC_URL</span><span class="p">),</span>
            <span class="s">&#39;static-prefixtag03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad static %}{</span><span class="si">% g</span><span class="s">et_media_prefix %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">settings</span><span class="o">.</span><span class="n">MEDIA_URL</span><span class="p">),</span>
            <span class="s">&#39;static-prefixtag04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad static %}{</span><span class="si">% g</span><span class="s">et_media_prefix as media_prefix %}{{ media_prefix }}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">settings</span><span class="o">.</span><span class="n">MEDIA_URL</span><span class="p">),</span>
            <span class="s">&#39;static-statictag01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad static %}{</span><span class="si">% s</span><span class="s">tatic &quot;admin/base.css&quot; %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">urljoin</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">STATIC_URL</span><span class="p">,</span> <span class="s">&#39;admin/base.css&#39;</span><span class="p">)),</span>
            <span class="s">&#39;static-statictag02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% lo</span><span class="s">ad static %}{</span><span class="si">% s</span><span class="s">tatic base_css %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;base_css&#39;</span><span class="p">:</span> <span class="s">&#39;admin/base.css&#39;</span><span class="p">},</span> <span class="n">urljoin</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">STATIC_URL</span><span class="p">,</span> <span class="s">&#39;admin/base.css&#39;</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-236"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-236">&#182;</a></div><p>Verbatim template tag outputs contents without rendering.</p></td><td class="code"><div class="highlight"><pre>            <span class="s">&#39;verbatim-tag01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% verbatim %}{{bare   }}{</span><span class="si">% e</span><span class="s">ndverbatim %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;{{bare   }}&#39;</span><span class="p">),</span>
            <span class="s">&#39;verbatim-tag02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% verbatim %}{</span><span class="si">% e</span><span class="s">ndif %}{</span><span class="si">% e</span><span class="s">ndverbatim %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;{</span><span class="si">% e</span><span class="s">ndif %}&#39;</span><span class="p">),</span>
            <span class="s">&#39;verbatim-tag03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% verbatim %}It&#39;s the {% verbatim %} tag{</span><span class="si">% e</span><span class="s">ndverbatim %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;It&#39;s the {% verbatim %} tag&quot;</span><span class="p">),</span>
            <span class="s">&#39;verbatim-tag04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% verbatim %}{% verbatim %}{</span><span class="si">% e</span><span class="s">ndverbatim %}{</span><span class="si">% e</span><span class="s">ndverbatim %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">),</span>
            <span class="s">&#39;verbatim-tag05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% verbatim %}{</span><span class="si">% e</span><span class="s">ndverbatim %}{% verbatim %}{</span><span class="si">% e</span><span class="s">ndverbatim %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
            <span class="s">&#39;verbatim-tag06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% verbatim special %}Don&#39;t {</span><span class="si">% e</span><span class="s">ndverbatim %} just yet{</span><span class="si">% e</span><span class="s">ndverbatim special %}&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&quot;Don&#39;t {</span><span class="si">% e</span><span class="s">ndverbatim %} just yet&quot;</span><span class="p">),</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">tests</span>

<span class="k">class</span> <span class="nc">TemplateTagLoading</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_path</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">[:]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_apps</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">INSTALLED_APPS</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">egg_dir</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">/eggs&#39;</span> <span class="o">%</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_tag_modules</span> <span class="o">=</span> <span class="n">template_base</span><span class="o">.</span><span class="n">templatetags_modules</span>
        <span class="n">template_base</span><span class="o">.</span><span class="n">templatetags_modules</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">old_apps</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">old_path</span>
        <span class="n">template_base</span><span class="o">.</span><span class="n">templatetags_modules</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">old_tag_modules</span>

    <span class="k">def</span> <span class="nf">test_load_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ttext</span> <span class="o">=</span> <span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad broken_tag %}&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">,</span> <span class="n">template</span><span class="o">.</span><span class="n">Template</span><span class="p">,</span> <span class="n">ttext</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">template</span><span class="o">.</span><span class="n">Template</span><span class="p">(</span><span class="n">ttext</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;ImportError&#39;</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;Xtemplate&#39;</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">test_load_error_egg</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ttext</span> <span class="o">=</span> <span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad broken_egg %}&quot;</span>
        <span class="n">egg_name</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">/tagsegg.egg&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">egg_dir</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">egg_name</span><span class="p">)</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;tagsegg&#39;</span><span class="p">,)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span><span class="p">,</span> <span class="n">template</span><span class="o">.</span><span class="n">Template</span><span class="p">,</span> <span class="n">ttext</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">template</span><span class="o">.</span><span class="n">Template</span><span class="p">(</span><span class="n">ttext</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">template</span><span class="o">.</span><span class="n">TemplateSyntaxError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;ImportError&#39;</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;Xtemplate&#39;</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">test_load_working_egg</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ttext</span> <span class="o">=</span> <span class="s">&quot;{</span><span class="si">% lo</span><span class="s">ad working_egg %}&quot;</span>
        <span class="n">egg_name</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">/tagsegg.egg&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">egg_dir</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">egg_name</span><span class="p">)</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;tagsegg&#39;</span><span class="p">,)</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">Template</span><span class="p">(</span><span class="n">ttext</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">RequestContextTests</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">templates</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;child&#39;</span><span class="p">:</span> <span class="n">Template</span><span class="p">(</span><span class="s">&#39;{{ var|default:&quot;none&quot; }}&#39;</span><span class="p">),</span>
        <span class="p">}</span>
        <span class="n">setup_test_template_loader</span><span class="p">(</span><span class="n">templates</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fake_request</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">restore_template_loaders</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">test_include_only</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Regression test for #15721, ``{% include %}`` and ``RequestContext``</span>
<span class="sd">        not playing together nicely.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ctx</span> <span class="o">=</span> <span class="n">RequestContext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fake_request</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;var&#39;</span><span class="p">:</span> <span class="s">&#39;parent&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">template</span><span class="o">.</span><span class="n">Template</span><span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude &quot;child&quot; %}&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">ctx</span><span class="p">),</span>
            <span class="s">&#39;parent&#39;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">template</span><span class="o">.</span><span class="n">Template</span><span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">nclude &quot;child&quot; only %}&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">ctx</span><span class="p">),</span>
            <span class="s">&#39;none&#39;</span>
        <span class="p">)</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/django",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
