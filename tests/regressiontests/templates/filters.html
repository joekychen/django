<!DOCTYPE html>
<html><head><title>joekychen/django » tests › regressiontests › templates › filters.py

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>filters.py</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div><p>coding: utf-8</p></td><td class="code"><div class="highlight"><pre><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Tests for template filters (as opposed to template tags).</span>

<span class="sd">The tests are hidden inside a function so that things like timestamps and</span>
<span class="sd">timezones are only evaluated at the moment of execution and will therefore be</span>
<span class="sd">consistent.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">unicode_literals</span>

<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>

<span class="kn">from</span> <span class="nn">django.test.utils</span> <span class="kn">import</span> <span class="n">str_prefix</span>
<span class="kn">from</span> <span class="nn">django.utils.tzinfo</span> <span class="kn">import</span> <span class="n">LocalTimezone</span><span class="p">,</span> <span class="n">FixedOffset</span>
<span class="kn">from</span> <span class="nn">django.utils.safestring</span> <span class="kn">import</span> <span class="n">mark_safe</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>These two classes are used to test auto-escaping of <strong>unicode</strong> output.</p></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">UnsafeClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&#39;you &amp; me&#39;</span>

<span class="k">class</span> <span class="nc">SafeClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&#39;you &amp;gt; me&#39;</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><p>RESULT SYNTAX --
'template_name': ('template contents', 'context dict',
                  'expected string output' or Exception class)</p></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">get_filter_tests</span><span class="p">():</span>
    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
    <span class="n">now_tz</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">LocalTimezone</span><span class="p">(</span><span class="n">now</span><span class="p">))</span>
    <span class="n">now_tz_i</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">FixedOffset</span><span class="p">((</span><span class="mi">3</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span> <span class="o">+</span> <span class="mi">15</span><span class="p">))</span> <span class="c"># imaginary time zone</span>
    <span class="n">today</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

    <span class="k">return</span> <span class="p">{</span></pre></div></td></tr>


<tr id="section-4"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-4">&#182;</a></div><p>Default compare with datetime.now()</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-timesince01&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timesince }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">seconds</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span><span class="p">)},</span> <span class="s">&#39;1 minute&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timesince02&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timesince }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">minutes</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)},</span> <span class="s">&#39;1 day&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timesince03&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timesince }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">minutes</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">seconds</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)},</span> <span class="s">&#39;1 hour, 25 minutes&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-5"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-5">&#182;</a></div><p>Compare to a given parameter</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-timesince04&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timesince:b }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="n">now</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="s">&#39;b&#39;</span><span class="p">:</span><span class="n">now</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)},</span> <span class="s">&#39;1 day&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timesince05&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timesince:b }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="n">now</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">minutes</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="s">&#39;b&#39;</span><span class="p">:</span><span class="n">now</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">2</span><span class="p">)},</span> <span class="s">&#39;1 minute&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-6"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-6">&#182;</a></div><p>Check that timezone is respected</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-timesince06&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timesince:b }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="n">now_tz</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">8</span><span class="p">),</span> <span class="s">&#39;b&#39;</span><span class="p">:</span><span class="n">now_tz</span><span class="p">},</span> <span class="s">&#39;8 hours&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-7"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-7">&#182;</a></div><p>Regression for #7443</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-timesince07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ earlier|timesince }}&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s">&#39;earlier&#39;</span><span class="p">:</span> <span class="n">now</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span> <span class="p">},</span> <span class="s">&#39;1 week&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timesince08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ earlier|timesince:now }}&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s">&#39;now&#39;</span><span class="p">:</span> <span class="n">now</span><span class="p">,</span> <span class="s">&#39;earlier&#39;</span><span class="p">:</span> <span class="n">now</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span> <span class="p">},</span> <span class="s">&#39;1 week&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timesince09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ later|timesince }}&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s">&#39;later&#39;</span><span class="p">:</span> <span class="n">now</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span> <span class="p">},</span> <span class="s">&#39;0 minutes&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timesince10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ later|timesince:now }}&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s">&#39;now&#39;</span><span class="p">:</span> <span class="n">now</span><span class="p">,</span> <span class="s">&#39;later&#39;</span><span class="p">:</span> <span class="n">now</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span> <span class="p">},</span> <span class="s">&#39;0 minutes&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-8"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-8">&#182;</a></div><p>Ensures that differing timezones are calculated correctly</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-timesince11&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timesince }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">now</span><span class="p">},</span> <span class="s">&#39;0 minutes&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timesince12&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timesince }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">now_tz</span><span class="p">},</span> <span class="s">&#39;0 minutes&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timesince13&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timesince }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">now_tz_i</span><span class="p">},</span> <span class="s">&#39;0 minutes&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timesince14&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timesince:b }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">now_tz</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="n">now_tz_i</span><span class="p">},</span> <span class="s">&#39;0 minutes&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timesince15&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timesince:b }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">now</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="n">now_tz_i</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timesince16&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timesince:b }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">now_tz_i</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="n">now</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-9"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-9">&#182;</a></div><p>Regression for #9065 (two date objects).</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-timesince17&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timesince:b }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">today</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="n">today</span><span class="p">},</span> <span class="s">&#39;0 minutes&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timesince18&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timesince:b }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">today</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="n">today</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">24</span><span class="p">)},</span> <span class="s">&#39;1 day&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-10"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-10">&#182;</a></div><p>Default compare with datetime.now()</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-timeuntil01&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timeuntil }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">seconds</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)},</span> <span class="s">&#39;2 minutes&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timeuntil02&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timeuntil }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">seconds</span> <span class="o">=</span> <span class="mi">10</span><span class="p">))},</span> <span class="s">&#39;1 day&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timeuntil03&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timeuntil }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">minutes</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">seconds</span> <span class="o">=</span> <span class="mi">10</span><span class="p">))},</span> <span class="s">&#39;8 hours, 10 minutes&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-11"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-11">&#182;</a></div><p>Compare to a given parameter</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-timeuntil04&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timeuntil:b }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="n">now</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="s">&#39;b&#39;</span><span class="p">:</span><span class="n">now</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">2</span><span class="p">)},</span> <span class="s">&#39;1 day&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timeuntil05&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timeuntil:b }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="n">now</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="s">&#39;b&#39;</span><span class="p">:</span><span class="n">now</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">minutes</span><span class="o">=</span><span class="mi">1</span><span class="p">)},</span> <span class="s">&#39;1 minute&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-12"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-12">&#182;</a></div><p>Regression for #7443</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-timeuntil06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ earlier|timeuntil }}&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s">&#39;earlier&#39;</span><span class="p">:</span> <span class="n">now</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span> <span class="p">},</span> <span class="s">&#39;0 minutes&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timeuntil07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ earlier|timeuntil:now }}&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s">&#39;now&#39;</span><span class="p">:</span> <span class="n">now</span><span class="p">,</span> <span class="s">&#39;earlier&#39;</span><span class="p">:</span> <span class="n">now</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span> <span class="p">},</span> <span class="s">&#39;0 minutes&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timeuntil08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ later|timeuntil }}&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s">&#39;later&#39;</span><span class="p">:</span> <span class="n">now</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="p">},</span> <span class="s">&#39;1 week&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timeuntil09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ later|timeuntil:now }}&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s">&#39;now&#39;</span><span class="p">:</span> <span class="n">now</span><span class="p">,</span> <span class="s">&#39;later&#39;</span><span class="p">:</span> <span class="n">now</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span> <span class="p">},</span> <span class="s">&#39;1 week&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-13"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-13">&#182;</a></div><p>Ensures that differing timezones are calculated correctly</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-timeuntil10&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timeuntil }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">now_tz_i</span><span class="p">},</span> <span class="s">&#39;0 minutes&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timeuntil11&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timeuntil:b }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">now_tz_i</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="n">now_tz</span><span class="p">},</span> <span class="s">&#39;0 minutes&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-14"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-14">&#182;</a></div><p>Regression for #9065 (two date objects).</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-timeuntil12&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timeuntil:b }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">today</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="n">today</span><span class="p">},</span> <span class="s">&#39;0 minutes&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-timeuntil13&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|timeuntil:b }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">today</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="n">today</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">24</span><span class="p">)},</span> <span class="s">&#39;1 day&#39;</span><span class="p">),</span>

        <span class="s">&#39;filter-addslash01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% autoescape off %}{{ a|addslashes }} {{ b|addslashes }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;a&gt;&#39;&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;&lt;a&gt;&#39;&quot;</span><span class="p">)},</span> <span class="s">r&quot;&lt;a&gt;\&#39; &lt;a&gt;\&#39;&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-addslash02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ a|addslashes }} {{ b|addslashes }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;a&gt;&#39;&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;&lt;a&gt;&#39;&quot;</span><span class="p">)},</span> <span class="s">r&quot;&amp;lt;a&amp;gt;\&amp;#39; &lt;a&gt;\&#39;&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-capfirst01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% autoescape off %}{{ a|capfirst }} {{ b|capfirst }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;fred&gt;&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;fred&amp;gt;&quot;</span><span class="p">)},</span> <span class="s">&quot;Fred&gt; Fred&amp;gt;&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-capfirst02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ a|capfirst }} {{ b|capfirst }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;fred&gt;&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;fred&amp;gt;&quot;</span><span class="p">)},</span> <span class="s">&quot;Fred&amp;gt; Fred&amp;gt;&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-15"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-15">&#182;</a></div><p>Note that applying fix_ampsersands in autoescape mode leads to
double escaping.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-fix_ampersands01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% autoescape off %}{{ a|fix_ampersands }} {{ b|fix_ampersands }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a&amp;b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">)},</span> <span class="s">&quot;a&amp;amp;b a&amp;amp;b&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-fix_ampersands02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ a|fix_ampersands }} {{ b|fix_ampersands }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a&amp;b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">)},</span> <span class="s">&quot;a&amp;amp;amp;b a&amp;amp;b&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-floatformat01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% autoescape off %}{{ a|floatformat }} {{ b|floatformat }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;1.42&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;1.42&quot;</span><span class="p">)},</span> <span class="s">&quot;1.4 1.4&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-floatformat02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ a|floatformat }} {{ b|floatformat }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;1.42&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;1.42&quot;</span><span class="p">)},</span> <span class="s">&quot;1.4 1.4&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-16"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-16">&#182;</a></div><p>The contents of "linenumbers" is escaped according to the current
autoescape setting.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-linenumbers01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ a|linenumbers }} {{ b|linenumbers }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;one</span><span class="se">\n</span><span class="s">&lt;two&gt;</span><span class="se">\n</span><span class="s">three&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;one</span><span class="se">\n</span><span class="s">&amp;lt;two&amp;gt;</span><span class="se">\n</span><span class="s">three&quot;</span><span class="p">)},</span> <span class="s">&quot;1. one</span><span class="se">\n</span><span class="s">2. &amp;lt;two&amp;gt;</span><span class="se">\n</span><span class="s">3. three 1. one</span><span class="se">\n</span><span class="s">2. &amp;lt;two&amp;gt;</span><span class="se">\n</span><span class="s">3. three&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-linenumbers02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% autoescape off %}{{ a|linenumbers }} {{ b|linenumbers }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;one</span><span class="se">\n</span><span class="s">&lt;two&gt;</span><span class="se">\n</span><span class="s">three&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;one</span><span class="se">\n</span><span class="s">&amp;lt;two&amp;gt;</span><span class="se">\n</span><span class="s">three&quot;</span><span class="p">)},</span> <span class="s">&quot;1. one</span><span class="se">\n</span><span class="s">2. &lt;two&gt;</span><span class="se">\n</span><span class="s">3. three 1. one</span><span class="se">\n</span><span class="s">2. &amp;lt;two&amp;gt;</span><span class="se">\n</span><span class="s">3. three&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-lower01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% autoescape off %}{{ a|lower }} {{ b|lower }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;Apple &amp; banana&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;Apple &amp;amp; banana&quot;</span><span class="p">)},</span> <span class="s">&quot;apple &amp; banana apple &amp;amp; banana&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-lower02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ a|lower }} {{ b|lower }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;Apple &amp; banana&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;Apple &amp;amp; banana&quot;</span><span class="p">)},</span> <span class="s">&quot;apple &amp;amp; banana apple &amp;amp; banana&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-17"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-17">&#182;</a></div><p>The make_list filter can destroy existing escaping, so the results are
escaped.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-make_list01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% autoescape off %}{{ a|make_list }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;&amp;&quot;</span><span class="p">)},</span> <span class="n">str_prefix</span><span class="p">(</span><span class="s">&quot;[</span><span class="si">%(_)s</span><span class="s">&#39;&amp;&#39;]&quot;</span><span class="p">)),</span>
        <span class="s">&#39;filter-make_list02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ a|make_list }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;&amp;&quot;</span><span class="p">)},</span> <span class="s">&quot;[u&amp;#39;&amp;amp;&amp;#39;]&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-make_list03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|make_list|stringformat:&quot;s&quot;|safe }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;&amp;&quot;</span><span class="p">)},</span> <span class="n">str_prefix</span><span class="p">(</span><span class="s">&quot;[</span><span class="si">%(_)s</span><span class="s">&#39;&amp;&#39;]&quot;</span><span class="p">)),</span>
        <span class="s">&#39;filter-make_list04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|make_list|stringformat:&quot;s&quot;|safe }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;&amp;&quot;</span><span class="p">)},</span> <span class="n">str_prefix</span><span class="p">(</span><span class="s">&quot;[</span><span class="si">%(_)s</span><span class="s">&#39;&amp;&#39;]&quot;</span><span class="p">)),</span></pre></div></td></tr>


<tr id="section-18"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-18">&#182;</a></div><p>Running slugify on a pre-escaped string leads to odd behavior,
but the result is still safe.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-slugify01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% autoescape off %}{{ a|slugify }} {{ b|slugify }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &amp; b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a &amp;amp; b&quot;</span><span class="p">)},</span> <span class="s">&quot;a-b a-amp-b&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-slugify02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ a|slugify }} {{ b|slugify }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &amp; b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a &amp;amp; b&quot;</span><span class="p">)},</span> <span class="s">&quot;a-b a-amp-b&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-19"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-19">&#182;</a></div><p>Notice that escaping is applied <em>after</em> any filters, so the string
formatting here only needs to deal with pre-escaped characters.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-stringformat01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}.{{ a|stringformat:&quot;5s&quot; }}. .{{ b|stringformat:&quot;5s&quot; }}.{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span>
            <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a&lt;b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&lt;b&quot;</span><span class="p">)},</span> <span class="s">&quot;.  a&lt;b. .  a&lt;b.&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-stringformat02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;.{{ a|stringformat:&quot;5s&quot; }}. .{{ b|stringformat:&quot;5s&quot; }}.&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a&lt;b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&lt;b&quot;</span><span class="p">)},</span>
            <span class="s">&quot;.  a&amp;lt;b. .  a&lt;b.&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-20"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-20">&#182;</a></div><p>Test the title filter</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-title1&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|title }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span> <span class="p">:</span> <span class="s">&#39;JOE</span><span class="se">\&#39;</span><span class="s">S CRAB SHACK&#39;</span><span class="p">},</span> <span class="s">&#39;Joe&amp;#39;s Crab Shack&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-title2&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|title }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span> <span class="p">:</span> <span class="s">&#39;555 WEST 53RD STREET&#39;</span><span class="p">},</span> <span class="s">&#39;555 West 53rd Street&#39;</span><span class="p">),</span>

        <span class="s">&#39;filter-truncatewords01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|truncatewords:&quot;2&quot; }} {{ b|truncatewords:&quot;2&quot;}}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span>
            <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;alpha &amp; bravo&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;alpha &amp;amp; bravo&quot;</span><span class="p">)},</span> <span class="s">&quot;alpha &amp; ... alpha &amp;amp; ...&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-truncatewords02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|truncatewords:&quot;2&quot; }} {{ b|truncatewords:&quot;2&quot;}}&#39;</span><span class="p">,</span>
            <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;alpha &amp; bravo&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;alpha &amp;amp; bravo&quot;</span><span class="p">)},</span> <span class="s">&quot;alpha &amp;amp; ... alpha &amp;amp; ...&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-truncatechars01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|truncatechars:5 }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&quot;Testing, testing&quot;</span><span class="p">},</span> <span class="s">&quot;Te...&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-truncatechars02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|truncatechars:7 }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&quot;Testing&quot;</span><span class="p">},</span> <span class="s">&quot;Testing&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-21"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-21">&#182;</a></div><p>The "upper" filter messes up entities (which are case-sensitive),
so it's not safe for non-escaping purposes.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-upper01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|upper }} {{ b|upper }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &amp; b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a &amp;amp; b&quot;</span><span class="p">)},</span> <span class="s">&quot;A &amp; B A &amp;AMP; B&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-upper02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|upper }} {{ b|upper }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &amp; b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a &amp;amp; b&quot;</span><span class="p">)},</span> <span class="s">&quot;A &amp;amp; B A &amp;amp;AMP; B&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-urlize01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|urlize }} {{ b|urlize }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;http://example.com/?x=&amp;y=&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;http://example.com?x=&amp;amp;y=&quot;</span><span class="p">)},</span> <span class="s">&#39;&lt;a href=&quot;http://example.com/?x=&amp;y=&quot; rel=&quot;nofollow&quot;&gt;http://example.com/?x=&amp;y=&lt;/a&gt; &lt;a href=&quot;http://example.com?x=&amp;amp;y=&quot; rel=&quot;nofollow&quot;&gt;http://example.com?x=&amp;amp;y=&lt;/a&gt;&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-urlize02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|urlize }} {{ b|urlize }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;http://example.com/?x=&amp;y=&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;http://example.com?x=&amp;amp;y=&quot;</span><span class="p">)},</span> <span class="s">&#39;&lt;a href=&quot;http://example.com/?x=&amp;amp;y=&quot; rel=&quot;nofollow&quot;&gt;http://example.com/?x=&amp;amp;y=&lt;/a&gt; &lt;a href=&quot;http://example.com?x=&amp;amp;y=&quot; rel=&quot;nofollow&quot;&gt;http://example.com?x=&amp;amp;y=&lt;/a&gt;&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-urlize03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|urlize }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a &amp;amp; b&quot;</span><span class="p">)},</span> <span class="s">&#39;a &amp;amp; b&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-urlize04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|urlize }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a &amp;amp; b&quot;</span><span class="p">)},</span> <span class="s">&#39;a &amp;amp; b&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-22"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-22">&#182;</a></div><p>This will lead to a nonsense result, but at least it won't be
exploitable for XSS purposes when auto-escaping is on.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-urlize05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|urlize }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;script&gt;alert(&#39;foo&#39;)&lt;/script&gt;&quot;</span><span class="p">},</span> <span class="s">&quot;&lt;script&gt;alert(&#39;foo&#39;)&lt;/script&gt;&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-urlize06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|urlize }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;script&gt;alert(&#39;foo&#39;)&lt;/script&gt;&quot;</span><span class="p">},</span> <span class="s">&#39;&amp;lt;script&amp;gt;alert(&amp;#39;foo&amp;#39;)&amp;lt;/script&amp;gt;&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-23"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-23">&#182;</a></div><p>mailto: testing for urlize</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-urlize07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|urlize }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;Email me at me@example.com&quot;</span><span class="p">},</span> <span class="s">&#39;Email me at &lt;a href=&quot;mailto:me@example.com&quot;&gt;me@example.com&lt;/a&gt;&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-urlize08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|urlize }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;Email me at &lt;me@example.com&gt;&quot;</span><span class="p">},</span> <span class="s">&#39;Email me at &amp;lt;&lt;a href=&quot;mailto:me@example.com&quot;&gt;me@example.com&lt;/a&gt;&amp;gt;&#39;</span><span class="p">),</span>

        <span class="s">&#39;filter-urlizetrunc01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|urlizetrunc:&quot;8&quot; }} {{ b|urlizetrunc:&quot;8&quot; }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&#39;&quot;Unsafe&quot; http://example.com/x=&amp;y=&#39;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&#39;&amp;quot;Safe&amp;quot; http://example.com?x=&amp;amp;y=&#39;</span><span class="p">)},</span> <span class="s">&#39;&quot;Unsafe&quot; &lt;a href=&quot;http://example.com/x=&amp;y=&quot; rel=&quot;nofollow&quot;&gt;http:...&lt;/a&gt; &amp;quot;Safe&amp;quot; &lt;a href=&quot;http://example.com?x=&amp;amp;y=&quot; rel=&quot;nofollow&quot;&gt;http:...&lt;/a&gt;&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-urlizetrunc02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|urlizetrunc:&quot;8&quot; }} {{ b|urlizetrunc:&quot;8&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&#39;&quot;Unsafe&quot; http://example.com/x=&amp;y=&#39;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&#39;&amp;quot;Safe&amp;quot; http://example.com?x=&amp;amp;y=&#39;</span><span class="p">)},</span> <span class="s">&#39;&amp;quot;Unsafe&amp;quot; &lt;a href=&quot;http://example.com/x=&amp;amp;y=&quot; rel=&quot;nofollow&quot;&gt;http:...&lt;/a&gt; &amp;quot;Safe&amp;quot; &lt;a href=&quot;http://example.com?x=&amp;amp;y=&quot; rel=&quot;nofollow&quot;&gt;http:...&lt;/a&gt;&#39;</span><span class="p">),</span>

        <span class="s">&#39;filter-wordcount01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|wordcount }} {{ b|wordcount }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &amp; b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a &amp;amp; b&quot;</span><span class="p">)},</span> <span class="s">&quot;3 3&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-wordcount02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|wordcount }} {{ b|wordcount }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &amp; b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a &amp;amp; b&quot;</span><span class="p">)},</span> <span class="s">&quot;3 3&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-wordwrap01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|wordwrap:&quot;3&quot; }} {{ b|wordwrap:&quot;3&quot; }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &amp; b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a &amp; b&quot;</span><span class="p">)},</span> <span class="s">&quot;a &amp;</span><span class="se">\n</span><span class="s">b a &amp;</span><span class="se">\n</span><span class="s">b&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-wordwrap02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|wordwrap:&quot;3&quot; }} {{ b|wordwrap:&quot;3&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &amp; b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a &amp; b&quot;</span><span class="p">)},</span> <span class="s">&quot;a &amp;amp;</span><span class="se">\n</span><span class="s">b a &amp;</span><span class="se">\n</span><span class="s">b&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-ljust01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}.{{ a|ljust:&quot;5&quot; }}. .{{ b|ljust:&quot;5&quot; }}.{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a&amp;b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">)},</span> <span class="s">&quot;.a&amp;b  . .a&amp;b  .&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-ljust02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;.{{ a|ljust:&quot;5&quot; }}. .{{ b|ljust:&quot;5&quot; }}.&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a&amp;b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">)},</span> <span class="s">&quot;.a&amp;amp;b  . .a&amp;b  .&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-rjust01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}.{{ a|rjust:&quot;5&quot; }}. .{{ b|rjust:&quot;5&quot; }}.{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a&amp;b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">)},</span> <span class="s">&quot;.  a&amp;b. .  a&amp;b.&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-rjust02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;.{{ a|rjust:&quot;5&quot; }}. .{{ b|rjust:&quot;5&quot; }}.&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a&amp;b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">)},</span> <span class="s">&quot;.  a&amp;amp;b. .  a&amp;b.&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-center01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}.{{ a|center:&quot;5&quot; }}. .{{ b|center:&quot;5&quot; }}.{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a&amp;b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">)},</span> <span class="s">&quot;. a&amp;b . . a&amp;b .&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-center02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;.{{ a|center:&quot;5&quot; }}. .{{ b|center:&quot;5&quot; }}.&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a&amp;b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">)},</span> <span class="s">&quot;. a&amp;amp;b . . a&amp;b .&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-cut01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|cut:&quot;x&quot; }} {{ b|cut:&quot;x&quot; }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;y&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;x&amp;amp;y&quot;</span><span class="p">)},</span> <span class="s">&quot;&amp;y &amp;amp;y&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-cut02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|cut:&quot;x&quot; }} {{ b|cut:&quot;x&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;y&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;x&amp;amp;y&quot;</span><span class="p">)},</span> <span class="s">&quot;&amp;amp;y &amp;amp;y&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-cut03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|cut:&quot;&amp;&quot; }} {{ b|cut:&quot;&amp;&quot; }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;y&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;x&amp;amp;y&quot;</span><span class="p">)},</span> <span class="s">&quot;xy xamp;y&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-cut04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|cut:&quot;&amp;&quot; }} {{ b|cut:&quot;&amp;&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;y&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;x&amp;amp;y&quot;</span><span class="p">)},</span> <span class="s">&quot;xy xamp;y&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-24"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-24">&#182;</a></div><p>Passing ';' to cut can break existing HTML entities, so those strings
are auto-escaped.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-cut05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|cut:&quot;;&quot; }} {{ b|cut:&quot;;&quot; }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;y&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;x&amp;amp;y&quot;</span><span class="p">)},</span> <span class="s">&quot;x&amp;y x&amp;ampy&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-cut06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|cut:&quot;;&quot; }} {{ b|cut:&quot;;&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;y&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;x&amp;amp;y&quot;</span><span class="p">)},</span> <span class="s">&quot;x&amp;amp;y x&amp;amp;ampy&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-25"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-25">&#182;</a></div><p>The "escape" filter works the same whether autoescape is on or off,
but it has no effect on strings already marked as safe.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-escape01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|escape }} {{ b|escape }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;y&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;x&amp;y&quot;</span><span class="p">)},</span> <span class="s">&quot;x&amp;amp;y x&amp;y&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-escape02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|escape }} {{ b|escape }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;y&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;x&amp;y&quot;</span><span class="p">)},</span> <span class="s">&quot;x&amp;amp;y x&amp;y&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-26"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-26">&#182;</a></div><p>It is only applied once, regardless of the number of times it
appears in a chain.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-escape03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|escape|escape }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;y&quot;</span><span class="p">},</span> <span class="s">&quot;x&amp;amp;y&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-escape04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|escape|escape }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;y&quot;</span><span class="p">},</span> <span class="s">&quot;x&amp;amp;y&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-27"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-27">&#182;</a></div><p>Force_escape is applied immediately. It can be used to provide
double-escaping, for example.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-force-escape01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|force_escape }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;y&quot;</span><span class="p">},</span> <span class="s">&quot;x&amp;amp;y&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-force-escape02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|force_escape }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;y&quot;</span><span class="p">},</span> <span class="s">&quot;x&amp;amp;y&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-force-escape03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|force_escape|force_escape }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;y&quot;</span><span class="p">},</span> <span class="s">&quot;x&amp;amp;amp;y&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-force-escape04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|force_escape|force_escape }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;y&quot;</span><span class="p">},</span> <span class="s">&quot;x&amp;amp;amp;y&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-28"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-28">&#182;</a></div><p>Because the result of force_escape is "safe", an additional
escape filter has no effect.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-force-escape05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|force_escape|escape }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;y&quot;</span><span class="p">},</span> <span class="s">&quot;x&amp;amp;y&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-force-escape06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|force_escape|escape }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;y&quot;</span><span class="p">},</span> <span class="s">&quot;x&amp;amp;y&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-force-escape07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|escape|force_escape }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;y&quot;</span><span class="p">},</span> <span class="s">&quot;x&amp;amp;y&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-force-escape08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|escape|force_escape }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;y&quot;</span><span class="p">},</span> <span class="s">&quot;x&amp;amp;y&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-29"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-29">&#182;</a></div><p>The contents in "linebreaks" and "linebreaksbr" are escaped
according to the current autoescape setting.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-linebreaks01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|linebreaks }} {{ b|linebreaks }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;</span><span class="se">\n</span><span class="s">y&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;x&amp;</span><span class="se">\n</span><span class="s">y&quot;</span><span class="p">)},</span> <span class="s">&quot;&lt;p&gt;x&amp;amp;&lt;br /&gt;y&lt;/p&gt; &lt;p&gt;x&amp;&lt;br /&gt;y&lt;/p&gt;&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-linebreaks02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|linebreaks }} {{ b|linebreaks }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;</span><span class="se">\n</span><span class="s">y&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;x&amp;</span><span class="se">\n</span><span class="s">y&quot;</span><span class="p">)},</span> <span class="s">&quot;&lt;p&gt;x&amp;&lt;br /&gt;y&lt;/p&gt; &lt;p&gt;x&amp;&lt;br /&gt;y&lt;/p&gt;&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-linebreaksbr01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|linebreaksbr }} {{ b|linebreaksbr }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;</span><span class="se">\n</span><span class="s">y&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;x&amp;</span><span class="se">\n</span><span class="s">y&quot;</span><span class="p">)},</span> <span class="s">&quot;x&amp;amp;&lt;br /&gt;y x&amp;&lt;br /&gt;y&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-linebreaksbr02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|linebreaksbr }} {{ b|linebreaksbr }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;x&amp;</span><span class="se">\n</span><span class="s">y&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;x&amp;</span><span class="se">\n</span><span class="s">y&quot;</span><span class="p">)},</span> <span class="s">&quot;x&amp;&lt;br /&gt;y x&amp;&lt;br /&gt;y&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-safe01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{{ a }} -- {{ a|safe }}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;b&gt;hello&lt;/b&gt;&quot;</span><span class="p">},</span> <span class="s">&quot;&amp;lt;b&amp;gt;hello&amp;lt;/b&amp;gt; -- &lt;b&gt;hello&lt;/b&gt;&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-safe02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;{% autoescape off %}{{ a }} -- {{ a|safe }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;b&gt;hello&lt;/b&gt;&quot;</span><span class="p">},</span> <span class="s">&quot;&lt;b&gt;hello&lt;/b&gt; -- &lt;b&gt;hello&lt;/b&gt;&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-safeseq01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|join:&quot;, &quot; }} -- {{ a|safeseq|join:&quot;, &quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;&amp;&quot;</span><span class="p">,</span> <span class="s">&quot;&lt;&quot;</span><span class="p">]},</span> <span class="s">&quot;&amp;amp;, &amp;lt; -- &amp;, &lt;&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-safeseq02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|join:&quot;, &quot; }} -- {{ a|safeseq|join:&quot;, &quot; }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;&amp;&quot;</span><span class="p">,</span> <span class="s">&quot;&lt;&quot;</span><span class="p">]},</span> <span class="s">&quot;&amp;, &lt; -- &amp;, &lt;&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-removetags01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|removetags:&quot;a b&quot; }} {{ b|removetags:&quot;a b&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;a&gt;x&lt;/a&gt; &lt;p&gt;&lt;b&gt;y&lt;/b&gt;&lt;/p&gt;&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;&lt;a&gt;x&lt;/a&gt; &lt;p&gt;&lt;b&gt;y&lt;/b&gt;&lt;/p&gt;&quot;</span><span class="p">)},</span> <span class="s">&quot;x &amp;lt;p&amp;gt;y&amp;lt;/p&amp;gt; x &lt;p&gt;y&lt;/p&gt;&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-removetags02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|removetags:&quot;a b&quot; }} {{ b|removetags:&quot;a b&quot; }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;a&gt;x&lt;/a&gt; &lt;p&gt;&lt;b&gt;y&lt;/b&gt;&lt;/p&gt;&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;&lt;a&gt;x&lt;/a&gt; &lt;p&gt;&lt;b&gt;y&lt;/b&gt;&lt;/p&gt;&quot;</span><span class="p">)},</span> <span class="s">&quot;x &lt;p&gt;y&lt;/p&gt; x &lt;p&gt;y&lt;/p&gt;&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-striptags01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|striptags }} {{ b|striptags }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;a&gt;x&lt;/a&gt; &lt;p&gt;&lt;b&gt;y&lt;/b&gt;&lt;/p&gt;&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;&lt;a&gt;x&lt;/a&gt; &lt;p&gt;&lt;b&gt;y&lt;/b&gt;&lt;/p&gt;&quot;</span><span class="p">)},</span> <span class="s">&quot;x y x y&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-striptags02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|striptags }} {{ b|striptags }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;a&gt;x&lt;/a&gt; &lt;p&gt;&lt;b&gt;y&lt;/b&gt;&lt;/p&gt;&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;&lt;a&gt;x&lt;/a&gt; &lt;p&gt;&lt;b&gt;y&lt;/b&gt;&lt;/p&gt;&quot;</span><span class="p">)},</span> <span class="s">&quot;x y x y&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-first01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|first }} {{ b|first }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">,</span> <span class="s">&quot;x&quot;</span><span class="p">],</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">),</span> <span class="s">&quot;x&quot;</span><span class="p">]},</span> <span class="s">&quot;a&amp;amp;b a&amp;b&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-first02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|first }} {{ b|first }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">,</span> <span class="s">&quot;x&quot;</span><span class="p">],</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">),</span> <span class="s">&quot;x&quot;</span><span class="p">]},</span> <span class="s">&quot;a&amp;b a&amp;b&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-last01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|last }} {{ b|last }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;x&quot;</span><span class="p">,</span> <span class="s">&quot;a&amp;b&quot;</span><span class="p">],</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;x&quot;</span><span class="p">,</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">)]},</span> <span class="s">&quot;a&amp;amp;b a&amp;b&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-last02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|last }} {{ b|last }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;x&quot;</span><span class="p">,</span> <span class="s">&quot;a&amp;b&quot;</span><span class="p">],</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;x&quot;</span><span class="p">,</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">)]},</span> <span class="s">&quot;a&amp;b a&amp;b&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-random01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|random }} {{ b|random }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">,</span> <span class="s">&quot;a&amp;b&quot;</span><span class="p">],</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">),</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">)]},</span> <span class="s">&quot;a&amp;amp;b a&amp;b&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-random02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|random }} {{ b|random }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">,</span> <span class="s">&quot;a&amp;b&quot;</span><span class="p">],</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">),</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">)]},</span> <span class="s">&quot;a&amp;b a&amp;b&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-slice01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|slice:&quot;1:3&quot; }} {{ b|slice:&quot;1:3&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a&amp;b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">)},</span> <span class="s">&quot;&amp;amp;b &amp;b&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-slice02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|slice:&quot;1:3&quot; }} {{ b|slice:&quot;1:3&quot; }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a&amp;b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a&amp;b&quot;</span><span class="p">)},</span> <span class="s">&quot;&amp;b &amp;b&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-unordered_list01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|unordered_list }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;x&gt;&quot;</span><span class="p">,</span> <span class="p">[[</span><span class="s">&quot;&lt;y&quot;</span><span class="p">,</span> <span class="p">[]]]]},</span> <span class="s">&quot;</span><span class="se">\t</span><span class="s">&lt;li&gt;x&amp;gt;</span><span class="se">\n\t</span><span class="s">&lt;ul&gt;</span><span class="se">\n\t\t</span><span class="s">&lt;li&gt;&amp;lt;y&lt;/li&gt;</span><span class="se">\n\t</span><span class="s">&lt;/ul&gt;</span><span class="se">\n\t</span><span class="s">&lt;/li&gt;&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-unordered_list02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|unordered_list }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;x&gt;&quot;</span><span class="p">,</span> <span class="p">[[</span><span class="s">&quot;&lt;y&quot;</span><span class="p">,</span> <span class="p">[]]]]},</span> <span class="s">&quot;</span><span class="se">\t</span><span class="s">&lt;li&gt;x&gt;</span><span class="se">\n\t</span><span class="s">&lt;ul&gt;</span><span class="se">\n\t\t</span><span class="s">&lt;li&gt;&lt;y&lt;/li&gt;</span><span class="se">\n\t</span><span class="s">&lt;/ul&gt;</span><span class="se">\n\t</span><span class="s">&lt;/li&gt;&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-unordered_list03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|unordered_list }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;x&gt;&quot;</span><span class="p">,</span> <span class="p">[[</span><span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;&lt;y&quot;</span><span class="p">),</span> <span class="p">[]]]]},</span> <span class="s">&quot;</span><span class="se">\t</span><span class="s">&lt;li&gt;x&amp;gt;</span><span class="se">\n\t</span><span class="s">&lt;ul&gt;</span><span class="se">\n\t\t</span><span class="s">&lt;li&gt;&lt;y&lt;/li&gt;</span><span class="se">\n\t</span><span class="s">&lt;/ul&gt;</span><span class="se">\n\t</span><span class="s">&lt;/li&gt;&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-unordered_list04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|unordered_list }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;x&gt;&quot;</span><span class="p">,</span> <span class="p">[[</span><span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;&lt;y&quot;</span><span class="p">),</span> <span class="p">[]]]]},</span> <span class="s">&quot;</span><span class="se">\t</span><span class="s">&lt;li&gt;x&gt;</span><span class="se">\n\t</span><span class="s">&lt;ul&gt;</span><span class="se">\n\t\t</span><span class="s">&lt;li&gt;&lt;y&lt;/li&gt;</span><span class="se">\n\t</span><span class="s">&lt;/ul&gt;</span><span class="se">\n\t</span><span class="s">&lt;/li&gt;&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-unordered_list05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|unordered_list }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;x&gt;&quot;</span><span class="p">,</span> <span class="p">[[</span><span class="s">&quot;&lt;y&quot;</span><span class="p">,</span> <span class="p">[]]]]},</span> <span class="s">&quot;</span><span class="se">\t</span><span class="s">&lt;li&gt;x&gt;</span><span class="se">\n\t</span><span class="s">&lt;ul&gt;</span><span class="se">\n\t\t</span><span class="s">&lt;li&gt;&lt;y&lt;/li&gt;</span><span class="se">\n\t</span><span class="s">&lt;/ul&gt;</span><span class="se">\n\t</span><span class="s">&lt;/li&gt;&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-30"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-30">&#182;</a></div><p>Literal string arguments to the default filter are always treated as
safe strings, regardless of the auto-escaping state.</p>

<p>Note: we have to use {"a": ""} here, otherwise the invalid template
variable string interferes with the test result.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-default01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|default:&quot;x&lt;&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">},</span> <span class="s">&quot;x&lt;&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-default02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|default:&quot;x&lt;&quot; }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">},</span> <span class="s">&quot;x&lt;&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-default03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|default:&quot;x&lt;&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;x&gt;&quot;</span><span class="p">)},</span> <span class="s">&quot;x&gt;&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-default04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|default:&quot;x&lt;&quot; }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;x&gt;&quot;</span><span class="p">)},</span> <span class="s">&quot;x&gt;&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-default_if_none01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|default:&quot;x&lt;&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">},</span> <span class="s">&quot;x&lt;&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-default_if_none02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|default:&quot;x&lt;&quot; }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">},</span> <span class="s">&quot;x&lt;&quot;</span><span class="p">),</span>

        <span class="s">&#39;filter-phone2numeric01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|phone2numeric }} {{ b|phone2numeric }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;1-800-call-me&gt;&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;&lt;1-800-call-me&gt;&quot;</span><span class="p">)</span> <span class="p">},</span> <span class="s">&quot;&amp;lt;1-800-2255-63&amp;gt; &lt;1-800-2255-63&gt;&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-phone2numeric02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|phone2numeric }} {{ b|phone2numeric }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;1-800-call-me&gt;&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;&lt;1-800-call-me&gt;&quot;</span><span class="p">)</span> <span class="p">},</span> <span class="s">&quot;&lt;1-800-2255-63&gt; &lt;1-800-2255-63&gt;&quot;</span><span class="p">),</span>
        <span class="s">&#39;filter-phone2numeric03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|phone2numeric }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;How razorback-jumping frogs can level six piqued gymnasts!&quot;</span><span class="p">},</span> <span class="s">&quot;469 729672225-5867464 37647 226 53835 749 747833 49662787!&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-31"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-31">&#182;</a></div><p>Ensure iriencode keeps safe strings:</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-iriencode01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ url|iriencode }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;url&#39;</span><span class="p">:</span> <span class="s">&#39;?test=1&amp;me=2&#39;</span><span class="p">},</span> <span class="s">&#39;?test=1&amp;amp;me=2&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-iriencode02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ url|iriencode }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;url&#39;</span><span class="p">:</span> <span class="s">&#39;?test=1&amp;me=2&#39;</span><span class="p">},</span> <span class="s">&#39;?test=1&amp;me=2&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-iriencode03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ url|iriencode }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;url&#39;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&#39;?test=1&amp;me=2&#39;</span><span class="p">)},</span> <span class="s">&#39;?test=1&amp;me=2&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-iriencode04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ url|iriencode }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;url&#39;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&#39;?test=1&amp;me=2&#39;</span><span class="p">)},</span> <span class="s">&#39;?test=1&amp;me=2&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-32"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-32">&#182;</a></div><p>urlencode</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;filter-urlencode01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ url|urlencode }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;url&#39;</span><span class="p">:</span> <span class="s">&#39;/test&amp;&quot;/me?/&#39;</span><span class="p">},</span> <span class="s">&#39;/test</span><span class="si">%26%</span><span class="s">22/me</span><span class="si">%3F</span><span class="s">/&#39;</span><span class="p">),</span>
        <span class="s">&#39;filter-urlencode02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;/test/{{ urlbit|urlencode:&quot;&quot; }}/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;urlbit&#39;</span><span class="p">:</span> <span class="s">&#39;escape/slash&#39;</span><span class="p">},</span> <span class="s">&#39;/test/escape</span><span class="si">%2F</span><span class="s">slash/&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-33"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-33">&#182;</a></div><p>Chaining a bunch of safeness-preserving filters should not alter
the safe status either way.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;chaining01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|capfirst|center:&quot;7&quot; }}.{{ b|capfirst|center:&quot;7&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &lt; b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a &lt; b&quot;</span><span class="p">)},</span> <span class="s">&quot; A &amp;lt; b . A &lt; b &quot;</span><span class="p">),</span>
        <span class="s">&#39;chaining02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|capfirst|center:&quot;7&quot; }}.{{ b|capfirst|center:&quot;7&quot; }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &lt; b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a &lt; b&quot;</span><span class="p">)},</span> <span class="s">&quot; A &lt; b . A &lt; b &quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-34"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-34">&#182;</a></div><p>Using a filter that forces a string back to unsafe:</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;chaining03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|cut:&quot;b&quot;|capfirst }}.{{ b|cut:&quot;b&quot;|capfirst }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &lt; b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a &lt; b&quot;</span><span class="p">)},</span> <span class="s">&quot;A &amp;lt; .A &lt; &quot;</span><span class="p">),</span>
        <span class="s">&#39;chaining04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|cut:&quot;b&quot;|capfirst }}.{{ b|cut:&quot;b&quot;|capfirst }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &lt; b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&quot;a &lt; b&quot;</span><span class="p">)},</span> <span class="s">&quot;A &lt; .A &lt; &quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-35"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-35">&#182;</a></div><p>Using a filter that forces safeness does not lead to double-escaping</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;chaining05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|escape|capfirst }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &lt; b&quot;</span><span class="p">},</span> <span class="s">&quot;A &amp;lt; b&quot;</span><span class="p">),</span>
        <span class="s">&#39;chaining06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|escape|capfirst }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &lt; b&quot;</span><span class="p">},</span> <span class="s">&quot;A &amp;lt; b&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-36"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-36">&#182;</a></div><p>Force to safe, then back (also showing why using force_escape too
early in a chain can lead to unexpected results).</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;chaining07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|force_escape|cut:&quot;;&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &lt; b&quot;</span><span class="p">},</span> <span class="s">&quot;a &amp;amp;lt b&quot;</span><span class="p">),</span>
        <span class="s">&#39;chaining08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|force_escape|cut:&quot;;&quot; }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &lt; b&quot;</span><span class="p">},</span> <span class="s">&quot;a &amp;lt b&quot;</span><span class="p">),</span>
        <span class="s">&#39;chaining09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|cut:&quot;;&quot;|force_escape }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &lt; b&quot;</span><span class="p">},</span> <span class="s">&quot;a &amp;lt; b&quot;</span><span class="p">),</span>
        <span class="s">&#39;chaining10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|cut:&quot;;&quot;|force_escape }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &lt; b&quot;</span><span class="p">},</span> <span class="s">&quot;a &amp;lt; b&quot;</span><span class="p">),</span>
        <span class="s">&#39;chaining11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|cut:&quot;b&quot;|safe }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &lt; b&quot;</span><span class="p">},</span> <span class="s">&quot;a &lt; &quot;</span><span class="p">),</span>
        <span class="s">&#39;chaining12&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|cut:&quot;b&quot;|safe }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &lt; b&quot;</span><span class="p">},</span> <span class="s">&quot;a &lt; &quot;</span><span class="p">),</span>
        <span class="s">&#39;chaining13&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ a|safe|force_escape }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &lt; b&quot;</span><span class="p">},</span> <span class="s">&quot;a &amp;lt; b&quot;</span><span class="p">),</span>
        <span class="s">&#39;chaining14&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% autoescape off %}{{ a|safe|force_escape }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">:</span> <span class="s">&quot;a &lt; b&quot;</span><span class="p">},</span> <span class="s">&quot;a &amp;lt; b&quot;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-37"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-37">&#182;</a></div><p>Filters decorated with stringfilter still respect is_safe.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;autoescape-stringfilter01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ unsafe|capfirst }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;unsafe&#39;</span><span class="p">:</span> <span class="n">UnsafeClass</span><span class="p">()},</span> <span class="s">&#39;You &amp;amp; me&#39;</span><span class="p">),</span>
        <span class="s">&#39;autoescape-stringfilter02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{% autoescape off %}{{ unsafe|capfirst }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;unsafe&#39;</span><span class="p">:</span> <span class="n">UnsafeClass</span><span class="p">()},</span> <span class="s">&#39;You &amp; me&#39;</span><span class="p">),</span>
        <span class="s">&#39;autoescape-stringfilter03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ safe|capfirst }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;safe&#39;</span><span class="p">:</span> <span class="n">SafeClass</span><span class="p">()},</span> <span class="s">&#39;You &amp;gt; me&#39;</span><span class="p">),</span>
        <span class="s">&#39;autoescape-stringfilter04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{% autoescape off %}{{ safe|capfirst }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;safe&#39;</span><span class="p">:</span> <span class="n">SafeClass</span><span class="p">()},</span> <span class="s">&#39;You &amp;gt; me&#39;</span><span class="p">),</span>

        <span class="s">&#39;escapejs01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ a|escapejs }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&#39;testing</span><span class="se">\r\n</span><span class="s">javascript </span><span class="se">\&#39;</span><span class="s">string&quot; &lt;b&gt;escaping&lt;/b&gt;&#39;</span><span class="p">},</span> <span class="s">&#39;testing</span><span class="se">\\</span><span class="s">u000D</span><span class="se">\\</span><span class="s">u000Ajavascript </span><span class="se">\\</span><span class="s">u0027string</span><span class="se">\\</span><span class="s">u0022 </span><span class="se">\\</span><span class="s">u003Cb</span><span class="se">\\</span><span class="s">u003Eescaping</span><span class="se">\\</span><span class="s">u003C/b</span><span class="se">\\</span><span class="s">u003E&#39;</span><span class="p">),</span>
        <span class="s">&#39;escapejs02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{% autoescape off %}{{ a|escapejs }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&#39;testing</span><span class="se">\r\n</span><span class="s">javascript </span><span class="se">\&#39;</span><span class="s">string&quot; &lt;b&gt;escaping&lt;/b&gt;&#39;</span><span class="p">},</span> <span class="s">&#39;testing</span><span class="se">\\</span><span class="s">u000D</span><span class="se">\\</span><span class="s">u000Ajavascript </span><span class="se">\\</span><span class="s">u0027string</span><span class="se">\\</span><span class="s">u0022 </span><span class="se">\\</span><span class="s">u003Cb</span><span class="se">\\</span><span class="s">u003Eescaping</span><span class="se">\\</span><span class="s">u003C/b</span><span class="se">\\</span><span class="s">u003E&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-38"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-38">&#182;</a></div><p>length filter.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;length01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ list|length }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;list&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;4&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="p">{}]},</span> <span class="s">&#39;4&#39;</span><span class="p">),</span>
        <span class="s">&#39;length02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ list|length }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;list&#39;</span><span class="p">:</span> <span class="p">[]},</span> <span class="s">&#39;0&#39;</span><span class="p">),</span>
        <span class="s">&#39;length03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ string|length }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;string&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">},</span> <span class="s">&#39;0&#39;</span><span class="p">),</span>
        <span class="s">&#39;length04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ string|length }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;string&#39;</span><span class="p">:</span> <span class="s">&#39;django&#39;</span><span class="p">},</span> <span class="s">&#39;6&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-39"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-39">&#182;</a></div><p>Invalid uses that should fail silently.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;length05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ int|length }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;int&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
        <span class="s">&#39;length06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ None|length }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;None&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-40"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-40">&#182;</a></div><p>length_is filter.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;length_is01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">f some_list|length_is:&quot;4&quot; %}Four{</span><span class="si">% e</span><span class="s">ndif %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;some_list&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;4&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="p">{}]},</span> <span class="s">&#39;Four&#39;</span><span class="p">),</span>
        <span class="s">&#39;length_is02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">f some_list|length_is:&quot;4&quot; %}Four{</span><span class="si">% e</span><span class="s">lse %}Not Four{</span><span class="si">% e</span><span class="s">ndif %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;some_list&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;4&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="p">{},</span> <span class="mi">17</span><span class="p">]},</span> <span class="s">&#39;Not Four&#39;</span><span class="p">),</span>
        <span class="s">&#39;length_is03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">f mystring|length_is:&quot;4&quot; %}Four{</span><span class="si">% e</span><span class="s">ndif %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;mystring&#39;</span><span class="p">:</span> <span class="s">&#39;word&#39;</span><span class="p">},</span> <span class="s">&#39;Four&#39;</span><span class="p">),</span>
        <span class="s">&#39;length_is04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">f mystring|length_is:&quot;4&quot; %}Four{</span><span class="si">% e</span><span class="s">lse %}Not Four{</span><span class="si">% e</span><span class="s">ndif %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;mystring&#39;</span><span class="p">:</span> <span class="s">&#39;Python&#39;</span><span class="p">},</span> <span class="s">&#39;Not Four&#39;</span><span class="p">),</span>
        <span class="s">&#39;length_is05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{</span><span class="si">% i</span><span class="s">f mystring|length_is:&quot;4&quot; %}Four{</span><span class="si">% e</span><span class="s">lse %}Not Four{</span><span class="si">% e</span><span class="s">ndif %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;mystring&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">},</span> <span class="s">&#39;Not Four&#39;</span><span class="p">),</span>
        <span class="s">&#39;length_is06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{% with var|length as my_length %}{{ my_length }}{</span><span class="si">% e</span><span class="s">ndwith %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;var&#39;</span><span class="p">:</span> <span class="s">&#39;django&#39;</span><span class="p">},</span> <span class="s">&#39;6&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-41"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-41">&#182;</a></div><p>Boolean return value from length_is should not be coerced to a string</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;length_is07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{</span><span class="si">% i</span><span class="s">f &quot;X&quot;|length_is:0 %}Length is 0{</span><span class="si">% e</span><span class="s">lse %}Length not 0{</span><span class="si">% e</span><span class="s">ndif %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;Length not 0&#39;</span><span class="p">),</span>
        <span class="s">&#39;length_is08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{</span><span class="si">% i</span><span class="s">f &quot;X&quot;|length_is:1 %}Length is 1{</span><span class="si">% e</span><span class="s">lse %}Length not 1{</span><span class="si">% e</span><span class="s">ndif %}&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="s">&#39;Length is 1&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-42"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-42">&#182;</a></div><p>Invalid uses that should fail silently.</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;length_is09&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ var|length_is:&quot;fish&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;var&#39;</span><span class="p">:</span> <span class="s">&#39;django&#39;</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
        <span class="s">&#39;length_is10&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ int|length_is:&quot;1&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;int&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
        <span class="s">&#39;length_is11&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;{{ none|length_is:&quot;1&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;none&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>

        <span class="s">&#39;join01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ a|join:&quot;, &quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;alpha&#39;</span><span class="p">,</span> <span class="s">&#39;beta &amp; me&#39;</span><span class="p">]},</span> <span class="s">&#39;alpha, beta &amp;amp; me&#39;</span><span class="p">),</span>
        <span class="s">&#39;join02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{% autoescape off %}{{ a|join:&quot;, &quot; }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;alpha&#39;</span><span class="p">,</span> <span class="s">&#39;beta &amp; me&#39;</span><span class="p">]},</span> <span class="s">&#39;alpha, beta &amp; me&#39;</span><span class="p">),</span>
        <span class="s">&#39;join03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ a|join:&quot; &amp;amp; &quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;alpha&#39;</span><span class="p">,</span> <span class="s">&#39;beta &amp; me&#39;</span><span class="p">]},</span> <span class="s">&#39;alpha &amp;amp; beta &amp;amp; me&#39;</span><span class="p">),</span>
        <span class="s">&#39;join04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{% autoescape off %}{{ a|join:&quot; &amp;amp; &quot; }}{</span><span class="si">% e</span><span class="s">ndautoescape %}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;alpha&#39;</span><span class="p">,</span> <span class="s">&#39;beta &amp; me&#39;</span><span class="p">]},</span> <span class="s">&#39;alpha &amp;amp; beta &amp; me&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-43"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-43">&#182;</a></div><p>Test that joining with unsafe joiners don't result in unsafe strings (#11377)</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;join05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ a|join:var }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;alpha&#39;</span><span class="p">,</span> <span class="s">&#39;beta &amp; me&#39;</span><span class="p">],</span> <span class="s">&#39;var&#39;</span><span class="p">:</span> <span class="s">&#39; &amp; &#39;</span><span class="p">},</span> <span class="s">&#39;alpha &amp;amp; beta &amp;amp; me&#39;</span><span class="p">),</span> 
        <span class="s">&#39;join06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ a|join:var }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;alpha&#39;</span><span class="p">,</span> <span class="s">&#39;beta &amp; me&#39;</span><span class="p">],</span> <span class="s">&#39;var&#39;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&#39; &amp; &#39;</span><span class="p">)},</span> <span class="s">&#39;alpha &amp; beta &amp;amp; me&#39;</span><span class="p">),</span> 
        <span class="s">&#39;join07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ a|join:var|lower }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;Alpha&#39;</span><span class="p">,</span> <span class="s">&#39;Beta &amp; me&#39;</span><span class="p">],</span> <span class="s">&#39;var&#39;</span><span class="p">:</span> <span class="s">&#39; &amp; &#39;</span> <span class="p">},</span> <span class="s">&#39;alpha &amp;amp; beta &amp;amp; me&#39;</span><span class="p">),</span> 
        <span class="s">&#39;join08&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ a|join:var|lower }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;Alpha&#39;</span><span class="p">,</span> <span class="s">&#39;Beta &amp; me&#39;</span><span class="p">],</span> <span class="s">&#39;var&#39;</span><span class="p">:</span> <span class="n">mark_safe</span><span class="p">(</span><span class="s">&#39; &amp; &#39;</span><span class="p">)},</span> <span class="s">&#39;alpha &amp; beta &amp;amp; me&#39;</span><span class="p">),</span> 
        
        <span class="s">&#39;date01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ d|date:&quot;m&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;d&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2008</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)},</span> <span class="s">&#39;01&#39;</span><span class="p">),</span>
        <span class="s">&#39;date02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ d|date }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;d&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2008</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)},</span> <span class="s">&#39;Jan. 1, 2008&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-44"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-44">&#182;</a></div><p>Ticket 9520: Make sure |date doesn't blow up on non-dates</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;date03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ d|date:&quot;m&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;d&#39;</span><span class="p">:</span> <span class="s">&#39;fail_string&#39;</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-45"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-45">&#182;</a></div><p>ISO date formats</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;date04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ d|date:&quot;o&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;d&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2008</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">29</span><span class="p">)},</span> <span class="s">&#39;2009&#39;</span><span class="p">),</span>
        <span class="s">&#39;date05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ d|date:&quot;o&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;d&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2010</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)},</span> <span class="s">&#39;2009&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-46"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-46">&#182;</a></div><p>Timezone name</p></td><td class="code"><div class="highlight"><pre>        <span class="s">&#39;date06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ d|date:&quot;e&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;d&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">FixedOffset</span><span class="p">(</span><span class="mi">30</span><span class="p">))},</span> <span class="s">&#39;+0030&#39;</span><span class="p">),</span>
        <span class="s">&#39;date07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ d|date:&quot;e&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;d&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">12</span><span class="p">)},</span> <span class="s">&#39;&#39;</span><span class="p">),</span></pre></div></td></tr>


<tr id="section-47"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-47">&#182;</a></div><p>Tests for #11687 and #16676</p></td><td class="code"><div class="highlight"><pre>         <span class="s">&#39;add01&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ i|add:&quot;5&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;i&#39;</span><span class="p">:</span> <span class="mi">2000</span><span class="p">},</span> <span class="s">&#39;2005&#39;</span><span class="p">),</span>
         <span class="s">&#39;add02&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ i|add:&quot;napis&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;i&#39;</span><span class="p">:</span> <span class="mi">2000</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
         <span class="s">&#39;add03&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ i|add:16 }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;i&#39;</span><span class="p">:</span> <span class="s">&#39;not_an_int&#39;</span><span class="p">},</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
         <span class="s">&#39;add04&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ i|add:&quot;16&quot; }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;i&#39;</span><span class="p">:</span> <span class="s">&#39;not_an_int&#39;</span><span class="p">},</span> <span class="s">&#39;not_an_int16&#39;</span><span class="p">),</span>
         <span class="s">&#39;add05&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ l1|add:l2 }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;l1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s">&#39;l2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]},</span> <span class="s">&#39;[1, 2, 3, 4]&#39;</span><span class="p">),</span>
         <span class="s">&#39;add06&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ t1|add:t2 }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;t1&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="s">&#39;t2&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)},</span> <span class="s">&#39;(3, 4, 1, 2)&#39;</span><span class="p">),</span>
         <span class="s">&#39;add07&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">r&#39;{{ d|add:t }}&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;d&#39;</span><span class="p">:</span> <span class="n">date</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s">&#39;t&#39;</span><span class="p">:</span> <span class="n">timedelta</span><span class="p">(</span><span class="mi">10</span><span class="p">)},</span> <span class="s">&#39;Jan. 11, 2000&#39;</span><span class="p">),</span>
    <span class="p">}</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/django",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
