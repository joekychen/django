<!DOCTYPE html>
<html><head><title>joekychen/django » tests › regressiontests › localflavor › in_ › tests.py

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>tests.py</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">unicode_literals</span>

<span class="kn">from</span> <span class="nn">django.contrib.localflavor.in_.forms</span> <span class="kn">import</span> <span class="p">(</span><span class="n">INZipCodeField</span><span class="p">,</span>
    <span class="n">INStateField</span><span class="p">,</span> <span class="n">INStateSelect</span><span class="p">,</span> <span class="n">INPhoneNumberField</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">SimpleTestCase</span>



<span class="k">class</span> <span class="nc">INLocalFlavorTests</span><span class="p">(</span><span class="n">SimpleTestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_INPhoneNumberField</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">error_format</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Phone numbers must be in 02X-8X or 03X-7X or 04X-6X format.&#39;</span><span class="p">]</span>
        <span class="n">valid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;0423-2443667&#39;</span><span class="p">:</span> <span class="s">&#39;0423-2443667&#39;</span><span class="p">,</span>
            <span class="s">&#39;0423 2443667&#39;</span><span class="p">:</span> <span class="s">&#39;0423 2443667&#39;</span><span class="p">,</span>
            <span class="s">&#39;04236-244366&#39;</span><span class="p">:</span> <span class="s">&#39;04236-244366&#39;</span><span class="p">,</span>
            <span class="s">&#39;040-24436678&#39;</span><span class="p">:</span> <span class="s">&#39;040-24436678&#39;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;04-2443667&#39;</span><span class="p">:</span> <span class="n">error_format</span><span class="p">,</span>
            <span class="s">&#39;423-2443667&#39;</span><span class="p">:</span> <span class="n">error_format</span><span class="p">,</span>
            <span class="s">&#39;0423-9442667&#39;</span><span class="p">:</span> <span class="n">error_format</span><span class="p">,</span>
            <span class="s">&#39;0423-0443667&#39;</span><span class="p">:</span> <span class="n">error_format</span><span class="p">,</span>
            <span class="s">&#39;0423-244366&#39;</span><span class="p">:</span> <span class="n">error_format</span><span class="p">,</span>
            <span class="s">&#39;04232442667&#39;</span><span class="p">:</span> <span class="n">error_format</span><span class="p">,</span>
            <span class="s">&#39;0423DJANGO&#39;</span><span class="p">:</span> <span class="n">error_format</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFieldOutput</span><span class="p">(</span><span class="n">INPhoneNumberField</span><span class="p">,</span> <span class="n">valid</span><span class="p">,</span> <span class="n">invalid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_INPStateSelect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">INStateSelect</span><span class="p">()</span>
        <span class="n">out</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;&lt;select name=&quot;state&quot;&gt;</span>
<span class="s">&lt;option value=&quot;KA&quot;&gt;Karnataka&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;AP&quot; selected=&quot;selected&quot;&gt;Andhra Pradesh&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;KL&quot;&gt;Kerala&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;TN&quot;&gt;Tamil Nadu&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;MH&quot;&gt;Maharashtra&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;UP&quot;&gt;Uttar Pradesh&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;GA&quot;&gt;Goa&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;GJ&quot;&gt;Gujarat&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;RJ&quot;&gt;Rajasthan&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;HP&quot;&gt;Himachal Pradesh&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;JK&quot;&gt;Jammu and Kashmir&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;AR&quot;&gt;Arunachal Pradesh&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;AS&quot;&gt;Assam&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;BR&quot;&gt;Bihar&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CG&quot;&gt;Chattisgarh&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;HR&quot;&gt;Haryana&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;JH&quot;&gt;Jharkhand&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;MP&quot;&gt;Madhya Pradesh&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;MN&quot;&gt;Manipur&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;ML&quot;&gt;Meghalaya&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;MZ&quot;&gt;Mizoram&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;NL&quot;&gt;Nagaland&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;OR&quot;&gt;Orissa&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;PB&quot;&gt;Punjab&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;SK&quot;&gt;Sikkim&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;TR&quot;&gt;Tripura&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;UA&quot;&gt;Uttarakhand&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;WB&quot;&gt;West Bengal&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;AN&quot;&gt;Andaman and Nicobar&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CH&quot;&gt;Chandigarh&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DN&quot;&gt;Dadra and Nagar Haveli&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DD&quot;&gt;Daman and Diu&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DL&quot;&gt;Delhi&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;LD&quot;&gt;Lakshadweep&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;PY&quot;&gt;Pondicherry&lt;/option&gt;</span>
<span class="s">&lt;/select&gt;&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertHTMLEqual</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s">&#39;state&#39;</span><span class="p">,</span> <span class="s">&#39;AP&#39;</span><span class="p">),</span> <span class="n">out</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_INZipCodeField</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">error_format</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Enter a zip code in the format XXXXXX or XXX XXX.&#39;</span><span class="p">]</span>
        <span class="n">valid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;360311&#39;</span><span class="p">:</span> <span class="s">&#39;360311&#39;</span><span class="p">,</span>
            <span class="s">&#39;360 311&#39;</span><span class="p">:</span> <span class="s">&#39;360311&#39;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;36 0311&#39;</span><span class="p">:</span> <span class="n">error_format</span><span class="p">,</span>
            <span class="s">&#39;3603111&#39;</span><span class="p">:</span> <span class="n">error_format</span><span class="p">,</span>
            <span class="s">&#39;360 31&#39;</span><span class="p">:</span> <span class="n">error_format</span><span class="p">,</span>
            <span class="s">&#39;36031&#39;</span><span class="p">:</span> <span class="n">error_format</span><span class="p">,</span>
            <span class="s">&#39;O2B 2R3&#39;</span><span class="p">:</span> <span class="n">error_format</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFieldOutput</span><span class="p">(</span><span class="n">INZipCodeField</span><span class="p">,</span> <span class="n">valid</span><span class="p">,</span> <span class="n">invalid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_INStateField</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">error_format</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Enter an Indian state or territory.&#39;</span><span class="p">]</span>
        <span class="n">valid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;an&#39;</span><span class="p">:</span> <span class="s">&#39;AN&#39;</span><span class="p">,</span>
            <span class="s">&#39;AN&#39;</span><span class="p">:</span> <span class="s">&#39;AN&#39;</span><span class="p">,</span>
            <span class="s">&#39;andaman and nicobar&#39;</span><span class="p">:</span> <span class="s">&#39;AN&#39;</span><span class="p">,</span>
            <span class="s">&#39;andra pradesh&#39;</span><span class="p">:</span> <span class="s">&#39;AP&#39;</span><span class="p">,</span>
            <span class="s">&#39;andrapradesh&#39;</span><span class="p">:</span> <span class="s">&#39;AP&#39;</span><span class="p">,</span>
            <span class="s">&#39;andhrapradesh&#39;</span><span class="p">:</span> <span class="s">&#39;AP&#39;</span><span class="p">,</span>
            <span class="s">&#39;ap&#39;</span><span class="p">:</span> <span class="s">&#39;AP&#39;</span><span class="p">,</span>
            <span class="s">&#39;andhra pradesh&#39;</span><span class="p">:</span> <span class="s">&#39;AP&#39;</span><span class="p">,</span>
            <span class="s">&#39;ar&#39;</span><span class="p">:</span> <span class="s">&#39;AR&#39;</span><span class="p">,</span>
            <span class="s">&#39;arunachal pradesh&#39;</span><span class="p">:</span> <span class="s">&#39;AR&#39;</span><span class="p">,</span>
            <span class="s">&#39;assam&#39;</span><span class="p">:</span> <span class="s">&#39;AS&#39;</span><span class="p">,</span>
            <span class="s">&#39;as&#39;</span><span class="p">:</span> <span class="s">&#39;AS&#39;</span><span class="p">,</span>
            <span class="s">&#39;bihar&#39;</span><span class="p">:</span> <span class="s">&#39;BR&#39;</span><span class="p">,</span>
            <span class="s">&#39;br&#39;</span><span class="p">:</span> <span class="s">&#39;BR&#39;</span><span class="p">,</span>
            <span class="s">&#39;cg&#39;</span><span class="p">:</span> <span class="s">&#39;CG&#39;</span><span class="p">,</span>
            <span class="s">&#39;chattisgarh&#39;</span><span class="p">:</span> <span class="s">&#39;CG&#39;</span><span class="p">,</span>
            <span class="s">&#39;ch&#39;</span><span class="p">:</span> <span class="s">&#39;CH&#39;</span><span class="p">,</span>
            <span class="s">&#39;chandigarh&#39;</span><span class="p">:</span> <span class="s">&#39;CH&#39;</span><span class="p">,</span>
            <span class="s">&#39;daman and diu&#39;</span><span class="p">:</span> <span class="s">&#39;DD&#39;</span><span class="p">,</span>
            <span class="s">&#39;dd&#39;</span><span class="p">:</span> <span class="s">&#39;DD&#39;</span><span class="p">,</span>
            <span class="s">&#39;dl&#39;</span><span class="p">:</span> <span class="s">&#39;DL&#39;</span><span class="p">,</span>
            <span class="s">&#39;delhi&#39;</span><span class="p">:</span> <span class="s">&#39;DL&#39;</span><span class="p">,</span>
            <span class="s">&#39;dn&#39;</span><span class="p">:</span> <span class="s">&#39;DN&#39;</span><span class="p">,</span>
            <span class="s">&#39;dadra and nagar haveli&#39;</span><span class="p">:</span> <span class="s">&#39;DN&#39;</span><span class="p">,</span>
            <span class="s">&#39;ga&#39;</span><span class="p">:</span> <span class="s">&#39;GA&#39;</span><span class="p">,</span>
            <span class="s">&#39;goa&#39;</span><span class="p">:</span> <span class="s">&#39;GA&#39;</span><span class="p">,</span>
            <span class="s">&#39;gj&#39;</span><span class="p">:</span> <span class="s">&#39;GJ&#39;</span><span class="p">,</span>
            <span class="s">&#39;gujarat&#39;</span><span class="p">:</span> <span class="s">&#39;GJ&#39;</span><span class="p">,</span>
            <span class="s">&#39;himachal pradesh&#39;</span><span class="p">:</span> <span class="s">&#39;HP&#39;</span><span class="p">,</span>
            <span class="s">&#39;hp&#39;</span><span class="p">:</span> <span class="s">&#39;HP&#39;</span><span class="p">,</span>
            <span class="s">&#39;hr&#39;</span><span class="p">:</span> <span class="s">&#39;HR&#39;</span><span class="p">,</span>
            <span class="s">&#39;haryana&#39;</span><span class="p">:</span> <span class="s">&#39;HR&#39;</span><span class="p">,</span>
            <span class="s">&#39;jharkhand&#39;</span><span class="p">:</span> <span class="s">&#39;JH&#39;</span><span class="p">,</span>
            <span class="s">&#39;jh&#39;</span><span class="p">:</span> <span class="s">&#39;JH&#39;</span><span class="p">,</span>
            <span class="s">&#39;jammu and kashmir&#39;</span><span class="p">:</span> <span class="s">&#39;JK&#39;</span><span class="p">,</span>
            <span class="s">&#39;jk&#39;</span><span class="p">:</span> <span class="s">&#39;JK&#39;</span><span class="p">,</span>
            <span class="s">&#39;karnataka&#39;</span><span class="p">:</span> <span class="s">&#39;KA&#39;</span><span class="p">,</span>
            <span class="s">&#39;karnatka&#39;</span><span class="p">:</span> <span class="s">&#39;KA&#39;</span><span class="p">,</span>
            <span class="s">&#39;ka&#39;</span><span class="p">:</span> <span class="s">&#39;KA&#39;</span><span class="p">,</span>
            <span class="s">&#39;kerala&#39;</span><span class="p">:</span> <span class="s">&#39;KL&#39;</span><span class="p">,</span>
            <span class="s">&#39;kl&#39;</span><span class="p">:</span> <span class="s">&#39;KL&#39;</span><span class="p">,</span>
            <span class="s">&#39;ld&#39;</span><span class="p">:</span> <span class="s">&#39;LD&#39;</span><span class="p">,</span>
            <span class="s">&#39;lakshadweep&#39;</span><span class="p">:</span> <span class="s">&#39;LD&#39;</span><span class="p">,</span>
            <span class="s">&#39;maharastra&#39;</span><span class="p">:</span> <span class="s">&#39;MH&#39;</span><span class="p">,</span>
            <span class="s">&#39;mh&#39;</span><span class="p">:</span> <span class="s">&#39;MH&#39;</span><span class="p">,</span>
            <span class="s">&#39;maharashtra&#39;</span><span class="p">:</span> <span class="s">&#39;MH&#39;</span><span class="p">,</span>
            <span class="s">&#39;meghalaya&#39;</span><span class="p">:</span> <span class="s">&#39;ML&#39;</span><span class="p">,</span>
            <span class="s">&#39;ml&#39;</span><span class="p">:</span> <span class="s">&#39;ML&#39;</span><span class="p">,</span>
            <span class="s">&#39;mn&#39;</span><span class="p">:</span> <span class="s">&#39;MN&#39;</span><span class="p">,</span>
            <span class="s">&#39;manipur&#39;</span><span class="p">:</span> <span class="s">&#39;MN&#39;</span><span class="p">,</span>
            <span class="s">&#39;madhya pradesh&#39;</span><span class="p">:</span> <span class="s">&#39;MP&#39;</span><span class="p">,</span>
            <span class="s">&#39;mp&#39;</span><span class="p">:</span> <span class="s">&#39;MP&#39;</span><span class="p">,</span>
            <span class="s">&#39;mizoram&#39;</span><span class="p">:</span> <span class="s">&#39;MZ&#39;</span><span class="p">,</span>
            <span class="s">&#39;mizo&#39;</span><span class="p">:</span> <span class="s">&#39;MZ&#39;</span><span class="p">,</span>
            <span class="s">&#39;mz&#39;</span><span class="p">:</span> <span class="s">&#39;MZ&#39;</span><span class="p">,</span>
            <span class="s">&#39;nl&#39;</span><span class="p">:</span> <span class="s">&#39;NL&#39;</span><span class="p">,</span>
            <span class="s">&#39;nagaland&#39;</span><span class="p">:</span> <span class="s">&#39;NL&#39;</span><span class="p">,</span>
            <span class="s">&#39;orissa&#39;</span><span class="p">:</span> <span class="s">&#39;OR&#39;</span><span class="p">,</span>
            <span class="s">&#39;odisa&#39;</span><span class="p">:</span> <span class="s">&#39;OR&#39;</span><span class="p">,</span>
            <span class="s">&#39;orisa&#39;</span><span class="p">:</span> <span class="s">&#39;OR&#39;</span><span class="p">,</span>
            <span class="s">&#39;or&#39;</span><span class="p">:</span> <span class="s">&#39;OR&#39;</span><span class="p">,</span>
            <span class="s">&#39;pb&#39;</span><span class="p">:</span> <span class="s">&#39;PB&#39;</span><span class="p">,</span>
            <span class="s">&#39;punjab&#39;</span><span class="p">:</span> <span class="s">&#39;PB&#39;</span><span class="p">,</span>
            <span class="s">&#39;py&#39;</span><span class="p">:</span> <span class="s">&#39;PY&#39;</span><span class="p">,</span>
            <span class="s">&#39;pondicherry&#39;</span><span class="p">:</span> <span class="s">&#39;PY&#39;</span><span class="p">,</span>
            <span class="s">&#39;rajasthan&#39;</span><span class="p">:</span> <span class="s">&#39;RJ&#39;</span><span class="p">,</span>
            <span class="s">&#39;rajastan&#39;</span><span class="p">:</span> <span class="s">&#39;RJ&#39;</span><span class="p">,</span>
            <span class="s">&#39;rj&#39;</span><span class="p">:</span> <span class="s">&#39;RJ&#39;</span><span class="p">,</span>
            <span class="s">&#39;sikkim&#39;</span><span class="p">:</span> <span class="s">&#39;SK&#39;</span><span class="p">,</span>
            <span class="s">&#39;sk&#39;</span><span class="p">:</span> <span class="s">&#39;SK&#39;</span><span class="p">,</span>
            <span class="s">&#39;tamil nadu&#39;</span><span class="p">:</span> <span class="s">&#39;TN&#39;</span><span class="p">,</span>
            <span class="s">&#39;tn&#39;</span><span class="p">:</span> <span class="s">&#39;TN&#39;</span><span class="p">,</span>
            <span class="s">&#39;tamilnadu&#39;</span><span class="p">:</span> <span class="s">&#39;TN&#39;</span><span class="p">,</span>
            <span class="s">&#39;tamilnad&#39;</span><span class="p">:</span> <span class="s">&#39;TN&#39;</span><span class="p">,</span>
            <span class="s">&#39;tr&#39;</span><span class="p">:</span> <span class="s">&#39;TR&#39;</span><span class="p">,</span>
            <span class="s">&#39;tripura&#39;</span><span class="p">:</span> <span class="s">&#39;TR&#39;</span><span class="p">,</span>
            <span class="s">&#39;ua&#39;</span><span class="p">:</span> <span class="s">&#39;UA&#39;</span><span class="p">,</span>
            <span class="s">&#39;uttarakhand&#39;</span><span class="p">:</span> <span class="s">&#39;UA&#39;</span><span class="p">,</span>
            <span class="s">&#39;up&#39;</span><span class="p">:</span> <span class="s">&#39;UP&#39;</span><span class="p">,</span>
            <span class="s">&#39;uttar pradesh&#39;</span><span class="p">:</span> <span class="s">&#39;UP&#39;</span><span class="p">,</span>
            <span class="s">&#39;westbengal&#39;</span><span class="p">:</span> <span class="s">&#39;WB&#39;</span><span class="p">,</span>
            <span class="s">&#39;bengal&#39;</span><span class="p">:</span> <span class="s">&#39;WB&#39;</span><span class="p">,</span>
            <span class="s">&#39;wb&#39;</span><span class="p">:</span> <span class="s">&#39;WB&#39;</span><span class="p">,</span>
            <span class="s">&#39;west bengal&#39;</span><span class="p">:</span> <span class="s">&#39;WB&#39;</span>
        <span class="p">}</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;florida&#39;</span><span class="p">:</span> <span class="n">error_format</span><span class="p">,</span>
            <span class="s">&#39;FL&#39;</span><span class="p">:</span> <span class="n">error_format</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFieldOutput</span><span class="p">(</span><span class="n">INStateField</span><span class="p">,</span> <span class="n">valid</span><span class="p">,</span> <span class="n">invalid</span><span class="p">)</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/django",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
