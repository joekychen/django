<!DOCTYPE html>
<html><head><title>joekychen/django » tests › regressiontests › localflavor › mk › tests.py

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>tests.py</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div><p>-<em>- encoding: utf-8 -</em>-</p></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">absolute_import</span><span class="p">,</span> <span class="n">unicode_literals</span>

<span class="kn">from</span> <span class="nn">django.contrib.localflavor.mk.forms</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">MKIdentityCardNumberField</span><span class="p">,</span> <span class="n">MKMunicipalitySelect</span><span class="p">,</span> <span class="n">UMCNField</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">SimpleTestCase</span>

<span class="kn">from</span> <span class="nn">.forms</span> <span class="kn">import</span> <span class="n">MKPersonForm</span>


<span class="k">class</span> <span class="nc">MKLocalFlavorTests</span><span class="p">(</span><span class="n">SimpleTestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">form</span> <span class="o">=</span> <span class="n">MKPersonForm</span><span class="p">({</span>
            <span class="s">&#39;first_name&#39;</span><span class="p">:</span><span class="s">&#39;Someone&#39;</span><span class="p">,</span>
            <span class="s">&#39;last_name&#39;</span><span class="p">:</span><span class="s">&#39;Something&#39;</span><span class="p">,</span>
            <span class="s">&#39;umcn&#39;</span><span class="p">:</span> <span class="s">&#39;2402983450006&#39;</span><span class="p">,</span>
            <span class="s">&#39;municipality&#39;</span><span class="p">:</span><span class="s">&#39;OD&#39;</span><span class="p">,</span>
            <span class="s">&#39;municipality_req&#39;</span><span class="p">:</span><span class="s">&#39;VE&#39;</span><span class="p">,</span>
            <span class="s">&#39;id_number&#39;</span><span class="p">:</span><span class="s">&#39;A1234567&#39;</span><span class="p">,</span>
        <span class="p">})</span>

    <span class="k">def</span> <span class="nf">test_get_display_methods</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test that the get_*_display() methods are added to the model instances.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">person</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">get_municipality_display</span><span class="p">(),</span> <span class="s">&#39;Ohrid&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">get_municipality_req_display</span><span class="p">(),</span> <span class="s">&#39;Veles&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_municipality_required</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test that required MKMunicipalityFields throw appropriate errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">form</span> <span class="o">=</span> <span class="n">MKPersonForm</span><span class="p">({</span>
            <span class="s">&#39;first_name&#39;</span><span class="p">:</span><span class="s">&#39;Someone&#39;</span><span class="p">,</span>
            <span class="s">&#39;last_name&#39;</span><span class="p">:</span><span class="s">&#39;Something&#39;</span><span class="p">,</span>
            <span class="s">&#39;umcn&#39;</span><span class="p">:</span> <span class="s">&#39;2402983450006&#39;</span><span class="p">,</span>
            <span class="s">&#39;municipality&#39;</span><span class="p">:</span><span class="s">&#39;OD&#39;</span><span class="p">,</span>
            <span class="s">&#39;id_number&#39;</span><span class="p">:</span><span class="s">&#39;A1234567&#39;</span><span class="p">,</span>
        <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">form</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span><span class="s">&#39;municipality_req&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;This field is required.&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">test_umcn_invalid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test that UMCNFields throw appropriate errors for invalid UMCNs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">MKPersonForm</span><span class="p">({</span>
            <span class="s">&#39;first_name&#39;</span><span class="p">:</span><span class="s">&#39;Someone&#39;</span><span class="p">,</span>
            <span class="s">&#39;last_name&#39;</span><span class="p">:</span><span class="s">&#39;Something&#39;</span><span class="p">,</span>
            <span class="s">&#39;umcn&#39;</span><span class="p">:</span> <span class="s">&#39;2402983450007&#39;</span><span class="p">,</span>
            <span class="s">&#39;municipality&#39;</span><span class="p">:</span><span class="s">&#39;OD&#39;</span><span class="p">,</span>
            <span class="s">&#39;municipality_req&#39;</span><span class="p">:</span><span class="s">&#39;VE&#39;</span><span class="p">,</span>
            <span class="s">&#39;id_number&#39;</span><span class="p">:</span><span class="s">&#39;A1234567&#39;</span><span class="p">,</span>
        <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span><span class="s">&#39;umcn&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;The UMCN is not valid.&#39;</span><span class="p">])</span>

        <span class="n">form</span> <span class="o">=</span> <span class="n">MKPersonForm</span><span class="p">({</span>
            <span class="s">&#39;first_name&#39;</span><span class="p">:</span><span class="s">&#39;Someone&#39;</span><span class="p">,</span>
            <span class="s">&#39;last_name&#39;</span><span class="p">:</span><span class="s">&#39;Something&#39;</span><span class="p">,</span>
            <span class="s">&#39;umcn&#39;</span><span class="p">:</span> <span class="s">&#39;3002983450007&#39;</span><span class="p">,</span>
            <span class="s">&#39;municipality&#39;</span><span class="p">:</span><span class="s">&#39;OD&#39;</span><span class="p">,</span>
            <span class="s">&#39;municipality_req&#39;</span><span class="p">:</span><span class="s">&#39;VE&#39;</span><span class="p">,</span>
            <span class="s">&#39;id_number&#39;</span><span class="p">:</span><span class="s">&#39;A1234567&#39;</span><span class="p">,</span>
        <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span><span class="s">&#39;umcn&#39;</span><span class="p">],</span>
                <span class="p">[</span><span class="s">&#39;The first 7 digits of the UMCN must represent a valid past date.&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">test_idnumber_invalid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test that MKIdentityCardNumberFields throw</span>
<span class="sd">        appropriate errors for invalid values</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">form</span> <span class="o">=</span> <span class="n">MKPersonForm</span><span class="p">({</span>
            <span class="s">&#39;first_name&#39;</span><span class="p">:</span><span class="s">&#39;Someone&#39;</span><span class="p">,</span>
            <span class="s">&#39;last_name&#39;</span><span class="p">:</span><span class="s">&#39;Something&#39;</span><span class="p">,</span>
            <span class="s">&#39;umcn&#39;</span><span class="p">:</span> <span class="s">&#39;2402983450007&#39;</span><span class="p">,</span>
            <span class="s">&#39;municipality&#39;</span><span class="p">:</span><span class="s">&#39;OD&#39;</span><span class="p">,</span>
            <span class="s">&#39;municipality_req&#39;</span><span class="p">:</span><span class="s">&#39;VE&#39;</span><span class="p">,</span>
            <span class="s">&#39;id_number&#39;</span><span class="p">:</span><span class="s">&#39;A123456a&#39;</span><span class="p">,</span>
        <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span><span class="s">&#39;id_number&#39;</span><span class="p">],</span>
            <span class="p">[</span><span class="s">&#39;Identity card numbers must contain either 4 to 7 &#39;</span>
             <span class="s">&#39;digits or an uppercase letter and 7 digits.&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">test_field_blank_option</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test that the empty option is there.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">municipality_select_html</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s">&lt;select name=&quot;municipality&quot; id=&quot;id_municipality&quot;&gt;</span>
<span class="s">&lt;option value=&quot;&quot;&gt;---------&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;AD&quot;&gt;Aerodrom&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;AR&quot;&gt;Aračinovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;BR&quot;&gt;Berovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;TL&quot;&gt;Bitola&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;BG&quot;&gt;Bogdanci&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VJ&quot;&gt;Bogovinje&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;BS&quot;&gt;Bosilovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;BN&quot;&gt;Brvenica&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;BU&quot;&gt;Butel&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VA&quot;&gt;Valandovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VL&quot;&gt;Vasilevo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VV&quot;&gt;Vevčani&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VE&quot;&gt;Veles&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;NI&quot;&gt;Vinica&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VC&quot;&gt;Vraneštica&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VH&quot;&gt;Vrapčište&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;GB&quot;&gt;Gazi Baba&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;GV&quot;&gt;Gevgelija&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;GT&quot;&gt;Gostivar&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;GR&quot;&gt;Gradsko&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DB&quot;&gt;Debar&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DA&quot;&gt;Debarca&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DL&quot;&gt;Delčevo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DK&quot;&gt;Demir Kapija&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DM&quot;&gt;Demir Hisar&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DE&quot;&gt;Dolneni&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DR&quot;&gt;Drugovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;GP&quot;&gt;Gjorče Petrov&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;ZE&quot;&gt;Želino&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;ZA&quot;&gt;Zajas&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;ZK&quot;&gt;Zelenikovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;ZR&quot;&gt;Zrnovci&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;IL&quot;&gt;Ilinden&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;JG&quot;&gt;Jegunovce&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;AV&quot;&gt;Kavadarci&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;KB&quot;&gt;Karbinci&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;KX&quot;&gt;Karpoš&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VD&quot;&gt;Kisela Voda&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;KH&quot;&gt;Kičevo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;KN&quot;&gt;Konče&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;OC&quot;&gt;Koćani&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;KY&quot;&gt;Kratovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;KZ&quot;&gt;Kriva Palanka&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;KG&quot;&gt;Krivogaštani&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;KS&quot;&gt;Kruševo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;UM&quot;&gt;Kumanovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;LI&quot;&gt;Lipkovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;LO&quot;&gt;Lozovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;MR&quot;&gt;Mavrovo i Rostuša&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;MK&quot;&gt;Makedonska Kamenica&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;MD&quot;&gt;Makedonski Brod&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;MG&quot;&gt;Mogila&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;NG&quot;&gt;Negotino&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;NV&quot;&gt;Novaci&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;NS&quot;&gt;Novo Selo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;OS&quot;&gt;Oslomej&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;OD&quot; selected=&quot;selected&quot;&gt;Ohrid&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;PE&quot;&gt;Petrovec&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;PH&quot;&gt;Pehčevo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;PN&quot;&gt;Plasnica&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;PP&quot;&gt;Prilep&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;PT&quot;&gt;Probištip&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;RV&quot;&gt;Radoviš&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;RN&quot;&gt;Rankovce&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;RE&quot;&gt;Resen&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;RO&quot;&gt;Rosoman&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;AJ&quot;&gt;Saraj&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;SL&quot;&gt;Sveti Nikole&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;SS&quot;&gt;Sopište&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;SD&quot;&gt;Star Dojran&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;NA&quot;&gt;Staro Nagoričane&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;UG&quot;&gt;Struga&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;RU&quot;&gt;Strumica&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;SU&quot;&gt;Studeničani&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;TR&quot;&gt;Tearce&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;ET&quot;&gt;Tetovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CE&quot;&gt;Centar&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CZ&quot;&gt;Centar-Župa&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CI&quot;&gt;Čair&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CA&quot;&gt;Čaška&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CH&quot;&gt;Češinovo-Obleševo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CS&quot;&gt;Čučer-Sandevo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;ST&quot;&gt;Štip&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;SO&quot;&gt;Šuto Orizari&lt;/option&gt;</span>
<span class="s">&lt;/select&gt;&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertHTMLEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s">&#39;municipality&#39;</span><span class="p">]),</span> <span class="n">municipality_select_html</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_MKIdentityCardNumberField</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">error_invalid</span>  <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Identity card numbers must contain either 4 to 7 &#39;</span>
                          <span class="s">&#39;digits or an uppercase letter and 7 digits.&#39;</span><span class="p">]</span>
        <span class="n">valid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;L0018077&#39;</span><span class="p">:</span><span class="s">&#39;L0018077&#39;</span><span class="p">,</span>
            <span class="s">&#39;A0078315&#39;</span> <span class="p">:</span> <span class="s">&#39;A0078315&#39;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;123&#39;</span><span class="p">:</span> <span class="n">error_invalid</span><span class="p">,</span>
            <span class="s">&#39;abcdf&#39;</span><span class="p">:</span> <span class="n">error_invalid</span><span class="p">,</span>
            <span class="s">&#39;234390a&#39;</span><span class="p">:</span> <span class="n">error_invalid</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFieldOutput</span><span class="p">(</span><span class="n">MKIdentityCardNumberField</span><span class="p">,</span> <span class="n">valid</span><span class="p">,</span> <span class="n">invalid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_MKMunicipalitySelect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">MKMunicipalitySelect</span><span class="p">()</span>
        <span class="n">out</span><span class="o">=</span><span class="s">&#39;&#39;&#39;&lt;select name=&quot;municipality&quot;&gt;</span>
<span class="s">&lt;option value=&quot;AD&quot;&gt;Aerodrom&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;AR&quot;&gt;Ara</span><span class="se">\u010d</span><span class="s">inovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;BR&quot;&gt;Berovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;TL&quot;&gt;Bitola&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;BG&quot;&gt;Bogdanci&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VJ&quot;&gt;Bogovinje&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;BS&quot;&gt;Bosilovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;BN&quot;&gt;Brvenica&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;BU&quot;&gt;Butel&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VA&quot;&gt;Valandovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VL&quot;&gt;Vasilevo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VV&quot;&gt;Vev</span><span class="se">\u010d</span><span class="s">ani&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VE&quot;&gt;Veles&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;NI&quot;&gt;Vinica&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VC&quot;&gt;Vrane</span><span class="se">\u0161</span><span class="s">tica&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VH&quot;&gt;Vrap</span><span class="se">\u010d</span><span class="s">i</span><span class="se">\u0161</span><span class="s">te&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;GB&quot;&gt;Gazi Baba&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;GV&quot;&gt;Gevgelija&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;GT&quot;&gt;Gostivar&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;GR&quot;&gt;Gradsko&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DB&quot;&gt;Debar&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DA&quot;&gt;Debarca&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DL&quot; selected=&quot;selected&quot;&gt;Del</span><span class="se">\u010d</span><span class="s">evo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DK&quot;&gt;Demir Kapija&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DM&quot;&gt;Demir Hisar&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DE&quot;&gt;Dolneni&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DR&quot;&gt;Drugovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;GP&quot;&gt;Gjor</span><span class="se">\u010d</span><span class="s">e Petrov&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;ZE&quot;&gt;</span><span class="se">\u017d</span><span class="s">elino&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;ZA&quot;&gt;Zajas&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;ZK&quot;&gt;Zelenikovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;ZR&quot;&gt;Zrnovci&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;IL&quot;&gt;Ilinden&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;JG&quot;&gt;Jegunovce&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;AV&quot;&gt;Kavadarci&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;KB&quot;&gt;Karbinci&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;KX&quot;&gt;Karpo</span><span class="se">\u0161</span><span class="s">&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VD&quot;&gt;Kisela Voda&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;KH&quot;&gt;Ki</span><span class="se">\u010d</span><span class="s">evo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;KN&quot;&gt;Kon</span><span class="se">\u010d</span><span class="s">e&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;OC&quot;&gt;Ko</span><span class="se">\u0107</span><span class="s">ani&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;KY&quot;&gt;Kratovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;KZ&quot;&gt;Kriva Palanka&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;KG&quot;&gt;Krivoga</span><span class="se">\u0161</span><span class="s">tani&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;KS&quot;&gt;Kru</span><span class="se">\u0161</span><span class="s">evo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;UM&quot;&gt;Kumanovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;LI&quot;&gt;Lipkovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;LO&quot;&gt;Lozovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;MR&quot;&gt;Mavrovo i Rostu</span><span class="se">\u0161</span><span class="s">a&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;MK&quot;&gt;Makedonska Kamenica&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;MD&quot;&gt;Makedonski Brod&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;MG&quot;&gt;Mogila&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;NG&quot;&gt;Negotino&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;NV&quot;&gt;Novaci&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;NS&quot;&gt;Novo Selo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;OS&quot;&gt;Oslomej&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;OD&quot;&gt;Ohrid&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;PE&quot;&gt;Petrovec&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;PH&quot;&gt;Peh</span><span class="se">\u010d</span><span class="s">evo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;PN&quot;&gt;Plasnica&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;PP&quot;&gt;Prilep&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;PT&quot;&gt;Probi</span><span class="se">\u0161</span><span class="s">tip&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;RV&quot;&gt;Radovi</span><span class="se">\u0161</span><span class="s">&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;RN&quot;&gt;Rankovce&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;RE&quot;&gt;Resen&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;RO&quot;&gt;Rosoman&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;AJ&quot;&gt;Saraj&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;SL&quot;&gt;Sveti Nikole&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;SS&quot;&gt;Sopi</span><span class="se">\u0161</span><span class="s">te&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;SD&quot;&gt;Star Dojran&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;NA&quot;&gt;Staro Nagori</span><span class="se">\u010d</span><span class="s">ane&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;UG&quot;&gt;Struga&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;RU&quot;&gt;Strumica&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;SU&quot;&gt;Studeni</span><span class="se">\u010d</span><span class="s">ani&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;TR&quot;&gt;Tearce&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;ET&quot;&gt;Tetovo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CE&quot;&gt;Centar&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CZ&quot;&gt;Centar-</span><span class="se">\u017d</span><span class="s">upa&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CI&quot;&gt;</span><span class="se">\u010c</span><span class="s">air&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CA&quot;&gt;</span><span class="se">\u010c</span><span class="s">a</span><span class="se">\u0161</span><span class="s">ka&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CH&quot;&gt;</span><span class="se">\u010c</span><span class="s">e</span><span class="se">\u0161</span><span class="s">inovo-Oble</span><span class="se">\u0161</span><span class="s">evo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CS&quot;&gt;</span><span class="se">\u010c</span><span class="s">u</span><span class="se">\u010d</span><span class="s">er-Sandevo&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;ST&quot;&gt;</span><span class="se">\u0160</span><span class="s">tip&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;SO&quot;&gt;</span><span class="se">\u0160</span><span class="s">uto Orizari&lt;/option&gt;</span>
<span class="s">&lt;/select&gt;&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertHTMLEqual</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s">&#39;municipality&#39;</span><span class="p">,</span> <span class="s">&#39;DL&#39;</span> <span class="p">),</span> <span class="n">out</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_UMCNField</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">error_invalid</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;This field should contain exactly 13 digits.&#39;</span><span class="p">]</span>
        <span class="n">error_checksum</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;The UMCN is not valid.&#39;</span><span class="p">]</span>
        <span class="n">error_date</span> <span class="o">=</span>  <span class="p">[</span><span class="s">&#39;The first 7 digits of the UMCN &#39;</span>
                       <span class="s">&#39;must represent a valid past date.&#39;</span><span class="p">]</span>
        <span class="n">valid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;2402983450006&#39;</span><span class="p">:</span> <span class="s">&#39;2402983450006&#39;</span><span class="p">,</span>
            <span class="s">&#39;2803984430038&#39;</span><span class="p">:</span> <span class="s">&#39;2803984430038&#39;</span><span class="p">,</span>
            <span class="s">&#39;1909982045004&#39;</span><span class="p">:</span> <span class="s">&#39;1909982045004&#39;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;240298345&#39;</span><span class="p">:</span> <span class="n">error_invalid</span><span class="p">,</span>
            <span class="s">&#39;abcdefghj&#39;</span><span class="p">:</span> <span class="n">error_invalid</span><span class="p">,</span>
            <span class="s">&#39;2402082450006&#39;</span><span class="p">:</span> <span class="n">error_date</span><span class="p">,</span>
            <span class="s">&#39;3002982450006&#39;</span><span class="p">:</span> <span class="n">error_date</span><span class="p">,</span>
            <span class="s">&#39;2402983450007&#39;</span><span class="p">:</span> <span class="n">error_checksum</span><span class="p">,</span>
            <span class="s">&#39;2402982450006&#39;</span><span class="p">:</span> <span class="n">error_checksum</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFieldOutput</span><span class="p">(</span><span class="n">UMCNField</span><span class="p">,</span> <span class="n">valid</span><span class="p">,</span> <span class="n">invalid</span><span class="p">)</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/django",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
