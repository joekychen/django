<!DOCTYPE html>
<html><head><title>joekychen/django » tests › regressiontests › localflavor › ro › tests.py

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>tests.py</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div><p>-<em>- coding: utf-8 -</em>-</p></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">unicode_literals</span>

<span class="kn">from</span> <span class="nn">django.contrib.localflavor.ro.forms</span> <span class="kn">import</span> <span class="p">(</span><span class="n">ROCIFField</span><span class="p">,</span> <span class="n">ROCNPField</span><span class="p">,</span>
    <span class="n">ROCountyField</span><span class="p">,</span> <span class="n">ROCountySelect</span><span class="p">,</span> <span class="n">ROIBANField</span><span class="p">,</span> <span class="n">ROPhoneNumberField</span><span class="p">,</span>
    <span class="n">ROPostalCodeField</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">SimpleTestCase</span>


<span class="k">class</span> <span class="nc">ROLocalFlavorTests</span><span class="p">(</span><span class="n">SimpleTestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_ROCountySelect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">ROCountySelect</span><span class="p">()</span>
        <span class="n">out</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;&lt;select name=&quot;county&quot;&gt;</span>
<span class="s">&lt;option value=&quot;AB&quot;&gt;Alba&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;AR&quot;&gt;Arad&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;AG&quot;&gt;Arge</span><span class="se">\u015f</span><span class="s">&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;BC&quot;&gt;Bac</span><span class="se">\u0103</span><span class="s">u&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;BH&quot;&gt;Bihor&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;BN&quot;&gt;Bistri</span><span class="se">\u0163</span><span class="s">a-N</span><span class="se">\u0103</span><span class="s">s</span><span class="se">\u0103</span><span class="s">ud&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;BT&quot;&gt;Boto</span><span class="se">\u015f</span><span class="s">ani&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;BV&quot;&gt;Bra</span><span class="se">\u015f</span><span class="s">ov&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;BR&quot;&gt;Br</span><span class="se">\u0103</span><span class="s">ila&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;B&quot;&gt;Bucure</span><span class="se">\u015f</span><span class="s">ti&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;BZ&quot;&gt;Buz</span><span class="se">\u0103</span><span class="s">u&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CS&quot;&gt;Cara</span><span class="se">\u015f</span><span class="s">-Severin&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CL&quot;&gt;C</span><span class="se">\u0103</span><span class="s">l</span><span class="se">\u0103</span><span class="s">ra</span><span class="se">\u015f</span><span class="s">i&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CJ&quot; selected=&quot;selected&quot;&gt;Cluj&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CT&quot;&gt;Constan</span><span class="se">\u0163</span><span class="s">a&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;CV&quot;&gt;Covasna&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DB&quot;&gt;D</span><span class="se">\xe2</span><span class="s">mbovi</span><span class="se">\u0163</span><span class="s">a&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;DJ&quot;&gt;Dolj&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;GL&quot;&gt;Gala</span><span class="se">\u0163</span><span class="s">i&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;GR&quot;&gt;Giurgiu&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;GJ&quot;&gt;Gorj&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;HR&quot;&gt;Harghita&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;HD&quot;&gt;Hunedoara&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;IL&quot;&gt;Ialomi</span><span class="se">\u0163</span><span class="s">a&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;IS&quot;&gt;Ia</span><span class="se">\u015f</span><span class="s">i&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;IF&quot;&gt;Ilfov&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;MM&quot;&gt;Maramure</span><span class="se">\u015f</span><span class="s">&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;MH&quot;&gt;Mehedin</span><span class="se">\u0163</span><span class="s">i&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;MS&quot;&gt;Mure</span><span class="se">\u015f</span><span class="s">&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;NT&quot;&gt;Neam</span><span class="se">\u0163</span><span class="s">&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;OT&quot;&gt;Olt&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;PH&quot;&gt;Prahova&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;SM&quot;&gt;Satu Mare&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;SJ&quot;&gt;S</span><span class="se">\u0103</span><span class="s">laj&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;SB&quot;&gt;Sibiu&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;SV&quot;&gt;Suceava&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;TR&quot;&gt;Teleorman&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;TM&quot;&gt;Timi</span><span class="se">\u015f</span><span class="s">&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;TL&quot;&gt;Tulcea&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VS&quot;&gt;Vaslui&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VL&quot;&gt;V</span><span class="se">\xe2</span><span class="s">lcea&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;VN&quot;&gt;Vrancea&lt;/option&gt;</span>
<span class="s">&lt;/select&gt;&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertHTMLEqual</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s">&#39;county&#39;</span><span class="p">,</span> <span class="s">&#39;CJ&#39;</span><span class="p">),</span> <span class="n">out</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_ROCIFField</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">error_invalid</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Enter a valid CIF.&#39;</span><span class="p">]</span>
        <span class="n">error_atmost</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Ensure this value has at most 10 characters (it has 11).&#39;</span><span class="p">]</span>
        <span class="n">error_atleast</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Ensure this value has at least 2 characters (it has 1).&#39;</span><span class="p">]</span>
        <span class="n">valid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;21694681&#39;</span><span class="p">:</span> <span class="s">&#39;21694681&#39;</span><span class="p">,</span>
            <span class="s">&#39;RO21694681&#39;</span><span class="p">:</span> <span class="s">&#39;21694681&#39;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;21694680&#39;</span><span class="p">:</span> <span class="n">error_invalid</span><span class="p">,</span>
            <span class="s">&#39;21694680000&#39;</span><span class="p">:</span> <span class="n">error_atmost</span><span class="p">,</span>
            <span class="s">&#39;0&#39;</span><span class="p">:</span> <span class="n">error_atleast</span> <span class="o">+</span> <span class="n">error_invalid</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFieldOutput</span><span class="p">(</span><span class="n">ROCIFField</span><span class="p">,</span> <span class="n">valid</span><span class="p">,</span> <span class="n">invalid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_ROCNPField</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">error_invalid</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Enter a valid CNP.&#39;</span><span class="p">]</span>
        <span class="n">error_atleast</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Ensure this value has at least 13 characters (it has 10).&#39;</span><span class="p">]</span>
        <span class="n">error_atmost</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Ensure this value has at most 13 characters (it has 14).&#39;</span><span class="p">]</span>
        <span class="n">valid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;1981211204489&#39;</span><span class="p">:</span> <span class="s">&#39;1981211204489&#39;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;1981211204487&#39;</span><span class="p">:</span> <span class="n">error_invalid</span><span class="p">,</span>
            <span class="s">&#39;1981232204489&#39;</span><span class="p">:</span> <span class="n">error_invalid</span><span class="p">,</span>
            <span class="s">&#39;9981211204489&#39;</span><span class="p">:</span> <span class="n">error_invalid</span><span class="p">,</span>
            <span class="s">&#39;9981211209&#39;</span><span class="p">:</span> <span class="n">error_atleast</span> <span class="o">+</span> <span class="n">error_invalid</span><span class="p">,</span>
            <span class="s">&#39;19812112044891&#39;</span><span class="p">:</span> <span class="n">error_atmost</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFieldOutput</span><span class="p">(</span><span class="n">ROCNPField</span><span class="p">,</span> <span class="n">valid</span><span class="p">,</span> <span class="n">invalid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_ROCountyField</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">error_format</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Enter a Romanian county code or name.&#39;</span><span class="p">]</span>
        <span class="n">valid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;CJ&#39;</span><span class="p">:</span> <span class="s">&#39;CJ&#39;</span><span class="p">,</span>
            <span class="s">&#39;cj&#39;</span><span class="p">:</span> <span class="s">&#39;CJ&#39;</span><span class="p">,</span>
            <span class="s">&#39;Argeş&#39;</span><span class="p">:</span> <span class="s">&#39;AG&#39;</span><span class="p">,</span>
            <span class="s">&#39;argeş&#39;</span><span class="p">:</span> <span class="s">&#39;AG&#39;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;Arges&#39;</span><span class="p">:</span> <span class="n">error_format</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFieldOutput</span><span class="p">(</span><span class="n">ROCountyField</span><span class="p">,</span> <span class="n">valid</span><span class="p">,</span> <span class="n">invalid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_ROIBANField</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">error_invalid</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Enter a valid IBAN in ROXX-XXXX-XXXX-XXXX-XXXX-XXXX format&#39;</span><span class="p">]</span>
        <span class="n">error_atleast</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Ensure this value has at least 24 characters (it has 23).&#39;</span><span class="p">]</span>
        <span class="n">valid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;RO56RZBR0000060003291177&#39;</span><span class="p">:</span> <span class="s">&#39;RO56RZBR0000060003291177&#39;</span><span class="p">,</span>
            <span class="s">&#39;RO56-RZBR-0000-0600-0329-1177&#39;</span><span class="p">:</span> <span class="s">&#39;RO56RZBR0000060003291177&#39;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;RO56RZBR0000060003291176&#39;</span><span class="p">:</span> <span class="n">error_invalid</span><span class="p">,</span>
            <span class="s">&#39;AT61 1904 3002 3457 3201&#39;</span><span class="p">:</span> <span class="n">error_invalid</span><span class="p">,</span>
            <span class="s">&#39;RO56RZBR000006000329117&#39;</span><span class="p">:</span> <span class="n">error_atleast</span> <span class="o">+</span> <span class="n">error_invalid</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFieldOutput</span><span class="p">(</span><span class="n">ROIBANField</span><span class="p">,</span> <span class="n">valid</span><span class="p">,</span> <span class="n">invalid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_ROPhoneNumberField</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">error_format</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Phone numbers must be in XXXX-XXXXXX format.&#39;</span><span class="p">]</span>
        <span class="n">error_atleast</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Ensure this value has at least 10 characters (it has 9).&#39;</span><span class="p">]</span>
        <span class="n">error_invalid</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Phone numbers must be in XXXX-XXXXXX format.&#39;</span><span class="p">]</span>
        <span class="n">valid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;0264485936&#39;</span><span class="p">:</span> <span class="s">&#39;0264485936&#39;</span><span class="p">,</span>
            <span class="s">&#39;(0264)-485936&#39;</span><span class="p">:</span> <span class="s">&#39;0264485936&#39;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;02644859368&#39;</span><span class="p">:</span> <span class="n">error_format</span><span class="p">,</span>
            <span class="s">&#39;026448593&#39;</span><span class="p">:</span> <span class="n">error_atleast</span> <span class="o">+</span> <span class="n">error_invalid</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFieldOutput</span><span class="p">(</span><span class="n">ROPhoneNumberField</span><span class="p">,</span> <span class="n">valid</span><span class="p">,</span> <span class="n">invalid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_ROPostalCodeField</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">error_atleast</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Ensure this value has at least 6 characters (it has 5).&#39;</span><span class="p">]</span>
        <span class="n">error_atmost</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Ensure this value has at most 6 characters (it has 7).&#39;</span><span class="p">]</span>
        <span class="n">error_invalid</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Enter a valid postal code in the format XXXXXX&#39;</span><span class="p">]</span>

        <span class="n">valid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;400473&#39;</span><span class="p">:</span> <span class="s">&#39;400473&#39;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;40047&#39;</span><span class="p">:</span> <span class="n">error_atleast</span> <span class="o">+</span> <span class="n">error_invalid</span><span class="p">,</span>
            <span class="s">&#39;4004731&#39;</span><span class="p">:</span> <span class="n">error_atmost</span> <span class="o">+</span> <span class="n">error_invalid</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFieldOutput</span><span class="p">(</span><span class="n">ROPostalCodeField</span><span class="p">,</span> <span class="n">valid</span><span class="p">,</span> <span class="n">invalid</span><span class="p">)</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/django",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
