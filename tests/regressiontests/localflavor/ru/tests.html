<!DOCTYPE html>
<html><head><title>joekychen/django » tests › regressiontests › localflavor › ru › tests.py

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>tests.py</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">unicode_literals</span>

<span class="kn">from</span> <span class="nn">django.contrib.localflavor.ru.forms</span> <span class="kn">import</span> <span class="o">*</span>

<span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">SimpleTestCase</span>


<span class="k">class</span> <span class="nc">RULocalFlavorTests</span><span class="p">(</span><span class="n">SimpleTestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">test_RUPassportNumberField</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">error</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Enter a passport number in the format XXXX XXXXXX.&#39;</span><span class="p">]</span>
        <span class="n">valid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;1981 211204&#39;</span><span class="p">:</span> <span class="s">&#39;1981 211204&#39;</span><span class="p">,</span>
            <span class="s">&#39;0305 967876&#39;</span><span class="p">:</span> <span class="s">&#39;0305 967876&#39;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;1981 2112044&#39;</span><span class="p">:</span> <span class="n">error</span><span class="p">,</span>
            <span class="s">&#39;1981 23220&#39;</span><span class="p">:</span> <span class="n">error</span><span class="p">,</span>
            <span class="s">&#39;9981211201&#39;</span><span class="p">:</span> <span class="n">error</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFieldOutput</span><span class="p">(</span><span class="n">RUPassportNumberField</span><span class="p">,</span> <span class="n">valid</span><span class="p">,</span> <span class="n">invalid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_RUAlienPassportNumberField</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">error</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Enter a passport number in the format XX XXXXXXX.&#39;</span><span class="p">]</span>
        <span class="n">valid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;19 8111204&#39;</span><span class="p">:</span> <span class="s">&#39;19 8111204&#39;</span><span class="p">,</span>
            <span class="s">&#39;03 0567876&#39;</span><span class="p">:</span> <span class="s">&#39;03 0567876&#39;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;198 1112044&#39;</span><span class="p">:</span> <span class="n">error</span><span class="p">,</span>
            <span class="s">&#39;19 81123220&#39;</span><span class="p">:</span> <span class="n">error</span><span class="p">,</span>
            <span class="s">&#39;99 812112&#39;</span><span class="p">:</span> <span class="n">error</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFieldOutput</span><span class="p">(</span><span class="n">RUAlienPassportNumberField</span><span class="p">,</span> <span class="n">valid</span><span class="p">,</span> <span class="n">invalid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_RUPostalCodeField</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">error</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Enter a postal code in the format XXXXXX.&#39;</span><span class="p">]</span>
        <span class="n">valid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;987654&#39;</span><span class="p">:</span> <span class="s">&#39;987654&#39;</span><span class="p">,</span>
            <span class="s">&#39;123456&#39;</span><span class="p">:</span> <span class="s">&#39;123456&#39;</span>
        <span class="p">}</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;123 34&#39;</span><span class="p">:</span> <span class="n">error</span><span class="p">,</span>
            <span class="s">&#39;1234567&#39;</span><span class="p">:</span> <span class="n">error</span><span class="p">,</span>
            <span class="s">&#39;12345&#39;</span><span class="p">:</span> <span class="n">error</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFieldOutput</span><span class="p">(</span><span class="n">RUPostalCodeField</span><span class="p">,</span> <span class="n">valid</span><span class="p">,</span> <span class="n">invalid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_RUCountySelect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">RUCountySelect</span><span class="p">()</span>
        <span class="n">out</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;&lt;select name=&quot;county&quot;&gt;</span>
<span class="s">&lt;option value=&quot;Central Federal County&quot;&gt;Central Federal County&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;South Federal County&quot;&gt;South Federal County&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;North-West Federal County&quot;&gt;North-West Federal County&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;Far-East Federal County&quot;&gt;Far-East Federal County&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;Siberian Federal County&quot;&gt;Siberian Federal County&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;Ural Federal County&quot;&gt;Ural Federal County&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;Privolzhsky Federal County&quot;&gt;Privolzhsky Federal County&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;North-Caucasian Federal County&quot;&gt;North-Caucasian Federal County&lt;/option&gt;</span>
<span class="s">&lt;/select&gt;&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertHTMLEqual</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s">&#39;county&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span> <span class="n">out</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_RURegionSelect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">RURegionSelect</span><span class="p">()</span>
        <span class="n">out</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;&lt;select name=&quot;region&quot;&gt;</span>
<span class="s">&lt;option value=&quot;77&quot;&gt;Moskva&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;78&quot;&gt;Saint-Peterburg&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;50&quot;&gt;Moskovskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;01&quot;&gt;Adygeya, Respublika&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;02&quot;&gt;Bashkortostan, Respublika&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;03&quot;&gt;Buryatia, Respublika&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;04&quot;&gt;Altay, Respublika&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;05&quot;&gt;Dagestan, Respublika&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;06&quot;&gt;Ingushskaya Respublika&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;07&quot;&gt;Kabardino-Balkarskaya Respublika&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;08&quot;&gt;Kalmykia, Respublika&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;09&quot;&gt;Karachaevo-Cherkesskaya Respublika&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;10&quot;&gt;Karelia, Respublika&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;11&quot;&gt;Komi, Respublika&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;12&quot;&gt;Mariy Ehl, Respublika&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;13&quot;&gt;Mordovia, Respublika&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;14&quot;&gt;Sakha, Respublika (Yakutiya)&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;15&quot;&gt;Severnaya Osetia, Respublika (Alania)&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;16&quot;&gt;Tatarstan, Respublika&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;17&quot;&gt;Tyva, Respublika (Tuva)&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;18&quot;&gt;Udmurtskaya Respublika&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;19&quot;&gt;Khakassiya, Respublika&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;95&quot;&gt;Chechenskaya Respublika&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;21&quot;&gt;Chuvashskaya Respublika&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;22&quot;&gt;Altayskiy Kray&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;80&quot;&gt;Zabaykalskiy Kray&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;82&quot;&gt;Kamchatskiy Kray&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;23&quot;&gt;Krasnodarskiy Kray&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;24&quot;&gt;Krasnoyarskiy Kray&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;81&quot;&gt;Permskiy Kray&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;25&quot;&gt;Primorskiy Kray&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;26&quot;&gt;Stavropol&amp;#39;siyy Kray&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;27&quot;&gt;Khabarovskiy Kray&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;28&quot;&gt;Amurskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;29&quot;&gt;Arkhangel&amp;#39;skaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;30&quot;&gt;Astrakhanskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;31&quot;&gt;Belgorodskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;32&quot;&gt;Bryanskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;33&quot;&gt;Vladimirskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;34&quot;&gt;Volgogradskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;35&quot;&gt;Vologodskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;36&quot;&gt;Voronezhskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;37&quot;&gt;Ivanovskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;38&quot;&gt;Irkutskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;39&quot;&gt;Kaliningradskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;40&quot;&gt;Kaluzhskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;42&quot;&gt;Kemerovskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;43&quot;&gt;Kirovskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;44&quot;&gt;Kostromskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;45&quot;&gt;Kurganskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;46&quot;&gt;Kurskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;47&quot;&gt;Leningradskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;48&quot;&gt;Lipeckaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;49&quot;&gt;Magadanskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;51&quot;&gt;Murmanskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;52&quot;&gt;Nizhegorodskaja oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;53&quot;&gt;Novgorodskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;54&quot;&gt;Novosibirskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;55&quot;&gt;Omskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;56&quot;&gt;Orenburgskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;57&quot;&gt;Orlovskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;58&quot;&gt;Penzenskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;60&quot;&gt;Pskovskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;61&quot;&gt;Rostovskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;62&quot;&gt;Rjazanskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;63&quot;&gt;Samarskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;64&quot;&gt;Saratovskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;65&quot;&gt;Sakhalinskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;66&quot;&gt;Sverdlovskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;67&quot; selected=&quot;selected&quot;&gt;Smolenskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;68&quot;&gt;Tambovskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;69&quot;&gt;Tverskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;70&quot;&gt;Tomskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;71&quot;&gt;Tul&amp;#39;skaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;72&quot;&gt;Tyumenskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;73&quot;&gt;Ul&amp;#39;ianovskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;74&quot;&gt;Chelyabinskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;76&quot;&gt;Yaroslavskaya oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;79&quot;&gt;Evreyskaya avtonomnaja oblast&amp;#39;&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;83&quot;&gt;Neneckiy autonomnyy okrug&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;86&quot;&gt;Khanty-Mansiyskiy avtonomnyy okrug - Yugra&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;87&quot;&gt;Chukotskiy avtonomnyy okrug&lt;/option&gt;</span>
<span class="s">&lt;option value=&quot;89&quot;&gt;Yamalo-Neneckiy avtonomnyy okrug&lt;/option&gt;</span>
<span class="s">&lt;/select&gt;&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertHTMLEqual</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s">&#39;region&#39;</span><span class="p">,</span> <span class="s">&#39;67&#39;</span><span class="p">),</span> <span class="n">out</span><span class="p">)</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/django",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
