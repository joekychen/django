<!DOCTYPE html>
<html><head><title>joekychen/django » tests › modeltests › invalid_models › invalid_models › models.py

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>models.py</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div><p>encoding=utf-8</p></td><td class="code"><div class="highlight"><pre><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">26. Invalid models</span>

<span class="sd">This example exists purely to point out errors in models.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">unicode_literals</span>

<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">connection</span><span class="p">,</span> <span class="n">models</span>


<span class="k">class</span> <span class="nc">FieldErrors</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">charfield</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
    <span class="n">charfield2</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">charfield3</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="s">&quot;bad&quot;</span><span class="p">)</span>
    <span class="n">decimalfield</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">()</span>
    <span class="n">decimalfield2</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">(</span><span class="n">max_digits</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">decimal_places</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">decimalfield3</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">(</span><span class="n">max_digits</span><span class="o">=</span><span class="s">&quot;bad&quot;</span><span class="p">,</span> <span class="n">decimal_places</span><span class="o">=</span><span class="s">&quot;bad&quot;</span><span class="p">)</span>
    <span class="n">decimalfield4</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">(</span><span class="n">max_digits</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">decimal_places</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">decimalfield5</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">(</span><span class="n">max_digits</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">decimal_places</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">filefield</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">FileField</span><span class="p">()</span>
    <span class="n">choices</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="s">&#39;bad&#39;</span><span class="p">)</span>
    <span class="n">choices2</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)])</span>
    <span class="n">index</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">db_index</span><span class="o">=</span><span class="s">&#39;bad&#39;</span><span class="p">)</span>
    <span class="n">field_</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">nullbool</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Target</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">tgt_safe</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">clash1</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">clash2</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

    <span class="n">clash1_set</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Clash1</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">src_safe</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

    <span class="n">foreign</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Target</span><span class="p">)</span>
    <span class="n">m2m</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Target</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Clash2</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">src_safe</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

    <span class="n">foreign_1</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Target</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&#39;id&#39;</span><span class="p">)</span>
    <span class="n">foreign_2</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Target</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&#39;src_safe&#39;</span><span class="p">)</span>

    <span class="n">m2m_1</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Target</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&#39;id&#39;</span><span class="p">)</span>
    <span class="n">m2m_2</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Target</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&#39;src_safe&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Target2</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">clash3</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">foreign_tgt</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Target</span><span class="p">)</span>
    <span class="n">clashforeign_set</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Target</span><span class="p">)</span>

    <span class="n">m2m_tgt</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Target</span><span class="p">)</span>
    <span class="n">clashm2m_set</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Target</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Clash3</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">src_safe</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

    <span class="n">foreign_1</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Target2</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&#39;foreign_tgt&#39;</span><span class="p">)</span>
    <span class="n">foreign_2</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Target2</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&#39;m2m_tgt&#39;</span><span class="p">)</span>

    <span class="n">m2m_1</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Target2</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&#39;foreign_tgt&#39;</span><span class="p">)</span>
    <span class="n">m2m_2</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Target2</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&#39;m2m_tgt&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">ClashForeign</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">foreign</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Target2</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">ClashM2M</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">m2m</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Target2</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">SelfClashForeign</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">src_safe</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">selfclashforeign</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

    <span class="n">selfclashforeign_set</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s">&quot;SelfClashForeign&quot;</span><span class="p">)</span>
    <span class="n">foreign_1</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s">&quot;SelfClashForeign&quot;</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&#39;id&#39;</span><span class="p">)</span>
    <span class="n">foreign_2</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s">&quot;SelfClashForeign&quot;</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&#39;src_safe&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">ValidM2M</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">src_safe</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">validm2m</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>M2M fields are symmetrical by default. Symmetrical M2M fields
on self don't require a related accessor, so many potential
clashes are avoided.</p></td><td class="code"><div class="highlight"><pre>    <span class="n">validm2m_set</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s">&quot;self&quot;</span><span class="p">)</span>

    <span class="n">m2m_1</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s">&quot;self&quot;</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&#39;id&#39;</span><span class="p">)</span>
    <span class="n">m2m_2</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s">&quot;self&quot;</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&#39;src_safe&#39;</span><span class="p">)</span>

    <span class="n">m2m_3</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s">&#39;self&#39;</span><span class="p">)</span>
    <span class="n">m2m_4</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s">&#39;self&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">SelfClashM2M</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">src_safe</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">selfclashm2m</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><p>Non-symmetrical M2M fields <em>do</em> have related accessors, so
there is potential for clashes.</p></td><td class="code"><div class="highlight"><pre>    <span class="n">selfclashm2m_set</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s">&quot;self&quot;</span><span class="p">,</span> <span class="n">symmetrical</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

    <span class="n">m2m_1</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s">&quot;self&quot;</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&#39;id&#39;</span><span class="p">,</span> <span class="n">symmetrical</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">m2m_2</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s">&quot;self&quot;</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&#39;src_safe&#39;</span><span class="p">,</span> <span class="n">symmetrical</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

    <span class="n">m2m_3</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s">&#39;self&#39;</span><span class="p">,</span> <span class="n">symmetrical</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">m2m_4</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s">&#39;self&#39;</span><span class="p">,</span> <span class="n">symmetrical</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="s">&quot;But it&#39;s valid to call a model Model.&quot;</span>
    <span class="n">year</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">PositiveIntegerField</span><span class="p">()</span> <span class="c">#1960</span>
    <span class="n">make</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="c">#Aston Martin</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="c">#DB 4 GT</span>

<span class="k">class</span> <span class="nc">Car</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">colour</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Model</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">MissingRelations</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">rel1</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s">&quot;Rel1&quot;</span><span class="p">)</span>
    <span class="n">rel2</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s">&quot;Rel2&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">MissingManualM2MModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">missing_m2m</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Model</span><span class="p">,</span> <span class="n">through</span><span class="o">=</span><span class="s">&quot;MissingM2MModel&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Group</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">primary</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Person</span><span class="p">,</span> <span class="n">through</span><span class="o">=</span><span class="s">&quot;Membership&quot;</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;primary&quot;</span><span class="p">)</span>
    <span class="n">secondary</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Person</span><span class="p">,</span> <span class="n">through</span><span class="o">=</span><span class="s">&quot;Membership&quot;</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;secondary&quot;</span><span class="p">)</span>
    <span class="n">tertiary</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Person</span><span class="p">,</span> <span class="n">through</span><span class="o">=</span><span class="s">&quot;RelationshipDoubleFK&quot;</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;tertiary&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">GroupTwo</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">primary</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Person</span><span class="p">,</span> <span class="n">through</span><span class="o">=</span><span class="s">&quot;Membership&quot;</span><span class="p">)</span>
    <span class="n">secondary</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Group</span><span class="p">,</span> <span class="n">through</span><span class="o">=</span><span class="s">&quot;MembershipMissingFK&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Membership</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">person</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Person</span><span class="p">)</span>
    <span class="n">group</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Group</span><span class="p">)</span>
    <span class="n">not_default_or_null</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">MembershipMissingFK</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">person</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Person</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">PersonSelfRefM2M</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">friends</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s">&#39;self&#39;</span><span class="p">,</span> <span class="n">through</span><span class="o">=</span><span class="s">&quot;Relationship&quot;</span><span class="p">)</span>
    <span class="n">too_many_friends</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s">&#39;self&#39;</span><span class="p">,</span> <span class="n">through</span><span class="o">=</span><span class="s">&quot;RelationshipTripleFK&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">PersonSelfRefM2MExplicit</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">friends</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s">&#39;self&#39;</span><span class="p">,</span> <span class="n">through</span><span class="o">=</span><span class="s">&quot;ExplicitRelationship&quot;</span><span class="p">,</span> <span class="n">symmetrical</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Relationship</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">first</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">PersonSelfRefM2M</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;rel_from_set&quot;</span><span class="p">)</span>
    <span class="n">second</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">PersonSelfRefM2M</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;rel_to_set&quot;</span><span class="p">)</span>
    <span class="n">date_added</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">ExplicitRelationship</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">first</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">PersonSelfRefM2MExplicit</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;rel_from_set&quot;</span><span class="p">)</span>
    <span class="n">second</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">PersonSelfRefM2MExplicit</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;rel_to_set&quot;</span><span class="p">)</span>
    <span class="n">date_added</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">RelationshipTripleFK</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">first</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">PersonSelfRefM2M</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;rel_from_set_2&quot;</span><span class="p">)</span>
    <span class="n">second</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">PersonSelfRefM2M</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;rel_to_set_2&quot;</span><span class="p">)</span>
    <span class="n">third</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">PersonSelfRefM2M</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;too_many_by_far&quot;</span><span class="p">)</span>
    <span class="n">date_added</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">RelationshipDoubleFK</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">first</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Person</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;first_related_name&quot;</span><span class="p">)</span>
    <span class="n">second</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Person</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;second_related_name&quot;</span><span class="p">)</span>
    <span class="n">third</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Group</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;rel_to_set&quot;</span><span class="p">)</span>
    <span class="n">date_added</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">AbstractModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="bp">True</span>

<span class="k">class</span> <span class="nc">AbstractRelationModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">fk1</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s">&#39;AbstractModel&#39;</span><span class="p">)</span>
    <span class="n">fk2</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s">&#39;AbstractModel&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">UniqueM2M</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Model to test for unique ManyToManyFields, which are invalid. &quot;&quot;&quot;</span>
    <span class="n">unique_people</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Person</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">NonUniqueFKTarget1</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Model to test for non-unique FK target in yet-to-be-defined model: expect an error &quot;&quot;&quot;</span>
    <span class="n">tgt</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s">&#39;FKTarget&#39;</span><span class="p">,</span> <span class="n">to_field</span><span class="o">=</span><span class="s">&#39;bad&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">UniqueFKTarget1</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Model to test for unique FK target in yet-to-be-defined model: expect no error &quot;&quot;&quot;</span>
    <span class="n">tgt</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s">&#39;FKTarget&#39;</span><span class="p">,</span> <span class="n">to_field</span><span class="o">=</span><span class="s">&#39;good&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">FKTarget</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">bad</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">()</span>
    <span class="n">good</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">(</span><span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">NonUniqueFKTarget2</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Model to test for non-unique FK target in previously seen model: expect an error &quot;&quot;&quot;</span>
    <span class="n">tgt</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">FKTarget</span><span class="p">,</span> <span class="n">to_field</span><span class="o">=</span><span class="s">&#39;bad&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">UniqueFKTarget2</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Model to test for unique FK target in previously seen model: expect no error &quot;&quot;&quot;</span>
    <span class="n">tgt</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">FKTarget</span><span class="p">,</span> <span class="n">to_field</span><span class="o">=</span><span class="s">&#39;good&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">NonExistingOrderingWithSingleUnderscore</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">ordering</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;does_not_exist&quot;</span><span class="p">,)</span>

<span class="k">class</span> <span class="nc">InvalidSetNull</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">fk</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s">&#39;self&#39;</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">SET_NULL</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">InvalidSetDefault</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">fk</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s">&#39;self&#39;</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">SET_DEFAULT</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">UnicodeForeignKeys</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Foreign keys which can translate to ascii should be OK, but fail if</span>
<span class="sd">    they&#39;re not.&quot;&quot;&quot;</span>
    <span class="n">good</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s">&#39;FKTarget&#39;</span><span class="p">)</span>
    <span class="n">also_good</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s">&#39;FKTarget&#39;</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&#39;unicode2&#39;</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-4"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-4">&#182;</a></div><p>In Python 3 this should become legal, but currently causes unicode errors
when adding the errors in core/management/validation.py
bad = models.ForeignKey('★')</p></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">PrimaryKeyNull</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">my_pk_field</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">OrderByPKModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model to test that ordering by pk passes validation.</span>
<span class="sd">    Refs #8291</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">ordering</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;pk&#39;</span><span class="p">,)</span>

<span class="n">model_errors</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;invalid_models.fielderrors: &quot;charfield&quot;: CharFields require a &quot;max_length&quot; attribute that is a positive integer.</span>
<span class="s">invalid_models.fielderrors: &quot;charfield2&quot;: CharFields require a &quot;max_length&quot; attribute that is a positive integer.</span>
<span class="s">invalid_models.fielderrors: &quot;charfield3&quot;: CharFields require a &quot;max_length&quot; attribute that is a positive integer.</span>
<span class="s">invalid_models.fielderrors: &quot;decimalfield&quot;: DecimalFields require a &quot;decimal_places&quot; attribute that is a non-negative integer.</span>
<span class="s">invalid_models.fielderrors: &quot;decimalfield&quot;: DecimalFields require a &quot;max_digits&quot; attribute that is a positive integer.</span>
<span class="s">invalid_models.fielderrors: &quot;decimalfield2&quot;: DecimalFields require a &quot;decimal_places&quot; attribute that is a non-negative integer.</span>
<span class="s">invalid_models.fielderrors: &quot;decimalfield2&quot;: DecimalFields require a &quot;max_digits&quot; attribute that is a positive integer.</span>
<span class="s">invalid_models.fielderrors: &quot;decimalfield3&quot;: DecimalFields require a &quot;decimal_places&quot; attribute that is a non-negative integer.</span>
<span class="s">invalid_models.fielderrors: &quot;decimalfield3&quot;: DecimalFields require a &quot;max_digits&quot; attribute that is a positive integer.</span>
<span class="s">invalid_models.fielderrors: &quot;decimalfield4&quot;: DecimalFields require a &quot;max_digits&quot; attribute value that is greater than or equal to the value of the &quot;decimal_places&quot; attribute.</span>
<span class="s">invalid_models.fielderrors: &quot;filefield&quot;: FileFields require an &quot;upload_to&quot; attribute.</span>
<span class="s">invalid_models.fielderrors: &quot;choices&quot;: &quot;choices&quot; should be iterable (e.g., a tuple or list).</span>
<span class="s">invalid_models.fielderrors: &quot;choices2&quot;: &quot;choices&quot; should be a sequence of two-tuples.</span>
<span class="s">invalid_models.fielderrors: &quot;choices2&quot;: &quot;choices&quot; should be a sequence of two-tuples.</span>
<span class="s">invalid_models.fielderrors: &quot;index&quot;: &quot;db_index&quot; should be either None, True or False.</span>
<span class="s">invalid_models.fielderrors: &quot;field_&quot;: Field names cannot end with underscores, because this would lead to ambiguous queryset filters.</span>
<span class="s">invalid_models.fielderrors: &quot;nullbool&quot;: BooleanFields do not accept null values. Use a NullBooleanField instead.</span>
<span class="s">invalid_models.clash1: Accessor for field &#39;foreign&#39; clashes with field &#39;Target.clash1_set&#39;. Add a related_name argument to the definition for &#39;foreign&#39;.</span>
<span class="s">invalid_models.clash1: Accessor for field &#39;foreign&#39; clashes with related m2m field &#39;Target.clash1_set&#39;. Add a related_name argument to the definition for &#39;foreign&#39;.</span>
<span class="s">invalid_models.clash1: Reverse query name for field &#39;foreign&#39; clashes with field &#39;Target.clash1&#39;. Add a related_name argument to the definition for &#39;foreign&#39;.</span>
<span class="s">invalid_models.clash1: Accessor for m2m field &#39;m2m&#39; clashes with field &#39;Target.clash1_set&#39;. Add a related_name argument to the definition for &#39;m2m&#39;.</span>
<span class="s">invalid_models.clash1: Accessor for m2m field &#39;m2m&#39; clashes with related field &#39;Target.clash1_set&#39;. Add a related_name argument to the definition for &#39;m2m&#39;.</span>
<span class="s">invalid_models.clash1: Reverse query name for m2m field &#39;m2m&#39; clashes with field &#39;Target.clash1&#39;. Add a related_name argument to the definition for &#39;m2m&#39;.</span>
<span class="s">invalid_models.clash2: Accessor for field &#39;foreign_1&#39; clashes with field &#39;Target.id&#39;. Add a related_name argument to the definition for &#39;foreign_1&#39;.</span>
<span class="s">invalid_models.clash2: Accessor for field &#39;foreign_1&#39; clashes with related m2m field &#39;Target.id&#39;. Add a related_name argument to the definition for &#39;foreign_1&#39;.</span>
<span class="s">invalid_models.clash2: Reverse query name for field &#39;foreign_1&#39; clashes with field &#39;Target.id&#39;. Add a related_name argument to the definition for &#39;foreign_1&#39;.</span>
<span class="s">invalid_models.clash2: Reverse query name for field &#39;foreign_1&#39; clashes with related m2m field &#39;Target.id&#39;. Add a related_name argument to the definition for &#39;foreign_1&#39;.</span>
<span class="s">invalid_models.clash2: Accessor for field &#39;foreign_2&#39; clashes with related m2m field &#39;Target.src_safe&#39;. Add a related_name argument to the definition for &#39;foreign_2&#39;.</span>
<span class="s">invalid_models.clash2: Reverse query name for field &#39;foreign_2&#39; clashes with related m2m field &#39;Target.src_safe&#39;. Add a related_name argument to the definition for &#39;foreign_2&#39;.</span>
<span class="s">invalid_models.clash2: Accessor for m2m field &#39;m2m_1&#39; clashes with field &#39;Target.id&#39;. Add a related_name argument to the definition for &#39;m2m_1&#39;.</span>
<span class="s">invalid_models.clash2: Accessor for m2m field &#39;m2m_1&#39; clashes with related field &#39;Target.id&#39;. Add a related_name argument to the definition for &#39;m2m_1&#39;.</span>
<span class="s">invalid_models.clash2: Reverse query name for m2m field &#39;m2m_1&#39; clashes with field &#39;Target.id&#39;. Add a related_name argument to the definition for &#39;m2m_1&#39;.</span>
<span class="s">invalid_models.clash2: Reverse query name for m2m field &#39;m2m_1&#39; clashes with related field &#39;Target.id&#39;. Add a related_name argument to the definition for &#39;m2m_1&#39;.</span>
<span class="s">invalid_models.clash2: Accessor for m2m field &#39;m2m_2&#39; clashes with related field &#39;Target.src_safe&#39;. Add a related_name argument to the definition for &#39;m2m_2&#39;.</span>
<span class="s">invalid_models.clash2: Reverse query name for m2m field &#39;m2m_2&#39; clashes with related field &#39;Target.src_safe&#39;. Add a related_name argument to the definition for &#39;m2m_2&#39;.</span>
<span class="s">invalid_models.clash3: Accessor for field &#39;foreign_1&#39; clashes with field &#39;Target2.foreign_tgt&#39;. Add a related_name argument to the definition for &#39;foreign_1&#39;.</span>
<span class="s">invalid_models.clash3: Accessor for field &#39;foreign_1&#39; clashes with related m2m field &#39;Target2.foreign_tgt&#39;. Add a related_name argument to the definition for &#39;foreign_1&#39;.</span>
<span class="s">invalid_models.clash3: Reverse query name for field &#39;foreign_1&#39; clashes with field &#39;Target2.foreign_tgt&#39;. Add a related_name argument to the definition for &#39;foreign_1&#39;.</span>
<span class="s">invalid_models.clash3: Reverse query name for field &#39;foreign_1&#39; clashes with related m2m field &#39;Target2.foreign_tgt&#39;. Add a related_name argument to the definition for &#39;foreign_1&#39;.</span>
<span class="s">invalid_models.clash3: Accessor for field &#39;foreign_2&#39; clashes with m2m field &#39;Target2.m2m_tgt&#39;. Add a related_name argument to the definition for &#39;foreign_2&#39;.</span>
<span class="s">invalid_models.clash3: Accessor for field &#39;foreign_2&#39; clashes with related m2m field &#39;Target2.m2m_tgt&#39;. Add a related_name argument to the definition for &#39;foreign_2&#39;.</span>
<span class="s">invalid_models.clash3: Reverse query name for field &#39;foreign_2&#39; clashes with m2m field &#39;Target2.m2m_tgt&#39;. Add a related_name argument to the definition for &#39;foreign_2&#39;.</span>
<span class="s">invalid_models.clash3: Reverse query name for field &#39;foreign_2&#39; clashes with related m2m field &#39;Target2.m2m_tgt&#39;. Add a related_name argument to the definition for &#39;foreign_2&#39;.</span>
<span class="s">invalid_models.clash3: Accessor for m2m field &#39;m2m_1&#39; clashes with field &#39;Target2.foreign_tgt&#39;. Add a related_name argument to the definition for &#39;m2m_1&#39;.</span>
<span class="s">invalid_models.clash3: Accessor for m2m field &#39;m2m_1&#39; clashes with related field &#39;Target2.foreign_tgt&#39;. Add a related_name argument to the definition for &#39;m2m_1&#39;.</span>
<span class="s">invalid_models.clash3: Reverse query name for m2m field &#39;m2m_1&#39; clashes with field &#39;Target2.foreign_tgt&#39;. Add a related_name argument to the definition for &#39;m2m_1&#39;.</span>
<span class="s">invalid_models.clash3: Reverse query name for m2m field &#39;m2m_1&#39; clashes with related field &#39;Target2.foreign_tgt&#39;. Add a related_name argument to the definition for &#39;m2m_1&#39;.</span>
<span class="s">invalid_models.clash3: Accessor for m2m field &#39;m2m_2&#39; clashes with m2m field &#39;Target2.m2m_tgt&#39;. Add a related_name argument to the definition for &#39;m2m_2&#39;.</span>
<span class="s">invalid_models.clash3: Accessor for m2m field &#39;m2m_2&#39; clashes with related field &#39;Target2.m2m_tgt&#39;. Add a related_name argument to the definition for &#39;m2m_2&#39;.</span>
<span class="s">invalid_models.clash3: Reverse query name for m2m field &#39;m2m_2&#39; clashes with m2m field &#39;Target2.m2m_tgt&#39;. Add a related_name argument to the definition for &#39;m2m_2&#39;.</span>
<span class="s">invalid_models.clash3: Reverse query name for m2m field &#39;m2m_2&#39; clashes with related field &#39;Target2.m2m_tgt&#39;. Add a related_name argument to the definition for &#39;m2m_2&#39;.</span>
<span class="s">invalid_models.clashforeign: Accessor for field &#39;foreign&#39; clashes with field &#39;Target2.clashforeign_set&#39;. Add a related_name argument to the definition for &#39;foreign&#39;.</span>
<span class="s">invalid_models.clashm2m: Accessor for m2m field &#39;m2m&#39; clashes with m2m field &#39;Target2.clashm2m_set&#39;. Add a related_name argument to the definition for &#39;m2m&#39;.</span>
<span class="s">invalid_models.target2: Accessor for field &#39;foreign_tgt&#39; clashes with related m2m field &#39;Target.target2_set&#39;. Add a related_name argument to the definition for &#39;foreign_tgt&#39;.</span>
<span class="s">invalid_models.target2: Accessor for field &#39;foreign_tgt&#39; clashes with related m2m field &#39;Target.target2_set&#39;. Add a related_name argument to the definition for &#39;foreign_tgt&#39;.</span>
<span class="s">invalid_models.target2: Accessor for field &#39;foreign_tgt&#39; clashes with related field &#39;Target.target2_set&#39;. Add a related_name argument to the definition for &#39;foreign_tgt&#39;.</span>
<span class="s">invalid_models.target2: Accessor for field &#39;clashforeign_set&#39; clashes with related m2m field &#39;Target.target2_set&#39;. Add a related_name argument to the definition for &#39;clashforeign_set&#39;.</span>
<span class="s">invalid_models.target2: Accessor for field &#39;clashforeign_set&#39; clashes with related m2m field &#39;Target.target2_set&#39;. Add a related_name argument to the definition for &#39;clashforeign_set&#39;.</span>
<span class="s">invalid_models.target2: Accessor for field &#39;clashforeign_set&#39; clashes with related field &#39;Target.target2_set&#39;. Add a related_name argument to the definition for &#39;clashforeign_set&#39;.</span>
<span class="s">invalid_models.target2: Accessor for m2m field &#39;m2m_tgt&#39; clashes with related field &#39;Target.target2_set&#39;. Add a related_name argument to the definition for &#39;m2m_tgt&#39;.</span>
<span class="s">invalid_models.target2: Accessor for m2m field &#39;m2m_tgt&#39; clashes with related field &#39;Target.target2_set&#39;. Add a related_name argument to the definition for &#39;m2m_tgt&#39;.</span>
<span class="s">invalid_models.target2: Accessor for m2m field &#39;m2m_tgt&#39; clashes with related m2m field &#39;Target.target2_set&#39;. Add a related_name argument to the definition for &#39;m2m_tgt&#39;.</span>
<span class="s">invalid_models.target2: Accessor for m2m field &#39;m2m_tgt&#39; clashes with related m2m field &#39;Target.target2_set&#39;. Add a related_name argument to the definition for &#39;m2m_tgt&#39;.</span>
<span class="s">invalid_models.target2: Accessor for m2m field &#39;m2m_tgt&#39; clashes with related m2m field &#39;Target.target2_set&#39;. Add a related_name argument to the definition for &#39;m2m_tgt&#39;.</span>
<span class="s">invalid_models.target2: Accessor for m2m field &#39;clashm2m_set&#39; clashes with related field &#39;Target.target2_set&#39;. Add a related_name argument to the definition for &#39;clashm2m_set&#39;.</span>
<span class="s">invalid_models.target2: Accessor for m2m field &#39;clashm2m_set&#39; clashes with related field &#39;Target.target2_set&#39;. Add a related_name argument to the definition for &#39;clashm2m_set&#39;.</span>
<span class="s">invalid_models.target2: Accessor for m2m field &#39;clashm2m_set&#39; clashes with related m2m field &#39;Target.target2_set&#39;. Add a related_name argument to the definition for &#39;clashm2m_set&#39;.</span>
<span class="s">invalid_models.target2: Accessor for m2m field &#39;clashm2m_set&#39; clashes with related m2m field &#39;Target.target2_set&#39;. Add a related_name argument to the definition for &#39;clashm2m_set&#39;.</span>
<span class="s">invalid_models.target2: Accessor for m2m field &#39;clashm2m_set&#39; clashes with related m2m field &#39;Target.target2_set&#39;. Add a related_name argument to the definition for &#39;clashm2m_set&#39;.</span>
<span class="s">invalid_models.selfclashforeign: Accessor for field &#39;selfclashforeign_set&#39; clashes with field &#39;SelfClashForeign.selfclashforeign_set&#39;. Add a related_name argument to the definition for &#39;selfclashforeign_set&#39;.</span>
<span class="s">invalid_models.selfclashforeign: Reverse query name for field &#39;selfclashforeign_set&#39; clashes with field &#39;SelfClashForeign.selfclashforeign&#39;. Add a related_name argument to the definition for &#39;selfclashforeign_set&#39;.</span>
<span class="s">invalid_models.selfclashforeign: Accessor for field &#39;foreign_1&#39; clashes with field &#39;SelfClashForeign.id&#39;. Add a related_name argument to the definition for &#39;foreign_1&#39;.</span>
<span class="s">invalid_models.selfclashforeign: Reverse query name for field &#39;foreign_1&#39; clashes with field &#39;SelfClashForeign.id&#39;. Add a related_name argument to the definition for &#39;foreign_1&#39;.</span>
<span class="s">invalid_models.selfclashforeign: Accessor for field &#39;foreign_2&#39; clashes with field &#39;SelfClashForeign.src_safe&#39;. Add a related_name argument to the definition for &#39;foreign_2&#39;.</span>
<span class="s">invalid_models.selfclashforeign: Reverse query name for field &#39;foreign_2&#39; clashes with field &#39;SelfClashForeign.src_safe&#39;. Add a related_name argument to the definition for &#39;foreign_2&#39;.</span>
<span class="s">invalid_models.selfclashm2m: Accessor for m2m field &#39;selfclashm2m_set&#39; clashes with m2m field &#39;SelfClashM2M.selfclashm2m_set&#39;. Add a related_name argument to the definition for &#39;selfclashm2m_set&#39;.</span>
<span class="s">invalid_models.selfclashm2m: Reverse query name for m2m field &#39;selfclashm2m_set&#39; clashes with field &#39;SelfClashM2M.selfclashm2m&#39;. Add a related_name argument to the definition for &#39;selfclashm2m_set&#39;.</span>
<span class="s">invalid_models.selfclashm2m: Accessor for m2m field &#39;selfclashm2m_set&#39; clashes with related m2m field &#39;SelfClashM2M.selfclashm2m_set&#39;. Add a related_name argument to the definition for &#39;selfclashm2m_set&#39;.</span>
<span class="s">invalid_models.selfclashm2m: Accessor for m2m field &#39;m2m_1&#39; clashes with field &#39;SelfClashM2M.id&#39;. Add a related_name argument to the definition for &#39;m2m_1&#39;.</span>
<span class="s">invalid_models.selfclashm2m: Accessor for m2m field &#39;m2m_2&#39; clashes with field &#39;SelfClashM2M.src_safe&#39;. Add a related_name argument to the definition for &#39;m2m_2&#39;.</span>
<span class="s">invalid_models.selfclashm2m: Reverse query name for m2m field &#39;m2m_1&#39; clashes with field &#39;SelfClashM2M.id&#39;. Add a related_name argument to the definition for &#39;m2m_1&#39;.</span>
<span class="s">invalid_models.selfclashm2m: Reverse query name for m2m field &#39;m2m_2&#39; clashes with field &#39;SelfClashM2M.src_safe&#39;. Add a related_name argument to the definition for &#39;m2m_2&#39;.</span>
<span class="s">invalid_models.selfclashm2m: Accessor for m2m field &#39;m2m_3&#39; clashes with m2m field &#39;SelfClashM2M.selfclashm2m_set&#39;. Add a related_name argument to the definition for &#39;m2m_3&#39;.</span>
<span class="s">invalid_models.selfclashm2m: Accessor for m2m field &#39;m2m_3&#39; clashes with related m2m field &#39;SelfClashM2M.selfclashm2m_set&#39;. Add a related_name argument to the definition for &#39;m2m_3&#39;.</span>
<span class="s">invalid_models.selfclashm2m: Accessor for m2m field &#39;m2m_3&#39; clashes with related m2m field &#39;SelfClashM2M.selfclashm2m_set&#39;. Add a related_name argument to the definition for &#39;m2m_3&#39;.</span>
<span class="s">invalid_models.selfclashm2m: Accessor for m2m field &#39;m2m_4&#39; clashes with m2m field &#39;SelfClashM2M.selfclashm2m_set&#39;. Add a related_name argument to the definition for &#39;m2m_4&#39;.</span>
<span class="s">invalid_models.selfclashm2m: Accessor for m2m field &#39;m2m_4&#39; clashes with related m2m field &#39;SelfClashM2M.selfclashm2m_set&#39;. Add a related_name argument to the definition for &#39;m2m_4&#39;.</span>
<span class="s">invalid_models.selfclashm2m: Accessor for m2m field &#39;m2m_4&#39; clashes with related m2m field &#39;SelfClashM2M.selfclashm2m_set&#39;. Add a related_name argument to the definition for &#39;m2m_4&#39;.</span>
<span class="s">invalid_models.selfclashm2m: Reverse query name for m2m field &#39;m2m_3&#39; clashes with field &#39;SelfClashM2M.selfclashm2m&#39;. Add a related_name argument to the definition for &#39;m2m_3&#39;.</span>
<span class="s">invalid_models.selfclashm2m: Reverse query name for m2m field &#39;m2m_4&#39; clashes with field &#39;SelfClashM2M.selfclashm2m&#39;. Add a related_name argument to the definition for &#39;m2m_4&#39;.</span>
<span class="s">invalid_models.missingrelations: &#39;rel1&#39; has a relation with model Rel1, which has either not been installed or is abstract.</span>
<span class="s">invalid_models.missingrelations: &#39;rel2&#39; has an m2m relation with model Rel2, which has either not been installed or is abstract.</span>
<span class="s">invalid_models.grouptwo: &#39;primary&#39; is a manually-defined m2m relation through model Membership, which does not have foreign keys to Person and GroupTwo</span>
<span class="s">invalid_models.grouptwo: &#39;secondary&#39; is a manually-defined m2m relation through model MembershipMissingFK, which does not have foreign keys to Group and GroupTwo</span>
<span class="s">invalid_models.missingmanualm2mmodel: &#39;missing_m2m&#39; specifies an m2m relation through model MissingM2MModel, which has not been installed</span>
<span class="s">invalid_models.group: The model Group has two manually-defined m2m relations through the model Membership, which is not permitted. Please consider using an extra field on your intermediary model instead.</span>
<span class="s">invalid_models.group: Intermediary model RelationshipDoubleFK has more than one foreign key to Person, which is ambiguous and is not permitted.</span>
<span class="s">invalid_models.personselfrefm2m: Many-to-many fields with intermediate tables cannot be symmetrical.</span>
<span class="s">invalid_models.personselfrefm2m: Intermediary model RelationshipTripleFK has more than two foreign keys to PersonSelfRefM2M, which is ambiguous and is not permitted.</span>
<span class="s">invalid_models.personselfrefm2mexplicit: Many-to-many fields with intermediate tables cannot be symmetrical.</span>
<span class="s">invalid_models.abstractrelationmodel: &#39;fk1&#39; has a relation with model AbstractModel, which has either not been installed or is abstract.</span>
<span class="s">invalid_models.abstractrelationmodel: &#39;fk2&#39; has an m2m relation with model AbstractModel, which has either not been installed or is abstract.</span>
<span class="s">invalid_models.uniquem2m: ManyToManyFields cannot be unique.  Remove the unique argument on &#39;unique_people&#39;.</span>
<span class="s">invalid_models.nonuniquefktarget1: Field &#39;bad&#39; under model &#39;FKTarget&#39; must have a unique=True constraint.</span>
<span class="s">invalid_models.nonuniquefktarget2: Field &#39;bad&#39; under model &#39;FKTarget&#39; must have a unique=True constraint.</span>
<span class="s">invalid_models.nonexistingorderingwithsingleunderscore: &quot;ordering&quot; refers to &quot;does_not_exist&quot;, a field that doesn&#39;t exist.</span>
<span class="s">invalid_models.invalidsetnull: &#39;fk&#39; specifies on_delete=SET_NULL, but cannot be null.</span>
<span class="s">invalid_models.invalidsetdefault: &#39;fk&#39; specifies on_delete=SET_DEFAULT, but has no default value.</span>
<span class="s">&quot;&quot;&quot;</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">connection</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">interprets_empty_strings_as_nulls</span><span class="p">:</span>
    <span class="n">model_errors</span> <span class="o">+=</span> <span class="s">&quot;&quot;&quot;invalid_models.primarykeynull: &quot;my_pk_field&quot;: Primary key fields cannot have null=True.</span>
<span class="s">&quot;&quot;&quot;</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/django",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
