<!DOCTYPE html>
<html><head><title>joekychen/django » django › contrib › gis › gdal › tests › test_geom.py

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>test_geom.py</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">binascii</span> <span class="kn">import</span> <span class="n">b2a_hex</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">cPickle</span> <span class="kn">as</span> <span class="nn">pickle</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">pickle</span>

<span class="kn">from</span> <span class="nn">django.contrib.gis.gdal</span> <span class="kn">import</span> <span class="p">(</span><span class="n">OGRGeometry</span><span class="p">,</span> <span class="n">OGRGeomType</span><span class="p">,</span> <span class="n">OGRException</span><span class="p">,</span>
    <span class="n">OGRIndexError</span><span class="p">,</span> <span class="n">SpatialReference</span><span class="p">,</span> <span class="n">CoordTransform</span><span class="p">,</span> <span class="n">GDAL_VERSION</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">django.contrib.gis.gdal.prototypes.geom</span> <span class="kn">import</span> <span class="n">GEOJSON</span>
<span class="kn">from</span> <span class="nn">django.contrib.gis.geometry.test_data</span> <span class="kn">import</span> <span class="n">TestDataMixin</span>
<span class="kn">from</span> <span class="nn">django.utils</span> <span class="kn">import</span> <span class="n">unittest</span>

<span class="k">class</span> <span class="nc">OGRGeomTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,</span> <span class="n">TestDataMixin</span><span class="p">):</span>
    <span class="s">&quot;This tests the OGR Geometry.&quot;</span>

    <span class="k">def</span> <span class="nf">test00a_geomtype</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing OGRGeomType object.&quot;</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>OGRGeomType should initialize on all these inputs.</p></td><td class="code"><div class="highlight"><pre>        <span class="k">try</span><span class="p">:</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="s">&#39;point&#39;</span><span class="p">)</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="s">&#39;GeometrycollectioN&#39;</span><span class="p">)</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="s">&#39;LINearrING&#39;</span><span class="p">)</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="s">&#39;Unknown&#39;</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s">&#39;Could not create an OGRGeomType object!&#39;</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><p>Should throw TypeError on this input</p></td><td class="code"><div class="highlight"><pre>        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">OGRException</span><span class="p">,</span> <span class="n">OGRGeomType</span><span class="p">,</span> <span class="mi">23</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">OGRException</span><span class="p">,</span> <span class="n">OGRGeomType</span><span class="p">,</span> <span class="s">&#39;fooD&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">OGRException</span><span class="p">,</span> <span class="n">OGRGeomType</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-4"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-4">&#182;</a></div><p>Equivalence can take strings, ints, and other OGRGeomTypes</p></td><td class="code"><div class="highlight"><pre>        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;GeometryCollection&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="s">&#39;point&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;POINT&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="s">&#39;point&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="s">&#39;unknown&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;MULtiPolyGON&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">!=</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="s">&#39;point&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="s">&#39;POINT&#39;</span><span class="p">)</span> <span class="o">!=</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span></pre></div></td></tr>


<tr id="section-5"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-5">&#182;</a></div><p>Testing the Django field name equivalent property.</p></td><td class="code"><div class="highlight"><pre>        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;PointField&#39;</span><span class="p">,</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="s">&#39;Point&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">django</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;GeometryField&#39;</span><span class="p">,</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="s">&#39;Unknown&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">django</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="s">&#39;none&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">django</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-6"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-6">&#182;</a></div><p>'Geometry' initialization implies an unknown geometry type.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">gt</span> <span class="o">=</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="s">&#39;Geometry&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">gt</span><span class="o">.</span><span class="n">num</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;Unknown&#39;</span><span class="p">,</span> <span class="n">gt</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test00b_geomtype_25d</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing OGRGeomType object with 25D types.&quot;</span>
        <span class="n">wkb25bit</span> <span class="o">=</span> <span class="n">OGRGeomType</span><span class="o">.</span><span class="n">wkb25bit</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">OGRGeomType</span><span class="p">(</span><span class="n">wkb25bit</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;Point25D&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">OGRGeomType</span><span class="p">(</span><span class="s">&#39;MultiLineString25D&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="mi">5</span> <span class="o">+</span> <span class="n">wkb25bit</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;GeometryCollectionField&#39;</span><span class="p">,</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="s">&#39;GeometryCollection25D&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">django</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test01a_wkt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing WKT output.&quot;</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">wkt_out</span><span class="p">:</span>
            <span class="n">geom</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">wkt</span><span class="p">,</span> <span class="n">geom</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test01a_ewkt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing EWKT input/output.&quot;</span>
        <span class="k">for</span> <span class="n">ewkt_val</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;POINT (1 2 3)&#39;</span><span class="p">,</span> <span class="s">&#39;LINEARRING (0 0,1 1,2 1,0 0)&#39;</span><span class="p">):</span></pre></div></td></tr>


<tr id="section-7"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-7">&#182;</a></div><p>First with ewkt output when no SRID in EWKT</p></td><td class="code"><div class="highlight"><pre>            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">ewkt_val</span><span class="p">,</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">ewkt_val</span><span class="p">)</span><span class="o">.</span><span class="n">ewkt</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-8"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-8">&#182;</a></div><p>No test consumption with an SRID specified.</p></td><td class="code"><div class="highlight"><pre>            <span class="n">ewkt_val</span> <span class="o">=</span> <span class="s">&#39;SRID=4326;</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">ewkt_val</span>
            <span class="n">geom</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">ewkt_val</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">ewkt_val</span><span class="p">,</span> <span class="n">geom</span><span class="o">.</span><span class="n">ewkt</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">4326</span><span class="p">,</span> <span class="n">geom</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">srid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test01b_gml</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing GML output.&quot;</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">wkt_out</span><span class="p">:</span>
            <span class="n">geom</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
            <span class="n">exp_gml</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">gml</span>
            <span class="k">if</span> <span class="n">GDAL_VERSION</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">):</span></pre></div></td></tr>


<tr id="section-9"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-9">&#182;</a></div><p>In GDAL 1.8, the non-conformant GML tag  <gml:GeometryCollection> was
replaced with <gml:MultiGeometry>.</p></td><td class="code"><div class="highlight"><pre>                <span class="n">exp_gml</span> <span class="o">=</span> <span class="n">exp_gml</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;GeometryCollection&#39;</span><span class="p">,</span> <span class="s">&#39;MultiGeometry&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">exp_gml</span><span class="p">,</span> <span class="n">geom</span><span class="o">.</span><span class="n">gml</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test01c_hex</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing HEX input/output.&quot;</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">hex_wkt</span><span class="p">:</span>
            <span class="n">geom1</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">hex</span><span class="p">,</span> <span class="n">geom1</span><span class="o">.</span><span class="n">hex</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-10"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-10">&#182;</a></div><p>Constructing w/HEX</p></td><td class="code"><div class="highlight"><pre>            <span class="n">geom2</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">hex</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">geom1</span><span class="p">,</span> <span class="n">geom2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test01d_wkb</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing WKB input/output.&quot;</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">hex_wkt</span><span class="p">:</span>
            <span class="n">geom1</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
            <span class="n">wkb</span> <span class="o">=</span> <span class="n">geom1</span><span class="o">.</span><span class="n">wkb</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b2a_hex</span><span class="p">(</span><span class="n">wkb</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="n">g</span><span class="o">.</span><span class="n">hex</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-11"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-11">&#182;</a></div><p>Constructing w/WKB.</p></td><td class="code"><div class="highlight"><pre>            <span class="n">geom2</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">wkb</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">geom1</span><span class="p">,</span> <span class="n">geom2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test01e_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing GeoJSON input/output.&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">GEOJSON</span><span class="p">:</span> <span class="k">return</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">json_geoms</span><span class="p">:</span>
            <span class="n">geom</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s">&#39;not_equal&#39;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">json</span><span class="p">,</span> <span class="n">geom</span><span class="o">.</span><span class="n">json</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">json</span><span class="p">,</span> <span class="n">geom</span><span class="o">.</span><span class="n">geojson</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">OGRGeometry</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">wkt</span><span class="p">),</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">geom</span><span class="o">.</span><span class="n">json</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test02_points</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing Point objects.&quot;</span>

        <span class="n">prev</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;POINT(0 0)&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">points</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">):</span> <span class="c"># No 3D</span>
                <span class="n">pnt</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">pnt</span><span class="o">.</span><span class="n">geom_type</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;POINT&#39;</span><span class="p">,</span> <span class="n">pnt</span><span class="o">.</span><span class="n">geom_name</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pnt</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">pnt</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">((</span><span class="n">p</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">y</span><span class="p">),</span> <span class="n">pnt</span><span class="o">.</span><span class="n">tuple</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test03_multipoints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing MultiPoint objects.&quot;</span>
        <span class="k">for</span> <span class="n">mp</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">multipoints</span><span class="p">:</span>
            <span class="n">mgeom1</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">mp</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span> <span class="c"># First one from WKT</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">mgeom1</span><span class="o">.</span><span class="n">geom_type</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;MULTIPOINT&#39;</span><span class="p">,</span> <span class="n">mgeom1</span><span class="o">.</span><span class="n">geom_name</span><span class="p">)</span>
            <span class="n">mgeom2</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;MULTIPOINT&#39;</span><span class="p">)</span> <span class="c"># Creating empty multipoint</span>
            <span class="n">mgeom3</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;MULTIPOINT&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">mgeom1</span><span class="p">:</span>
                <span class="n">mgeom2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="c"># adding each point from the multipoints</span>
                <span class="n">mgeom3</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span> <span class="c"># should take WKT as well</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mgeom1</span><span class="p">,</span> <span class="n">mgeom2</span><span class="p">)</span> <span class="c"># they should equal</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mgeom1</span><span class="p">,</span> <span class="n">mgeom3</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mp</span><span class="o">.</span><span class="n">coords</span><span class="p">,</span> <span class="n">mgeom2</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mp</span><span class="o">.</span><span class="n">n_p</span><span class="p">,</span> <span class="n">mgeom2</span><span class="o">.</span><span class="n">point_count</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test04_linestring</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing LineString objects.&quot;</span>
        <span class="n">prev</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;POINT(0 0)&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ls</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">linestrings</span><span class="p">:</span>
            <span class="n">linestr</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">ls</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestr</span><span class="o">.</span><span class="n">geom_type</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;LINESTRING&#39;</span><span class="p">,</span> <span class="n">linestr</span><span class="o">.</span><span class="n">geom_name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">ls</span><span class="o">.</span><span class="n">n_p</span><span class="p">,</span> <span class="n">linestr</span><span class="o">.</span><span class="n">point_count</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">ls</span><span class="o">.</span><span class="n">coords</span><span class="p">,</span> <span class="n">linestr</span><span class="o">.</span><span class="n">tuple</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">linestr</span> <span class="o">==</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">ls</span><span class="o">.</span><span class="n">wkt</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">linestr</span> <span class="o">!=</span> <span class="n">prev</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">OGRIndexError</span><span class="p">,</span> <span class="n">linestr</span><span class="o">.</span><span class="n">__getitem__</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">linestr</span><span class="p">))</span>
            <span class="n">prev</span> <span class="o">=</span> <span class="n">linestr</span></pre></div></td></tr>


<tr id="section-12"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-12">&#182;</a></div><p>Testing the x, y properties.</p></td><td class="code"><div class="highlight"><pre>            <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">tmpx</span> <span class="k">for</span> <span class="n">tmpx</span><span class="p">,</span> <span class="n">tmpy</span> <span class="ow">in</span> <span class="n">ls</span><span class="o">.</span><span class="n">coords</span><span class="p">]</span>
            <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">tmpy</span> <span class="k">for</span> <span class="n">tmpx</span><span class="p">,</span> <span class="n">tmpy</span> <span class="ow">in</span> <span class="n">ls</span><span class="o">.</span><span class="n">coords</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">linestr</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">linestr</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test05_multilinestring</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing MultiLineString objects.&quot;</span>
        <span class="n">prev</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;POINT(0 0)&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">mls</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">multilinestrings</span><span class="p">:</span>
            <span class="n">mlinestr</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">mls</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">mlinestr</span><span class="o">.</span><span class="n">geom_type</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;MULTILINESTRING&#39;</span><span class="p">,</span> <span class="n">mlinestr</span><span class="o">.</span><span class="n">geom_name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mls</span><span class="o">.</span><span class="n">n_p</span><span class="p">,</span> <span class="n">mlinestr</span><span class="o">.</span><span class="n">point_count</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mls</span><span class="o">.</span><span class="n">coords</span><span class="p">,</span> <span class="n">mlinestr</span><span class="o">.</span><span class="n">tuple</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">mlinestr</span> <span class="o">==</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">mls</span><span class="o">.</span><span class="n">wkt</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">mlinestr</span> <span class="o">!=</span> <span class="n">prev</span><span class="p">)</span>
            <span class="n">prev</span> <span class="o">=</span> <span class="n">mlinestr</span>
            <span class="k">for</span> <span class="n">ls</span> <span class="ow">in</span> <span class="n">mlinestr</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">ls</span><span class="o">.</span><span class="n">geom_type</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;LINESTRING&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">.</span><span class="n">geom_name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">OGRIndexError</span><span class="p">,</span> <span class="n">mlinestr</span><span class="o">.</span><span class="n">__getitem__</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">mlinestr</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test06_linearring</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing LinearRing objects.&quot;</span>
        <span class="n">prev</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;POINT(0 0)&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">rr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">linearrings</span><span class="p">:</span>
            <span class="n">lr</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">rr</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-13"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-13">&#182;</a></div><p>self.assertEqual(101, lr.geom_type.num)</p></td><td class="code"><div class="highlight"><pre>            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;LINEARRING&#39;</span><span class="p">,</span> <span class="n">lr</span><span class="o">.</span><span class="n">geom_name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">rr</span><span class="o">.</span><span class="n">n_p</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">lr</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">lr</span> <span class="o">==</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">rr</span><span class="o">.</span><span class="n">wkt</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">lr</span> <span class="o">!=</span> <span class="n">prev</span><span class="p">)</span>
            <span class="n">prev</span> <span class="o">=</span> <span class="n">lr</span>

    <span class="k">def</span> <span class="nf">test07a_polygons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing Polygon objects.&quot;</span></pre></div></td></tr>


<tr id="section-14"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-14">&#182;</a></div><p>Testing <code>from_bbox</code> class method</p></td><td class="code"><div class="highlight"><pre>        <span class="n">bbox</span> <span class="o">=</span>  <span class="p">(</span><span class="o">-</span><span class="mi">180</span><span class="p">,</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span><span class="mi">180</span><span class="p">,</span><span class="mi">90</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="o">.</span><span class="n">from_bbox</span><span class="p">(</span> <span class="n">bbox</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">bbox</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">extent</span><span class="p">)</span>

        <span class="n">prev</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;POINT(0 0)&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">polygons</span><span class="p">:</span>
            <span class="n">poly</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">poly</span><span class="o">.</span><span class="n">geom_type</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;POLYGON&#39;</span><span class="p">,</span> <span class="n">poly</span><span class="o">.</span><span class="n">geom_name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">n_p</span><span class="p">,</span> <span class="n">poly</span><span class="o">.</span><span class="n">point_count</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">n_i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">poly</span><span class="p">))</span></pre></div></td></tr>


<tr id="section-15"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-15">&#182;</a></div><p>Testing area &amp; centroid.</p></td><td class="code"><div class="highlight"><pre>            <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">area</span><span class="p">,</span> <span class="n">poly</span><span class="o">.</span><span class="n">area</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
            <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">poly</span><span class="o">.</span><span class="n">centroid</span><span class="o">.</span><span class="n">tuple</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">centroid</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">centroid</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">y</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-16"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-16">&#182;</a></div><p>Testing equivalence</p></td><td class="code"><div class="highlight"><pre>            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">poly</span> <span class="o">==</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">wkt</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">poly</span> <span class="o">!=</span> <span class="n">prev</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">p</span><span class="o">.</span><span class="n">ext_ring_cs</span><span class="p">:</span>
                <span class="n">ring</span> <span class="o">=</span> <span class="n">poly</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">ext_ring_cs</span><span class="p">,</span> <span class="n">ring</span><span class="o">.</span><span class="n">tuple</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">ext_ring_cs</span><span class="p">,</span> <span class="n">poly</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tuple</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">ext_ring_cs</span><span class="p">),</span> <span class="n">ring</span><span class="o">.</span><span class="n">point_count</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">poly</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;LINEARRING&#39;</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">geom_name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test07b_closepolygons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing closing Polygon objects.&quot;</span></pre></div></td></tr>


<tr id="section-17"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-17">&#182;</a></div><p>Both rings in this geometry are not closed.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">poly</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;POLYGON((0 0, 5 0, 5 5, 0 5), (1 1, 2 1, 2 2, 2 1))&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">poly</span><span class="o">.</span><span class="n">point_count</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">BEGIN - expecting IllegalArgumentException; safe to ignore.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">poly</span><span class="o">.</span><span class="n">centroid</span>
        <span class="k">except</span> <span class="n">OGRException</span><span class="p">:</span></pre></div></td></tr>


<tr id="section-18"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-18">&#182;</a></div><p>Should raise an OGR exception, rings are not closed</p></td><td class="code"><div class="highlight"><pre>            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s">&#39;Should have raised an OGRException!&#39;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">END - expecting IllegalArgumentException; safe to ignore.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-19"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-19">&#182;</a></div><p>Closing the rings -- doesn't work on GDAL versions 1.4.1 and below:
http://trac.osgeo.org/gdal/ticket/1673</p></td><td class="code"><div class="highlight"><pre>        <span class="k">if</span> <span class="n">GDAL_VERSION</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="k">return</span>
        <span class="n">poly</span><span class="o">.</span><span class="n">close_rings</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">poly</span><span class="o">.</span><span class="n">point_count</span><span class="p">)</span> <span class="c"># Two closing points should&#39;ve been added</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;POINT(2.5 2.5)&#39;</span><span class="p">),</span> <span class="n">poly</span><span class="o">.</span><span class="n">centroid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test08_multipolygons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing MultiPolygon objects.&quot;</span>
        <span class="n">prev</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;POINT(0 0)&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">mp</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">multipolygons</span><span class="p">:</span>
            <span class="n">mpoly</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">mp</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">mpoly</span><span class="o">.</span><span class="n">geom_type</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;MULTIPOLYGON&#39;</span><span class="p">,</span> <span class="n">mpoly</span><span class="o">.</span><span class="n">geom_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">mp</span><span class="o">.</span><span class="n">valid</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mp</span><span class="o">.</span><span class="n">n_p</span><span class="p">,</span> <span class="n">mpoly</span><span class="o">.</span><span class="n">point_count</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mp</span><span class="o">.</span><span class="n">num_geom</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">mpoly</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">OGRIndexError</span><span class="p">,</span> <span class="n">mpoly</span><span class="o">.</span><span class="n">__getitem__</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">mpoly</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">mpoly</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;POLYGON&#39;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">geom_name</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">geom_type</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mpoly</span><span class="o">.</span><span class="n">wkt</span><span class="p">,</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">mp</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test09a_srs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing OGR Geometries with Spatial Reference objects.&quot;</span>
        <span class="k">for</span> <span class="n">mp</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">multipolygons</span><span class="p">:</span></pre></div></td></tr>


<tr id="section-20"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-20">&#182;</a></div><p>Creating a geometry w/spatial reference</p></td><td class="code"><div class="highlight"><pre>            <span class="n">sr</span> <span class="o">=</span> <span class="n">SpatialReference</span><span class="p">(</span><span class="s">&#39;WGS84&#39;</span><span class="p">)</span>
            <span class="n">mpoly</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">mp</span><span class="o">.</span><span class="n">wkt</span><span class="p">,</span> <span class="n">sr</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">sr</span><span class="o">.</span><span class="n">wkt</span><span class="p">,</span> <span class="n">mpoly</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-21"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-21">&#182;</a></div><p>Ensuring that SRS is propagated to clones.</p></td><td class="code"><div class="highlight"><pre>            <span class="n">klone</span> <span class="o">=</span> <span class="n">mpoly</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">sr</span><span class="o">.</span><span class="n">wkt</span><span class="p">,</span> <span class="n">klone</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-22"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-22">&#182;</a></div><p>Ensuring all children geometries (polygons and their rings) all
return the assigned spatial reference as well.</p></td><td class="code"><div class="highlight"><pre>            <span class="k">for</span> <span class="n">poly</span> <span class="ow">in</span> <span class="n">mpoly</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">sr</span><span class="o">.</span><span class="n">wkt</span><span class="p">,</span> <span class="n">poly</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">ring</span> <span class="ow">in</span> <span class="n">poly</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">sr</span><span class="o">.</span><span class="n">wkt</span><span class="p">,</span> <span class="n">ring</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-23"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-23">&#182;</a></div><p>Ensuring SRS propagate in topological ops.</p></td><td class="code"><div class="highlight"><pre>            <span class="n">a</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">topology_geoms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">wkt_a</span><span class="p">,</span> <span class="n">sr</span><span class="p">)</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">topology_geoms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">wkt_b</span><span class="p">,</span> <span class="n">sr</span><span class="p">)</span>
            <span class="n">diff</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
            <span class="n">union</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">sr</span><span class="o">.</span><span class="n">wkt</span><span class="p">,</span> <span class="n">diff</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">sr</span><span class="o">.</span><span class="n">srid</span><span class="p">,</span> <span class="n">union</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">srid</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-24"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-24">&#182;</a></div><p>Instantiating w/an integer SRID</p></td><td class="code"><div class="highlight"><pre>            <span class="n">mpoly</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">mp</span><span class="o">.</span><span class="n">wkt</span><span class="p">,</span> <span class="mi">4326</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">4326</span><span class="p">,</span> <span class="n">mpoly</span><span class="o">.</span><span class="n">srid</span><span class="p">)</span>
            <span class="n">mpoly</span><span class="o">.</span><span class="n">srs</span> <span class="o">=</span> <span class="n">SpatialReference</span><span class="p">(</span><span class="mi">4269</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">4269</span><span class="p">,</span> <span class="n">mpoly</span><span class="o">.</span><span class="n">srid</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;NAD83&#39;</span><span class="p">,</span> <span class="n">mpoly</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-25"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-25">&#182;</a></div><p>Incrementing through the multipolyogn after the spatial reference
has been re-assigned.</p></td><td class="code"><div class="highlight"><pre>            <span class="k">for</span> <span class="n">poly</span> <span class="ow">in</span> <span class="n">mpoly</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mpoly</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">wkt</span><span class="p">,</span> <span class="n">poly</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
                <span class="n">poly</span><span class="o">.</span><span class="n">srs</span> <span class="o">=</span> <span class="mi">32140</span>
                <span class="k">for</span> <span class="n">ring</span> <span class="ow">in</span> <span class="n">poly</span><span class="p">:</span></pre></div></td></tr>


<tr id="section-26"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-26">&#182;</a></div><p>Changing each ring in the polygon</p></td><td class="code"><div class="highlight"><pre>                    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">32140</span><span class="p">,</span> <span class="n">ring</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">srid</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;NAD83 / Texas South Central&#39;</span><span class="p">,</span> <span class="n">ring</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                    <span class="n">ring</span><span class="o">.</span><span class="n">srs</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">SpatialReference</span><span class="p">(</span><span class="mi">4326</span><span class="p">))</span> <span class="c"># back to WGS84</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">4326</span><span class="p">,</span> <span class="n">ring</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">srid</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-27"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-27">&#182;</a></div><p>Using the <code>srid</code> property.</p></td><td class="code"><div class="highlight"><pre>                    <span class="n">ring</span><span class="o">.</span><span class="n">srid</span> <span class="o">=</span> <span class="mi">4322</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;WGS 72&#39;</span><span class="p">,</span> <span class="n">ring</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">4322</span><span class="p">,</span> <span class="n">ring</span><span class="o">.</span><span class="n">srid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test09b_srs_transform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing transform().&quot;</span>
        <span class="n">orig</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;POINT (-104.609 38.255)&#39;</span><span class="p">,</span> <span class="mi">4326</span><span class="p">)</span>
        <span class="n">trans</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;POINT (992385.4472045 481455.4944650)&#39;</span><span class="p">,</span> <span class="mi">2774</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-28"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-28">&#182;</a></div><p>Using an srid, a SpatialReference object, and a CoordTransform object
or transformations.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span> <span class="n">t3</span> <span class="o">=</span> <span class="n">orig</span><span class="o">.</span><span class="n">clone</span><span class="p">(),</span> <span class="n">orig</span><span class="o">.</span><span class="n">clone</span><span class="p">(),</span> <span class="n">orig</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
        <span class="n">t1</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">trans</span><span class="o">.</span><span class="n">srid</span><span class="p">)</span>
        <span class="n">t2</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">SpatialReference</span><span class="p">(</span><span class="s">&#39;EPSG:2774&#39;</span><span class="p">))</span>
        <span class="n">ct</span> <span class="o">=</span> <span class="n">CoordTransform</span><span class="p">(</span><span class="n">SpatialReference</span><span class="p">(</span><span class="s">&#39;WGS84&#39;</span><span class="p">),</span> <span class="n">SpatialReference</span><span class="p">(</span><span class="mi">2774</span><span class="p">))</span>
        <span class="n">t3</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">ct</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-29"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-29">&#182;</a></div><p>Testing use of the <code>clone</code> keyword.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">k1</span> <span class="o">=</span> <span class="n">orig</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
        <span class="n">k2</span> <span class="o">=</span> <span class="n">k1</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">trans</span><span class="o">.</span><span class="n">srid</span><span class="p">,</span> <span class="n">clone</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span> <span class="n">orig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">)</span>

        <span class="n">prec</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span> <span class="n">t3</span><span class="p">,</span> <span class="n">k2</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">trans</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">prec</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">trans</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">prec</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test09c_transform_dim</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing coordinate dimension is the same on transformed geometries.&quot;</span>
        <span class="n">ls_orig</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;LINESTRING(-104.609 38.255)&#39;</span><span class="p">,</span> <span class="mi">4326</span><span class="p">)</span>
        <span class="n">ls_trans</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;LINESTRING(992385.4472045 481455.4944650)&#39;</span><span class="p">,</span> <span class="mi">2774</span><span class="p">)</span>

        <span class="n">prec</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">ls_orig</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">ls_trans</span><span class="o">.</span><span class="n">srs</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-30"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-30">&#182;</a></div><p>Making sure the coordinate dimension is still 2D.</p></td><td class="code"><div class="highlight"><pre>        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">ls_orig</span><span class="o">.</span><span class="n">coord_dim</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">ls_trans</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ls_orig</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">prec</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">ls_trans</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ls_orig</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">prec</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test10_difference</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing difference().&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">topology_geoms</span><span class="p">)):</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">topology_geoms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">wkt_a</span><span class="p">)</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">topology_geoms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">wkt_b</span><span class="p">)</span>
            <span class="n">d1</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">diff_geoms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
            <span class="n">d2</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">)</span> <span class="c"># __sub__ is difference operator</span>
            <span class="n">a</span> <span class="o">-=</span> <span class="n">b</span> <span class="c"># testing __isub__</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test11_intersection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing intersects() and intersection().&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">topology_geoms</span><span class="p">)):</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">topology_geoms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">wkt_a</span><span class="p">)</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">topology_geoms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">wkt_b</span><span class="p">)</span>
            <span class="n">i1</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">intersect_geoms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">intersects</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
            <span class="n">i2</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">a</span> <span class="o">&amp;</span> <span class="n">b</span><span class="p">)</span> <span class="c"># __and__ is intersection operator</span>
            <span class="n">a</span> <span class="o">&amp;=</span> <span class="n">b</span> <span class="c"># testing __iand__</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test12_symdifference</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing sym_difference().&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">topology_geoms</span><span class="p">)):</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">topology_geoms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">wkt_a</span><span class="p">)</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">topology_geoms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">wkt_b</span><span class="p">)</span>
            <span class="n">d1</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">sdiff_geoms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
            <span class="n">d2</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">sym_difference</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">a</span> <span class="o">^</span> <span class="n">b</span><span class="p">)</span> <span class="c"># __xor__ is symmetric difference operator</span>
            <span class="n">a</span> <span class="o">^=</span> <span class="n">b</span> <span class="c"># testing __ixor__</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test13_union</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing union().&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">topology_geoms</span><span class="p">)):</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">topology_geoms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">wkt_a</span><span class="p">)</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">topology_geoms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">wkt_b</span><span class="p">)</span>
            <span class="n">u1</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">union_geoms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
            <span class="n">u2</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">u1</span><span class="p">,</span> <span class="n">u2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">u1</span><span class="p">,</span> <span class="n">a</span> <span class="o">|</span> <span class="n">b</span><span class="p">)</span> <span class="c"># __or__ is union operator</span>
            <span class="n">a</span> <span class="o">|=</span> <span class="n">b</span> <span class="c"># testing __ior__</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">u1</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test14_add</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing GeometryCollection.add().&quot;</span></pre></div></td></tr>


<tr id="section-31"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-31">&#182;</a></div><p>Can't insert a Point into a MultiPolygon.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">mp</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;MultiPolygon&#39;</span><span class="p">)</span>
        <span class="n">pnt</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;POINT(5 23)&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">OGRException</span><span class="p">,</span> <span class="n">mp</span><span class="o">.</span><span class="n">add</span><span class="p">,</span> <span class="n">pnt</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-32"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-32">&#182;</a></div><p>GeometryCollection.add may take an OGRGeometry (if another collection
of the same type all child geoms will be added individually) or WKT.</p></td><td class="code"><div class="highlight"><pre>        <span class="k">for</span> <span class="n">mp</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">multipolygons</span><span class="p">:</span>
            <span class="n">mpoly</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">mp</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
            <span class="n">mp1</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;MultiPolygon&#39;</span><span class="p">)</span>
            <span class="n">mp2</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;MultiPolygon&#39;</span><span class="p">)</span>
            <span class="n">mp3</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;MultiPolygon&#39;</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">poly</span> <span class="ow">in</span> <span class="n">mpoly</span><span class="p">:</span>
                <span class="n">mp1</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">poly</span><span class="p">)</span> <span class="c"># Adding a geometry at a time</span>
                <span class="n">mp2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">poly</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span> <span class="c"># Adding WKT</span>
            <span class="n">mp3</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">mpoly</span><span class="p">)</span> <span class="c"># Adding a MultiPolygon&#39;s entire contents at once.</span>
            <span class="k">for</span> <span class="n">tmp</span> <span class="ow">in</span> <span class="p">(</span><span class="n">mp1</span><span class="p">,</span> <span class="n">mp2</span><span class="p">,</span> <span class="n">mp3</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mpoly</span><span class="p">,</span> <span class="n">tmp</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test15_extent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing `extent` property.&quot;</span></pre></div></td></tr>


<tr id="section-33"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-33">&#182;</a></div><p>The xmin, ymin, xmax, ymax of the MultiPoint should be returned.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">mp</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;MULTIPOINT(5 23, 0 0, 10 50)&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">((</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">),</span> <span class="n">mp</span><span class="o">.</span><span class="n">extent</span><span class="p">)</span></pre></div></td></tr>


<tr id="section-34"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-34">&#182;</a></div><p>Testing on the 'real world' Polygon.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">poly</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometries</span><span class="o">.</span><span class="n">polygons</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>
        <span class="n">ring</span> <span class="o">=</span> <span class="n">poly</span><span class="o">.</span><span class="n">shell</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">ring</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ring</span><span class="o">.</span><span class="n">y</span>
        <span class="n">xmin</span><span class="p">,</span> <span class="n">ymin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="nb">min</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
        <span class="n">xmax</span><span class="p">,</span> <span class="n">ymax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">((</span><span class="n">xmin</span><span class="p">,</span> <span class="n">ymin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="n">ymax</span><span class="p">),</span> <span class="n">poly</span><span class="o">.</span><span class="n">extent</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test16_25D</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing 2.5D geometries.&quot;</span>
        <span class="n">pnt_25d</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;POINT(1 2 3)&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;Point25D&#39;</span><span class="p">,</span> <span class="n">pnt_25d</span><span class="o">.</span><span class="n">geom_type</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">pnt_25d</span><span class="o">.</span><span class="n">z</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">pnt_25d</span><span class="o">.</span><span class="n">coord_dim</span><span class="p">)</span>
        <span class="n">ls_25d</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;LINESTRING(1 1 1,2 2 2,3 3 3)&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;LineString25D&#39;</span><span class="p">,</span> <span class="n">ls_25d</span><span class="o">.</span><span class="n">geom_type</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">ls_25d</span><span class="o">.</span><span class="n">z</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">ls_25d</span><span class="o">.</span><span class="n">coord_dim</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test17_pickle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing pickle support.&quot;</span>
        <span class="n">g1</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;LINESTRING(1 1 1,2 2 2,3 3 3)&#39;</span><span class="p">,</span> <span class="s">&#39;WGS84&#39;</span><span class="p">)</span>
        <span class="n">g2</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">g1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">g1</span><span class="p">,</span> <span class="n">g2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">4326</span><span class="p">,</span> <span class="n">g2</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">srid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">g1</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">wkt</span><span class="p">,</span> <span class="n">g2</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test18_ogrgeometry_transform_workaround</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing coordinate dimensions on geometries after transformation.&quot;</span></pre></div></td></tr>


<tr id="section-35"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-35">&#182;</a></div><p>A bug in GDAL versions prior to 1.7 changes the coordinate
dimension of a geometry after it has been transformed.
This test ensures that the bug workarounds employed within
<code>OGRGeometry.transform</code> indeed work.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">wkt_2d</span> <span class="o">=</span> <span class="s">&quot;MULTILINESTRING ((0 0,1 1,2 2))&quot;</span>
        <span class="n">wkt_3d</span> <span class="o">=</span> <span class="s">&quot;MULTILINESTRING ((0 0 0,1 1 1,2 2 2))&quot;</span>
        <span class="n">srid</span> <span class="o">=</span> <span class="mi">4326</span></pre></div></td></tr>


<tr id="section-36"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-36">&#182;</a></div><p>For both the 2D and 3D MultiLineString, ensure <em>both</em> the dimension
of the collection and the component LineString have the expected
coordinate dimension after transform.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">geom</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">wkt_2d</span><span class="p">,</span> <span class="n">srid</span><span class="p">)</span>
        <span class="n">geom</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">srid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">geom</span><span class="o">.</span><span class="n">coord_dim</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">geom</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">coord_dim</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">wkt_2d</span><span class="p">,</span> <span class="n">geom</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>

        <span class="n">geom</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="n">wkt_3d</span><span class="p">,</span> <span class="n">srid</span><span class="p">)</span>
        <span class="n">geom</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">srid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">geom</span><span class="o">.</span><span class="n">coord_dim</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">geom</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">coord_dim</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">wkt_3d</span><span class="p">,</span> <span class="n">geom</span><span class="o">.</span><span class="n">wkt</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test19_equivalence_regression</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Testing equivalence methods with non-OGRGeometry instances.&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;POINT(0 0)&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s">&#39;LINESTRING(0 0, 1 1)&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">suite</span><span class="p">():</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestSuite</span><span class="p">()</span>
    <span class="n">s</span><span class="o">.</span><span class="n">addTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">makeSuite</span><span class="p">(</span><span class="n">OGRGeomTest</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">s</span>

<span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">verbosity</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">TextTestRunner</span><span class="p">(</span><span class="n">verbosity</span><span class="o">=</span><span class="n">verbosity</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">suite</span><span class="p">())</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/django",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
