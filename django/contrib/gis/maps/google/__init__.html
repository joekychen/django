<!DOCTYPE html>
<html><head><title>joekychen/django » django › contrib › gis › maps › google › __init__.py

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>__init__.py</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  This module houses the GoogleMap object, used for generating</span>
<span class="sd">   the needed javascript to embed Google Maps in a Web page.</span>

<span class="sd">  Google(R) is a registered trademark of Google, Inc. of Mountain View, California.</span>

<span class="sd">  Example:</span>

<span class="sd">   * In the view:</span>
<span class="sd">      return render_to_response(&#39;template.html&#39;, {&#39;google&#39; : GoogleMap(key=&quot;abcdefg&quot;)})</span>

<span class="sd">   * In the template:</span>

<span class="sd">     &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span>
<span class="sd">     {{ google.xhtml }}</span>
<span class="sd">     &lt;head&gt;</span>
<span class="sd">       &lt;title&gt;Google Maps via GeoDjango&lt;/title&gt;</span>
<span class="sd">       {{ google.style }}</span>
<span class="sd">       {{ google.scripts }}</span>
<span class="sd">     &lt;/head&gt;</span>
<span class="sd">     {{ google.body }}</span>
<span class="sd">     &lt;div id=&quot;{{ google.dom_id }}&quot; style=&quot;width:600px;height:400px;&quot;&gt;&lt;/div&gt;</span>
<span class="sd">     &lt;/body&gt;</span>
<span class="sd">     &lt;/html&gt;</span>

<span class="sd">     Note:  If you want to be more explicit in your templates, the following are</span>
<span class="sd">      equivalent:</span>
<span class="sd">      {{ google.body }} =&gt; &quot;&lt;body {{ google.onload }} {{ google.onunload }}&gt;&quot;</span>
<span class="sd">      {{ google.xhtml }} =&gt; &quot;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; {{ google.xmlns }}&gt;&quot;</span>
<span class="sd">      {{ google.style }} =&gt; &quot;&lt;style&gt;{{ google.vml_css }}&lt;/style&gt;&quot;</span>

<span class="sd">  Explanation:</span>
<span class="sd">   - The `xhtml` property provides the correct XML namespace needed for </span>
<span class="sd">     Google Maps to operate in IE using XHTML.  Google Maps on IE uses</span>
<span class="sd">     VML to draw polylines.  Returns, by default: </span>
<span class="sd">     &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:v=&quot;urn:schemas-microsoft-com:vml&quot;&gt;</span>
<span class="sd">       </span>
<span class="sd">   - The `style` property provides the correct style tag for the CSS</span>
<span class="sd">     properties required by Google Maps on IE:</span>
<span class="sd">     &lt;style type=&quot;text/css&quot;&gt;v\:* {behavior:url(#default#VML);}&lt;/style&gt;</span>

<span class="sd">   - The `scripts` property provides the necessary &lt;script&gt; tags for </span>
<span class="sd">     including the Google Maps javascript, as well as including the</span>
<span class="sd">     generated javascript.</span>

<span class="sd">   - The `body` property provides the correct attributes for the </span>
<span class="sd">     body tag to load the generated javascript.  By default, returns:</span>
<span class="sd">     &lt;body onload=&quot;gmap_load()&quot; onunload=&quot;GUnload()&quot;&gt;</span>

<span class="sd">   - The `dom_id` property returns the DOM id for the map.  Defaults to &quot;map&quot;.</span>

<span class="sd">  The following attributes may be set or customized in your local settings:</span>
<span class="sd">   * GOOGLE_MAPS_API_KEY: String of your Google Maps API key.  These are tied to</span>
<span class="sd">      to a domain.  May be obtained from http://www.google.com/apis/maps/</span>
<span class="sd">   * GOOGLE_MAPS_API_VERSION (optional): Defaults to using &quot;2.x&quot;</span>
<span class="sd">   * GOOGLE_MAPS_URL (optional): Must have a substitution (&#39;%s&#39;) for the API</span>
<span class="sd">      version.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">django.contrib.gis.maps.google.gmap</span> <span class="kn">import</span> <span class="n">GoogleMap</span><span class="p">,</span> <span class="n">GoogleMapSet</span>
<span class="kn">from</span> <span class="nn">django.contrib.gis.maps.google.overlays</span> <span class="kn">import</span> <span class="n">GEvent</span><span class="p">,</span> <span class="n">GIcon</span><span class="p">,</span> <span class="n">GMarker</span><span class="p">,</span> <span class="n">GPolygon</span><span class="p">,</span> <span class="n">GPolyline</span>
<span class="kn">from</span> <span class="nn">django.contrib.gis.maps.google.zoom</span> <span class="kn">import</span> <span class="n">GoogleZoom</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/django",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
