<!DOCTYPE html>
<html><head><title>joekychen/django » django › core › servers › fastcgi.py

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>fastcgi.py</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">FastCGI (or SCGI, or AJP1.3 ...) server that implements the WSGI protocol.</span>

<span class="sd">Uses the flup python package: http://www.saddi.com/software/flup/</span>

<span class="sd">This is a adaptation of the flup package to add FastCGI server support</span>
<span class="sd">to run Django apps from Web servers that support the FastCGI protocol.</span>
<span class="sd">This module can be run standalone or from the django-admin / manage.py</span>
<span class="sd">scripts using the &quot;runfcgi&quot; directive.</span>

<span class="sd">Run with the extra option &quot;help&quot; for a list of additional options you can</span>
<span class="sd">pass to this server.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">django.utils</span> <span class="kn">import</span> <span class="n">importlib</span>

<span class="n">__version__</span> <span class="o">=</span> <span class="s">&quot;0.1&quot;</span>
<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;runfastcgi&quot;</span><span class="p">]</span>

<span class="n">FASTCGI_OPTIONS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;protocol&#39;</span><span class="p">:</span> <span class="s">&#39;fcgi&#39;</span><span class="p">,</span>
    <span class="s">&#39;host&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s">&#39;port&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s">&#39;socket&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s">&#39;method&#39;</span><span class="p">:</span> <span class="s">&#39;fork&#39;</span><span class="p">,</span>
    <span class="s">&#39;daemonize&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s">&#39;workdir&#39;</span><span class="p">:</span> <span class="s">&#39;/&#39;</span><span class="p">,</span>
    <span class="s">&#39;pidfile&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s">&#39;maxspare&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="s">&#39;minspare&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s">&#39;maxchildren&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
    <span class="s">&#39;maxrequests&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s">&#39;debug&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s">&#39;outlog&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s">&#39;errlog&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s">&#39;umask&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">FASTCGI_HELP</span> <span class="o">=</span> <span class="s">r&quot;&quot;&quot;</span>
<span class="s">  Run this project as a fastcgi (or some other protocol supported</span>
<span class="s">  by flup) application. To do this, the flup package from</span>
<span class="s">  http://www.saddi.com/software/flup/ is required.</span>

<span class="s">   runfcgi [options] [fcgi settings]</span>

<span class="s">Optional Fcgi settings: (setting=value)</span>
<span class="s">  protocol=PROTOCOL    fcgi, scgi, ajp, ... (default </span><span class="si">%(protocol)s</span><span class="s">)</span>
<span class="s">  host=HOSTNAME        hostname to listen on.</span>
<span class="s">  port=PORTNUM         port to listen on.</span>
<span class="s">  socket=FILE          UNIX socket to listen on.</span>
<span class="s">  method=IMPL          prefork or threaded (default </span><span class="si">%(method)s</span><span class="s">).</span>
<span class="s">  maxrequests=NUMBER   number of requests a child handles before it is</span>
<span class="s">                       killed and a new child is forked (0 = no limit).</span>
<span class="s">  maxspare=NUMBER      max number of spare processes / threads (default </span><span class="si">%(maxspare)s</span><span class="s">).</span>
<span class="s">  minspare=NUMBER      min number of spare processes / threads (default </span><span class="si">%(minspare)s</span><span class="s">).</span>
<span class="s">  maxchildren=NUMBER   hard limit number of processes / threads (default </span><span class="si">%(maxchildren)s</span><span class="s">).</span>
<span class="s">  daemonize=BOOL       whether to detach from terminal.</span>
<span class="s">  pidfile=FILE         write the spawned process-id to this file.</span>
<span class="s">  workdir=DIRECTORY    change to this directory when daemonizing (default </span><span class="si">%(workdir)s</span><span class="s">).</span>
<span class="s">  debug=BOOL           set to true to enable flup tracebacks.</span>
<span class="s">  outlog=FILE          write stdout to this file.</span>
<span class="s">  errlog=FILE          write stderr to this file.</span>
<span class="s">  umask=UMASK          umask to use when daemonizing, in octal notation (default 022).</span>

<span class="s">Examples:</span>
<span class="s">  Run a &quot;standard&quot; fastcgi process on a file-descriptor</span>
<span class="s">  (for Web servers which spawn your processes for you)</span>
<span class="s">    $ manage.py runfcgi method=threaded</span>

<span class="s">  Run a scgi server on a TCP host/port</span>
<span class="s">    $ manage.py runfcgi protocol=scgi method=prefork host=127.0.0.1 port=8025</span>

<span class="s">  Run a fastcgi server on a UNIX domain socket (posix platforms only)</span>
<span class="s">    $ manage.py runfcgi method=prefork socket=/tmp/fcgi.sock</span>

<span class="s">  Run a fastCGI as a daemon and write the spawned PID in a file</span>
<span class="s">    $ manage.py runfcgi socket=/tmp/fcgi.sock method=prefork \</span>
<span class="s">        daemonize=true pidfile=/var/run/django-fcgi.pid</span>

<span class="s">&quot;&quot;&quot;</span> <span class="o">%</span> <span class="n">FASTCGI_OPTIONS</span>

<span class="k">def</span> <span class="nf">fastcgi_help</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">FASTCGI_HELP</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">message</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">False</span>

<span class="k">def</span> <span class="nf">runfastcgi</span><span class="p">(</span><span class="n">argset</span><span class="o">=</span><span class="p">[],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">options</span> <span class="o">=</span> <span class="n">FASTCGI_OPTIONS</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">options</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">argset</span><span class="p">:</span>
        <span class="k">if</span> <span class="s">&quot;=&quot;</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
            <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;=&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="bp">True</span>
        <span class="n">options</span><span class="p">[</span><span class="n">k</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span> <span class="o">=</span> <span class="n">v</span>

    <span class="k">if</span> <span class="s">&quot;help&quot;</span> <span class="ow">in</span> <span class="n">options</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fastcgi_help</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">flup</span>
    <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;ERROR: </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">e</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;  Unable to load the flup package.  In order to run django</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;  as a FastCGI application, you will need to get flup from</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;  http://www.saddi.com/software/flup/   If you&#39;ve already</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;  installed flup, then make sure you have it in your PYTHONPATH.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">False</span>

    <span class="n">flup_module</span> <span class="o">=</span> <span class="s">&#39;server.&#39;</span> <span class="o">+</span> <span class="n">options</span><span class="p">[</span><span class="s">&#39;protocol&#39;</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">options</span><span class="p">[</span><span class="s">&#39;method&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;prefork&#39;</span><span class="p">,</span> <span class="s">&#39;fork&#39;</span><span class="p">):</span>
        <span class="n">wsgi_opts</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;maxSpare&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s">&quot;maxspare&quot;</span><span class="p">]),</span>
            <span class="s">&#39;minSpare&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s">&quot;minspare&quot;</span><span class="p">]),</span>
            <span class="s">&#39;maxChildren&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s">&quot;maxchildren&quot;</span><span class="p">]),</span>
            <span class="s">&#39;maxRequests&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s">&quot;maxrequests&quot;</span><span class="p">]),</span>
        <span class="p">}</span>
        <span class="n">flup_module</span> <span class="o">+=</span> <span class="s">&#39;_fork&#39;</span>
    <span class="k">elif</span> <span class="n">options</span><span class="p">[</span><span class="s">&#39;method&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;thread&#39;</span><span class="p">,</span> <span class="s">&#39;threaded&#39;</span><span class="p">):</span>
        <span class="n">wsgi_opts</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;maxSpare&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s">&quot;maxspare&quot;</span><span class="p">]),</span>
            <span class="s">&#39;minSpare&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s">&quot;minspare&quot;</span><span class="p">]),</span>
            <span class="s">&#39;maxThreads&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s">&quot;maxchildren&quot;</span><span class="p">]),</span>
        <span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fastcgi_help</span><span class="p">(</span><span class="s">&quot;ERROR: Implementation must be one of prefork or &quot;</span>
                            <span class="s">&quot;thread.&quot;</span><span class="p">)</span>

    <span class="n">wsgi_opts</span><span class="p">[</span><span class="s">&#39;debug&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s">&#39;debug&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">module</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s">&#39;.</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">flup_module</span><span class="p">,</span> <span class="s">&#39;flup&#39;</span><span class="p">)</span>
        <span class="n">WSGIServer</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">WSGIServer</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;Can&#39;t import flup.&quot;</span> <span class="o">+</span> <span class="n">flup_module</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">False</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>Prep up and go</p></td><td class="code"><div class="highlight"><pre>    <span class="kn">from</span> <span class="nn">django.core.servers.basehttp</span> <span class="kn">import</span> <span class="n">get_internal_wsgi_application</span>

    <span class="k">if</span> <span class="n">options</span><span class="p">[</span><span class="s">&quot;host&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="n">options</span><span class="p">[</span><span class="s">&quot;port&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">options</span><span class="p">[</span><span class="s">&quot;socket&quot;</span><span class="p">]:</span>
        <span class="n">wsgi_opts</span><span class="p">[</span><span class="s">&#39;bindAddress&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s">&quot;host&quot;</span><span class="p">],</span> <span class="nb">int</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s">&quot;port&quot;</span><span class="p">]))</span>
    <span class="k">elif</span> <span class="n">options</span><span class="p">[</span><span class="s">&quot;socket&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">options</span><span class="p">[</span><span class="s">&quot;host&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">options</span><span class="p">[</span><span class="s">&quot;port&quot;</span><span class="p">]:</span>
        <span class="n">wsgi_opts</span><span class="p">[</span><span class="s">&#39;bindAddress&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s">&quot;socket&quot;</span><span class="p">]</span>
    <span class="k">elif</span> <span class="ow">not</span> <span class="n">options</span><span class="p">[</span><span class="s">&quot;socket&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">options</span><span class="p">[</span><span class="s">&quot;host&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">options</span><span class="p">[</span><span class="s">&quot;port&quot;</span><span class="p">]:</span>
        <span class="n">wsgi_opts</span><span class="p">[</span><span class="s">&#39;bindAddress&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fastcgi_help</span><span class="p">(</span><span class="s">&quot;Invalid combination of host, port, socket.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">options</span><span class="p">[</span><span class="s">&quot;daemonize&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span></pre></div></td></tr>


<tr id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><p>Default to daemonizing if we're running on a socket/named pipe.</p></td><td class="code"><div class="highlight"><pre>        <span class="n">daemonize</span> <span class="o">=</span> <span class="p">(</span><span class="n">wsgi_opts</span><span class="p">[</span><span class="s">&#39;bindAddress&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">options</span><span class="p">[</span><span class="s">&quot;daemonize&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;true&#39;</span><span class="p">,</span> <span class="s">&#39;yes&#39;</span><span class="p">,</span> <span class="s">&#39;t&#39;</span><span class="p">):</span>
            <span class="n">daemonize</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">elif</span> <span class="n">options</span><span class="p">[</span><span class="s">&quot;daemonize&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;false&#39;</span><span class="p">,</span> <span class="s">&#39;no&#39;</span><span class="p">,</span> <span class="s">&#39;f&#39;</span><span class="p">):</span>
            <span class="n">daemonize</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">fastcgi_help</span><span class="p">(</span><span class="s">&quot;ERROR: Invalid option for daemonize &quot;</span>
                                <span class="s">&quot;parameter.&quot;</span><span class="p">)</span>

    <span class="n">daemon_kwargs</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">options</span><span class="p">[</span><span class="s">&#39;outlog&#39;</span><span class="p">]:</span>
        <span class="n">daemon_kwargs</span><span class="p">[</span><span class="s">&#39;out_log&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s">&#39;outlog&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">options</span><span class="p">[</span><span class="s">&#39;errlog&#39;</span><span class="p">]:</span>
        <span class="n">daemon_kwargs</span><span class="p">[</span><span class="s">&#39;err_log&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s">&#39;errlog&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">options</span><span class="p">[</span><span class="s">&#39;umask&#39;</span><span class="p">]:</span>
        <span class="n">daemon_kwargs</span><span class="p">[</span><span class="s">&#39;umask&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s">&#39;umask&#39;</span><span class="p">],</span> <span class="mi">8</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">daemonize</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">django.utils.daemonize</span> <span class="kn">import</span> <span class="n">become_daemon</span>
        <span class="n">become_daemon</span><span class="p">(</span><span class="n">our_home_dir</span><span class="o">=</span><span class="n">options</span><span class="p">[</span><span class="s">&quot;workdir&quot;</span><span class="p">],</span> <span class="o">**</span><span class="n">daemon_kwargs</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">options</span><span class="p">[</span><span class="s">&quot;pidfile&quot;</span><span class="p">]:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s">&quot;pidfile&quot;</span><span class="p">],</span> <span class="s">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
            <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%d</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">())</span>

    <span class="n">WSGIServer</span><span class="p">(</span><span class="n">get_internal_wsgi_application</span><span class="p">(),</span> <span class="o">**</span><span class="n">wsgi_opts</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">runfastcgi</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/django",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
